{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/lodash-es/_root.js","webpack:///./node_modules/lodash-es/isBuffer.js","webpack:///./node_modules/lodash-es/_freeGlobal.js","webpack:///./node_modules/lodash-es/_nodeUtil.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/lodash-es/stubFalse.js","webpack:///./images/css-off.png","webpack:///./images/css-off-small.png","webpack:///./images/css-on.png","webpack:///./images/css-on-small.png","webpack:///./node_modules/fast-levenshtein/levenshtein.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/fastest-levenshtein/index.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/lodash-es/fromPairs.js","webpack:///./lib/environment/utils/messaging.js","webpack:///./lib/environment/utils/api.js","webpack:///./lib/environment/background/messaging.js","webpack:///./lib/environment/background/ajax.js","webpack:///./lib/environment/background/auth.js","webpack:///./lib/environment/background/download.js","webpack:///./lib/environment/background/history.js","webpack:///./node_modules/lodash-es/_Symbol.js","webpack:///./node_modules/lodash-es/_getRawTag.js","webpack:///./node_modules/lodash-es/_objectToString.js","webpack:///./node_modules/lodash-es/_baseGetTag.js","webpack:///./node_modules/lodash-es/isObject.js","webpack:///./node_modules/lodash-es/isFunction.js","webpack:///./node_modules/lodash-es/_coreJsData.js","webpack:///./node_modules/lodash-es/_isMasked.js","webpack:///./node_modules/lodash-es/_toSource.js","webpack:///./node_modules/lodash-es/_baseIsNative.js","webpack:///./node_modules/lodash-es/_getValue.js","webpack:///./node_modules/lodash-es/_getNative.js","webpack:///./node_modules/lodash-es/_defineProperty.js","webpack:///./node_modules/lodash-es/_baseAssignValue.js","webpack:///./node_modules/lodash-es/_createBaseFor.js","webpack:///./node_modules/lodash-es/_baseFor.js","webpack:///./node_modules/lodash-es/_baseTimes.js","webpack:///./node_modules/lodash-es/isObjectLike.js","webpack:///./node_modules/lodash-es/_baseIsArguments.js","webpack:///./node_modules/lodash-es/isArguments.js","webpack:///./node_modules/lodash-es/isArray.js","webpack:///./node_modules/lodash-es/_isIndex.js","webpack:///./node_modules/lodash-es/isLength.js","webpack:///./node_modules/lodash-es/_baseIsTypedArray.js","webpack:///./node_modules/lodash-es/_baseUnary.js","webpack:///./node_modules/lodash-es/isTypedArray.js","webpack:///./node_modules/lodash-es/_arrayLikeKeys.js","webpack:///./node_modules/lodash-es/_isPrototype.js","webpack:///./node_modules/lodash-es/_overArg.js","webpack:///./node_modules/lodash-es/_nativeKeys.js","webpack:///./node_modules/lodash-es/_baseKeys.js","webpack:///./node_modules/lodash-es/isArrayLike.js","webpack:///./node_modules/lodash-es/keys.js","webpack:///./node_modules/lodash-es/_baseForOwn.js","webpack:///./node_modules/lodash-es/_listCacheClear.js","webpack:///./node_modules/lodash-es/eq.js","webpack:///./node_modules/lodash-es/_assocIndexOf.js","webpack:///./node_modules/lodash-es/_listCacheDelete.js","webpack:///./node_modules/lodash-es/_listCacheGet.js","webpack:///./node_modules/lodash-es/_listCacheHas.js","webpack:///./node_modules/lodash-es/_listCacheSet.js","webpack:///./node_modules/lodash-es/_ListCache.js","webpack:///./node_modules/lodash-es/_stackClear.js","webpack:///./node_modules/lodash-es/_stackDelete.js","webpack:///./node_modules/lodash-es/_stackGet.js","webpack:///./node_modules/lodash-es/_stackHas.js","webpack:///./node_modules/lodash-es/_Map.js","webpack:///./node_modules/lodash-es/_nativeCreate.js","webpack:///./node_modules/lodash-es/_hashClear.js","webpack:///./node_modules/lodash-es/_hashDelete.js","webpack:///./node_modules/lodash-es/_hashGet.js","webpack:///./node_modules/lodash-es/_hashHas.js","webpack:///./node_modules/lodash-es/_hashSet.js","webpack:///./node_modules/lodash-es/_Hash.js","webpack:///./node_modules/lodash-es/_mapCacheClear.js","webpack:///./node_modules/lodash-es/_isKeyable.js","webpack:///./node_modules/lodash-es/_getMapData.js","webpack:///./node_modules/lodash-es/_mapCacheDelete.js","webpack:///./node_modules/lodash-es/_mapCacheGet.js","webpack:///./node_modules/lodash-es/_mapCacheHas.js","webpack:///./node_modules/lodash-es/_mapCacheSet.js","webpack:///./node_modules/lodash-es/_MapCache.js","webpack:///./node_modules/lodash-es/_stackSet.js","webpack:///./node_modules/lodash-es/_Stack.js","webpack:///./node_modules/lodash-es/_setCacheAdd.js","webpack:///./node_modules/lodash-es/_setCacheHas.js","webpack:///./node_modules/lodash-es/_SetCache.js","webpack:///./node_modules/lodash-es/_arraySome.js","webpack:///./node_modules/lodash-es/_cacheHas.js","webpack:///./node_modules/lodash-es/_equalArrays.js","webpack:///./node_modules/lodash-es/_Uint8Array.js","webpack:///./node_modules/lodash-es/_mapToArray.js","webpack:///./node_modules/lodash-es/_setToArray.js","webpack:///./node_modules/lodash-es/_equalByTag.js","webpack:///./node_modules/lodash-es/_arrayPush.js","webpack:///./node_modules/lodash-es/_baseGetAllKeys.js","webpack:///./node_modules/lodash-es/_arrayFilter.js","webpack:///./node_modules/lodash-es/stubArray.js","webpack:///./node_modules/lodash-es/_getSymbols.js","webpack:///./node_modules/lodash-es/_getAllKeys.js","webpack:///./node_modules/lodash-es/_equalObjects.js","webpack:///./node_modules/lodash-es/_DataView.js","webpack:///./node_modules/lodash-es/_Promise.js","webpack:///./node_modules/lodash-es/_Set.js","webpack:///./node_modules/lodash-es/_WeakMap.js","webpack:///./node_modules/lodash-es/_getTag.js","webpack:///./node_modules/lodash-es/_baseIsEqualDeep.js","webpack:///./node_modules/lodash-es/_baseIsEqual.js","webpack:///./node_modules/lodash-es/_baseIsMatch.js","webpack:///./node_modules/lodash-es/_isStrictComparable.js","webpack:///./node_modules/lodash-es/_getMatchData.js","webpack:///./node_modules/lodash-es/_matchesStrictComparable.js","webpack:///./node_modules/lodash-es/_baseMatches.js","webpack:///./node_modules/lodash-es/isSymbol.js","webpack:///./node_modules/lodash-es/_isKey.js","webpack:///./node_modules/lodash-es/memoize.js","webpack:///./node_modules/lodash-es/_memoizeCapped.js","webpack:///./node_modules/lodash-es/_stringToPath.js","webpack:///./node_modules/lodash-es/_arrayMap.js","webpack:///./node_modules/lodash-es/_baseToString.js","webpack:///./node_modules/lodash-es/toString.js","webpack:///./node_modules/lodash-es/_castPath.js","webpack:///./node_modules/lodash-es/_toKey.js","webpack:///./node_modules/lodash-es/_baseGet.js","webpack:///./node_modules/lodash-es/get.js","webpack:///./node_modules/lodash-es/_baseHasIn.js","webpack:///./node_modules/lodash-es/_hasPath.js","webpack:///./node_modules/lodash-es/hasIn.js","webpack:///./node_modules/lodash-es/_baseMatchesProperty.js","webpack:///./node_modules/lodash-es/identity.js","webpack:///./node_modules/lodash-es/_baseProperty.js","webpack:///./node_modules/lodash-es/_basePropertyDeep.js","webpack:///./node_modules/lodash-es/property.js","webpack:///./node_modules/lodash-es/_baseIteratee.js","webpack:///./node_modules/lodash-es/mapValues.js","webpack:///./locales/locales/index.js","webpack:///./locales/index.js","webpack:///./lib/environment/background/i18n.js","webpack:///./lib/environment/background/loadScript.js","webpack:///./lib/environment/background/localePersistor.js","webpack:///./lib/environment/background/multicast.js","webpack:///./lib/environment/background/pageAction.js","webpack:///./lib/environment/background/permissions.js","webpack:///./lib/environment/background/session.js","webpack:///./node_modules/lodash-es/last.js","webpack:///./node_modules/lodash-es/_baseSlice.js","webpack:///./node_modules/lodash-es/_parent.js","webpack:///./node_modules/lodash-es/_baseUnset.js","webpack:///./node_modules/lodash-es/_basePullAt.js","webpack:///./node_modules/lodash-es/remove.js","webpack:///./node_modules/lodash-es/_metaMap.js","webpack:///./node_modules/lodash-es/_baseSetData.js","webpack:///./node_modules/lodash-es/_baseCreate.js","webpack:///./node_modules/lodash-es/_createCtor.js","webpack:///./node_modules/lodash-es/_createBind.js","webpack:///./node_modules/lodash-es/_apply.js","webpack:///./node_modules/lodash-es/_composeArgs.js","webpack:///./node_modules/lodash-es/_composeArgsRight.js","webpack:///./node_modules/lodash-es/_countHolders.js","webpack:///./node_modules/lodash-es/_baseLodash.js","webpack:///./node_modules/lodash-es/_LazyWrapper.js","webpack:///./node_modules/lodash-es/noop.js","webpack:///./node_modules/lodash-es/_getData.js","webpack:///./node_modules/lodash-es/_realNames.js","webpack:///./node_modules/lodash-es/_getFuncName.js","webpack:///./node_modules/lodash-es/_LodashWrapper.js","webpack:///./node_modules/lodash-es/_copyArray.js","webpack:///./node_modules/lodash-es/_wrapperClone.js","webpack:///./node_modules/lodash-es/wrapperLodash.js","webpack:///./node_modules/lodash-es/_isLaziable.js","webpack:///./node_modules/lodash-es/_shortOut.js","webpack:///./node_modules/lodash-es/_setData.js","webpack:///./node_modules/lodash-es/_getWrapDetails.js","webpack:///./node_modules/lodash-es/_insertWrapDetails.js","webpack:///./node_modules/lodash-es/constant.js","webpack:///./node_modules/lodash-es/_baseSetToString.js","webpack:///./node_modules/lodash-es/_setToString.js","webpack:///./node_modules/lodash-es/_arrayEach.js","webpack:///./node_modules/lodash-es/_baseFindIndex.js","webpack:///./node_modules/lodash-es/_baseIsNaN.js","webpack:///./node_modules/lodash-es/_strictIndexOf.js","webpack:///./node_modules/lodash-es/_baseIndexOf.js","webpack:///./node_modules/lodash-es/_arrayIncludes.js","webpack:///./node_modules/lodash-es/_updateWrapDetails.js","webpack:///./node_modules/lodash-es/_setWrapToString.js","webpack:///./node_modules/lodash-es/_createRecurry.js","webpack:///./node_modules/lodash-es/_getHolder.js","webpack:///./node_modules/lodash-es/_reorder.js","webpack:///./node_modules/lodash-es/_replaceHolders.js","webpack:///./node_modules/lodash-es/_createHybrid.js","webpack:///./node_modules/lodash-es/_createCurry.js","webpack:///./node_modules/lodash-es/_createPartial.js","webpack:///./node_modules/lodash-es/_mergeData.js","webpack:///./node_modules/lodash-es/toNumber.js","webpack:///./node_modules/lodash-es/toFinite.js","webpack:///./node_modules/lodash-es/toInteger.js","webpack:///./node_modules/lodash-es/_createWrap.js","webpack:///./node_modules/lodash-es/curryRight.js","webpack:///./node_modules/lodash-es/before.js","webpack:///./node_modules/lodash-es/once.js","webpack:///./node_modules/lodash-es/now.js","webpack:///./node_modules/lodash-es/debounce.js","webpack:///./node_modules/lodash-es/_overRest.js","webpack:///./node_modules/lodash-es/_baseRest.js","webpack:///./node_modules/lodash-es/_baseIndexOfWith.js","webpack:///./node_modules/lodash-es/_basePullAll.js","webpack:///./node_modules/lodash-es/pullAll.js","webpack:///./node_modules/lodash-es/pull.js","webpack:///./lib/utils/generator.js","webpack:///./lib/utils/async.js","webpack:///./lib/environment/background/storage.js","webpack:///./lib/environment/background/tabs.js","webpack:///./lib/utils/Cache.js","webpack:///./lib/environment/background/xhrCache.js","webpack:///./lib/environment/background/ajax.js?f9d8","webpack:///./node_modules/lodash-es/_arrayIncludesWith.js","webpack:///./node_modules/lodash-es/_createSet.js","webpack:///./node_modules/lodash-es/_baseUniq.js","webpack:///./node_modules/lodash-es/uniqBy.js","webpack:///./node_modules/lodash-es/mapKeys.js","webpack:///./node_modules/lodash-es/_baseWhile.js","webpack:///./node_modules/lodash-es/takeRightWhile.js","webpack:///./lib/utils/time.js","webpack:///./node_modules/lodash-es/_arrayAggregator.js","webpack:///./node_modules/lodash-es/_createBaseEach.js","webpack:///./node_modules/lodash-es/_baseEach.js","webpack:///./node_modules/lodash-es/_baseAggregator.js","webpack:///./node_modules/lodash-es/_createAggregator.js","webpack:///./node_modules/lodash-es/partition.js","webpack:///./node_modules/lodash-es/_assignValue.js","webpack:///./node_modules/lodash-es/_baseSet.js","webpack:///./node_modules/lodash-es/_basePickBy.js","webpack:///./node_modules/lodash-es/_basePick.js","webpack:///./node_modules/lodash-es/_isFlattenable.js","webpack:///./node_modules/lodash-es/_baseFlatten.js","webpack:///./node_modules/lodash-es/flatten.js","webpack:///./node_modules/lodash-es/_flatRest.js","webpack:///./node_modules/lodash-es/pick.js","webpack:///./node_modules/lodash-es/_copyObject.js","webpack:///./node_modules/lodash-es/_isIterateeCall.js","webpack:///./node_modules/lodash-es/_createAssigner.js","webpack:///./node_modules/lodash-es/_nativeKeysIn.js","webpack:///./node_modules/lodash-es/_baseKeysIn.js","webpack:///./node_modules/lodash-es/keysIn.js","webpack:///./node_modules/lodash-es/assignIn.js","webpack:///./lib/utils/flow.js","webpack:///./lib/utils/dom.js","webpack:///./lib/utils/location.js","webpack:///./node_modules/lodash-es/isArrayLikeObject.js","webpack:///./node_modules/lodash-es/unzip.js","webpack:///./node_modules/lodash-es/unzipWith.js","webpack:///./node_modules/lodash-es/zipWith.js","webpack:///./lib/utils/html.js","webpack:///./lib/utils/string.js","webpack:///./lib/utils/user.js","webpack:///./lib/environment/foreground/context.js","webpack:///./lib/environment/foreground/messaging.js","webpack:///./lib/environment/foreground/privateBrowsing.js","webpack:///./lib/environment/foreground/history.js","webpack:///./lib/environment/foreground/xhrCache.js","webpack:///./lib/environment/foreground/ajax.js","webpack:///./lib/environment/foreground/download.js","webpack:///./lib/environment/foreground/id.js","webpack:///./lib/constants/localStorage.js","webpack:///./build/buildToken.js","webpack:///./lib/environment/foreground/i18n.js","webpack:///./lib/environment/foreground/loadScript.js","webpack:///./lib/environment/foreground/permissions.js","webpack:///./lib/environment/foreground/auth.js","webpack:///./lib/environment/foreground/multicast.js","webpack:///./lib/environment/foreground/tabs.js","webpack:///./lib/environment/foreground/pageAction.js","webpack:///./lib/environment/foreground/session.js","webpack:///./node_modules/lodash-es/_getPrototype.js","webpack:///./node_modules/lodash-es/transform.js","webpack:///./lib/utils/object.js","webpack:///./lib/environment/foreground/storage.js","webpack:///./lib/environment/index.js","webpack:///./lib/utils/array.js","webpack:///./lib/core/modules/storage.js","webpack:///./lib/core/module.js","webpack:///./lib/core/options/storage.js","webpack:///./node_modules/lodash-es/isEqual.js","webpack:///./lib/core/migrate/migrators.js","webpack:///./lib/core/migrate/migrate.js","webpack:///./lib/background.entry.js"],"names":["freeSelf","self","Object","root","freeGlobal","Function","freeExports","exports","nodeType","freeModule","module","moduleExports","Buffer","undefined","nativeIsBuffer","isBuffer","stubFalse","global","freeProcess","process","nodeUtil","types","require","binding","e","originalModule","webpackPolyfill","create","children","defineProperty","enumerable","get","l","i","collator","Intl","Collator","sensitivity","err","console","log","levenshtein","prevRow","str2Char","Levenshtein","str1","str2","options","useCollator","str1Len","length","str2Len","curCol","nextCol","j","tmp","charCodeAt","strCmp","compare","charAt","String","fromCharCode","distance","define","postMessage","importScripts","window","deprecate","paths","peq","Uint32Array","myers_32","a","b","n","m","lst","pv","mv","sc","eq","xv","myers_x","mhc","phc","hsize","Math","ceil","vsize","score","start","end","min","k","pb","mb","xh","ph","mh","closest","str","arr","min_distance","Infinity","min_index","dist","fromPairs","pairs","index","result","pair","MessageHandlerError","Error","constructor","message","stack","createMessageHandler","_sendMessage","errorOnUnrecognizedTypes","listeners","Map","_handleMessage","type","data","sendResponse","context","listener","error","response","Promise","then","sendMessage","newData","addListener","callback","has","set","apiToPromise","func","args","resolve","reject","results","chrome","runtime","lastError","tabs","obj","tabId","onMessage","sender","method","url","headers","credentials","rawResponse","fetch","body","ok","status","Array","from","entries","text","domain","clientId","scope","interactive","redirectUri","URL","searchParams","emulateAuthFlowInNewWindow","href","emulateAuthFlowInBackground","id","windows","updateListener","updates","startsWith","stopListening","remove","removeListener","onUpdated","onRemoved","headersListener","redirectUrl","webRequest","onBeforeRedirect","urls","filename","tab","incognito","downloads","download","history","addUrl","visits","getVisits","Symbol","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","getRawTag","value","isOwn","call","tag","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","isObject","asyncTag","funcTag","genTag","proxyTag","isFunction","coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","isMasked","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","reIsNative","RegExp","replace","baseIsNative","pattern","test","getValue","object","key","getNative","baseAssignValue","createBaseFor","fromRight","iteratee","keysFunc","iterable","props","baseFor","baseTimes","isObjectLike","argsTag","baseIsArguments","propertyIsEnumerable","isArguments","arguments","isArray","MAX_SAFE_INTEGER","reIsUint","isIndex","isLength","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","nodeIsTypedArray","isTypedArray","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","push","isPrototype","Ctor","proto","overArg","transform","arg","nativeKeys","baseKeys","isArrayLike","baseForOwn","listCacheClear","__data__","size","other","assocIndexOf","array","arrayProto","splice","listCacheDelete","lastIndex","pop","listCacheGet","listCacheHas","listCacheSet","ListCache","clear","entry","stackClear","stackDelete","stackGet","stackHas","nativeCreate","hashClear","hashDelete","HASH_UNDEFINED","hashGet","hashHas","hashSet","Hash","mapCacheClear","isKeyable","getMapData","map","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","LARGE_ARRAY_SIZE","stackSet","Stack","setCacheAdd","setCacheHas","SetCache","values","add","arraySome","predicate","cacheHas","cache","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","bitmask","customizer","equalFunc","isPartial","arrLength","othLength","stacked","seen","arrValue","othValue","compared","othIndex","Uint8Array","mapToArray","forEach","setToArray","symbolTag","symbolProto","symbolValueOf","valueOf","equalByTag","byteLength","byteOffset","buffer","name","convert","arrayPush","offset","baseGetAllKeys","symbolsFunc","arrayFilter","resIndex","stubArray","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","getAllKeys","equalObjects","objProps","objLength","othProps","skipCtor","objValue","objCtor","othCtor","DataView","Set","WeakMap","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","ctorString","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqual","baseIsMatch","source","matchData","noCustomizer","srcValue","isStrictComparable","getMatchData","matchesStrictComparable","baseMatches","isSymbol","reIsDeepProp","reIsPlainProp","isKey","FUNC_ERROR_TEXT","memoize","resolver","TypeError","memoized","apply","Cache","MAX_MEMOIZE_SIZE","memoizeCapped","rePropName","reEscapeChar","stringToPath","string","match","number","quote","subString","arrayMap","INFINITY","symbolToString","baseToString","castPath","toKey","baseGet","path","defaultValue","baseHasIn","hasPath","hasFunc","hasIn","baseMatchesProperty","identity","baseProperty","basePropertyDeep","property","baseIteratee","mapValues","de","el","en","en_lolcat","en_pirate","en_CA","en_GB","es","es_419","he","it","nl_NL","pl","pt","pt_BR","pt_PT","redditLocaleToTransifexLocale","redditLocale","normalized","inx","indexOf","slice","toUpperCase","getLocaleDictionary","localeName","transifexLocale","mergedLocales","locales","x","locale","frameId","executeScript","file","runAt","lastRedditLocale","navigator","language","v","crossContext","CONTEXT_KEY","redditTabs","query","nonSelfTabsInSameContext","filter","all","pageAction","onClicked","operation","state","show","setIcon","cssOnSmall","cssOffSmall","cssOn","cssOff","setTitle","title","hide","handleMessage","permissions","origins","contains","request","catch","makePromptWindow","location","origin","JSON","stringify","width","height","left","floor","screen","top","parse","session","delete","last","baseSlice","parent","baseUnset","basePullAt","indexes","previous","metaMap","baseSetData","objectCreate","baseCreate","createCtor","thisBinding","WRAP_BIND_FLAG","createBind","thisArg","wrapper","fn","nativeMax","max","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","composeArgsRight","holdersIndex","rightIndex","rightLength","countHolders","placeholder","baseLodash","MAX_ARRAY_LENGTH","LazyWrapper","__wrapped__","__actions__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","noop","getData","realNames","getFuncName","otherFunc","LodashWrapper","chainAll","__chain__","__index__","__values__","copyArray","wrapperClone","clone","lodash","isLaziable","funcName","HOT_COUNT","HOT_SPAN","nativeNow","Date","now","shortOut","count","lastCalled","stamp","remaining","setData","reWrapDetails","reSplitDetails","getWrapDetails","split","reWrapComment","insertWrapDetails","details","join","constant","baseSetToString","setToString","arrayEach","baseFindIndex","fromIndex","baseIsNaN","strictIndexOf","baseIndexOf","arrayIncludes","WRAP_BIND_KEY_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","WRAP_FLIP_FLAG","wrapFlags","updateWrapDetails","sort","setWrapToString","reference","WRAP_CURRY_BOUND_FLAG","createRecurry","wrapFunc","argPos","ary","arity","isCurry","newHolders","newHoldersRight","newPartials","newPartialsRight","getHolder","nativeMin","reorder","oldArray","PLACEHOLDER","replaceHolders","createHybrid","partialsRight","holdersRight","isBindKey","holdersCount","reverse","createCurry","createPartial","mergeData","srcBitmask","newBitmask","isCommon","isCombo","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","isBinary","MAX_INTEGER","toFinite","sign","toInteger","remainder","createWrap","setter","curryRight","guard","before","once","debounce","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","overRest","otherArgs","baseRest","baseIndexOfWith","comparator","basePullAll","computed","pullAll","pull","range","zip","iterables","generators","iterator","gen","next","some","r","done","waitFor","interval","repeat","val","forEachChunked","queues","run","frameThrottle","performance","generator","return","collection","batch","delay","flushBeforeUnload","invoke","batchAccumulator","promises","addPromise","startNewBatch","timeout","throttle","lastPromise","currentBatch","addEventListener","always","promise","fastAsync","throwing","throw","Reflect","asyncFlow","firstFn","fns","accum","reifyPromise","keyedMutex","keyResolver","tail","mutex","queue","frameDebounce","update","requestAnimationFrame","res","rej","throttleQueuePositionReset","queued","idleThrottle","requestIdleCallback","__set","items","storage","local","_set","__get","_get","oldValue","newValue","storedValue","focusIndex","active","openerTabId","LRUCache","capacity","maxAge","createTime","hitTime","arrayIncludesWith","createSet","baseUniq","includes","outer","seenIndex","uniqBy","mapKeys","baseWhile","isDrop","takeRightWhile","MINUTE","HOUR","DAY","WEEK","fromSecondsToTime","timeInSeconds","minutes","hours","unshift","part","padStart","arrayAggregator","accumulator","createBaseEach","eachFunc","baseEach","baseAggregator","createAggregator","initializer","partition","assignValue","baseSet","nested","basePickBy","basePick","spreadableSymbol","isConcatSpreadable","isFlattenable","baseFlatten","depth","isStrict","flatten","flatRest","pick","copyObject","isNew","isIterateeCall","createAssigner","assigner","sources","nativeKeysIn","baseKeysIn","isProto","keysIn","assignIn","downcast","ty","waitForEvent","ele","events","race","event","fire","removeEventListener","waitForChild","selector","child","find","matches","observer","MutationObserver","mutations","mutation","node","addedNodes","Node","ELEMENT_NODE","disconnect","HTMLElement","observe","childList","watchForChildren","watchForFutureChildren","waitForDescendant","querySelector","subtree","waitForFutureDescendant","added","removed","removedNodes","waitForAttach","waitForDetach","document","documentElement","watchForDescendants","ignoreChildrenIfAddedNodeMatches","querySelectorAll","watchForFutureDescendants","empty","lastChild","removeChild","click","button","dispatchEvent","MouseEvent","bubbles","cancelable","detail","screenX","screenY","clientX","clientY","isProgrammaticEvent","getViewportSize","visualViewport","viewportSizedElement","createElement","style","position","appendChild","getBoundingClientRect","elementInViewport","offsetParent","bottom","right","getViewportDimensions","headerOffset","getHeaderOffset","pageXOffset","pageYOffset","yOffset","getPercentageVisibleYAxis","rect","padBottom","element","scrollTop","viewportHeight","currentPadding","clientHeight","paddingRequired","scrollHeight","append","recentScroll","scrollInvokationToken","scrollToElement","to","scrollStyle","restrictDirectionTo","direction","selectedDirection","anchor","waitTillVisible","_scrollInvokationToken","diff","scrollBy","viewport","target","compensateHeader","scrollY","fromTop","newScrollY","viewportDirection","scollDirection","scrollTo","headerIds","fullWidth","partialWidth","_addHeaderId","elementId","includePartialWidthHeaders","getElementById","reduce","getD2xBodyOffset","offsetTop","addCSS","css","addStyle","textContent","head","preventCloning","attribute","elements","WeakSet","setAttribute","matchesPageLocation","excludes","includeStrings","includeRegExps","excludeStrings","excludeRegExps","isPageType","isAppType","matchesPageRegex","regexes","frontpage","comments","commentsLinklist","inbox","profile","profile2x","profileCommentsPage","submit","prefs","account","wiki","stylesheet","search","commentPermalink","duplicates","subreddit","subredditAbout","modqueue","multireddit","composeMessage","liveThread","execRegexes","appType","hasAttribute","getAttribute","thisApp","appPageTypes","r2","default","pageTypes","d2x","pageType","spec","pathname","thisPage","regexps","regex","currentSubreddit","isCurrentSubreddit","subreddits","sub","toLowerCase","currentMultireddit","isCurrentMultireddit","multireddits","multi","currentDomain","currentUserProfile","fullLocation","COMMENT_CODE_REGEX","isCommentCode","link","emptyText","isEmptyLink","inQuarantinedSubreddit","classList","isArrayLikeObject","unzip","group","unzipWith","zipWith","arrays","escapeLookups","escapeHTML","stringTagFunction","valueTransform","strings","s","encode","encodeURIComponent","escape","safe","__safe__","MAX_DISTANCE_RATIO","areSimilar","regexRegex","htmlTagFunction","html","markup","template","innerHTML","childElementCount","firstElementChild","_html","isLoggedIn","loggedInUser","documentLoggedInUser","findFirstTextNode","childNodes","concat","username","isModeratorAnywhere","loggedInUserHash","hashEle","HTMLInputElement","userInfo","loggedInUserInfo","modhash","ajax","usernameRE","usernameSelector","getUsernameFromLink","HTMLAnchorElement","endsWith","getUserInfo","cacheFor","userHash","establish","contentStart","protocol","hash","retrieveFromParent","assign","isPrivateBrowsing","extension","inIncognitoContext","addURLToHistory","isURLVisited","check","delete_","FetchError","sameOrigin","buildRequestParams","cached","XhrCache","processResponse","invalidate","siteOrigin","requestURL","sameSite","hostname","URLSearchParams","getExtensionId","getURL","getOptionsURL","isOptionsPage","CACHED_LANG_KEY","CACHED_MESSAGES_KEY","CACHED_MESSAGES_TOKEN_KEY","REDDIT_LANGUAGES","SPECIAL_LANGUAGES","isValidLocale","localeString","toLocaleString","getRedditLocale","messages","_loadI18n","localStorage","getItem","buildToken","setItem","removeItem","i18n","messageName","substitutions","loadScript","filterPerms","perms","p","granted","launchAuthFlow","warnUserInteraction","Permissions","resAuth","responseUrl","token","callbacks","multicast","localOnly","openNewTab","focus","openNewTabs","clickListeners","onClick","getPrototype","getPrototypeOf","isArrLike","extendDeep","_delete","_clear","withLockOn","getAll","getMultiple","defaults","setMultiple","valueMap","compareAndSet","patch","extended","patchShallow","deletePaths","stored","deleteMultiple","sentinel","random","Wrapper","def","_key","_default","deletePath","wrap","keyGenerator","PrefixWrapper","prefix","keyMapper","batching","_prefix","_keyMapper","getMultipleNullable","_keyGen","getNullable","everything","acc","rawValues","wrapPrefix","destructiveKeyMapper","BlobWrapper","rootKey","_rootKey","wrapBlob","forEachSeq","asyncFilter","shouldKeep","asyncReduce","initialValue","asyncFind","concurrentFold","baseCase","onResolve","onReject","asyncSome","asyncEvery","filterMap","mapped","Storage","setEnabled","moduleId","enable","Module","moduleID","moduleName","category","description","descriptionRaw","keywords","bodyClass","include","exclude","shouldRun","onToggle","onSaveSettings","hidden","disabledByDefault","alwaysEnabled","onInit","beforeLoad","go","afterLoad","requiredPermissions","getModuleId","opaqueId","loadRaw","optionKey","option","isEqual","updateOption","optionName","formerDefaultValue","valueOrFunction","Options","optionMatchesFormerDefaultValue","updateValue","forceUpdateOption","moveOption","oldModuleID","oldOptionName","newModuleID","newOptionName","moveStorageToOption","oldKey","migrations","versionNumber","Migrators","macroVersion","previewOptions","commentingAs","keyboardShortcuts","subredditAutocomplete","macros","macro","storedComments","newFormat","storedComment","urlSplit","thisID","userTags","updateTagStorageCaseInsensitive","substr","tags","usernames","lower","destination","votes","color","ignore","notificationsOptions","sticky","keyNavOptions","fg","focusFGColorNight","bg","focusBGColorNight","backgroundColor","fgCalculated","bgCalculated","updateFadeSpeed","isNaN","toFixed","rows","modId","notificationId","cacheKeyParts","sectionLinks","row","hideFloatingPauseButton","every","shouldHideTagline","filteredRows","notificationTypes","Modules","remappedTags","remappedEntries","launchFromMenu","hiddenThings","page","collapsedThings","updateTime","subscriptions","subscriptionDate","votesUp","votesDown","deleteProperty","ignored","selectedEntry","convertPatt","patt","f","visible","filters","criterion","customFilters","of","traverseAndUpdate","customFiltersP","customFiltersC","ondemand","opts","ignoredUsers","migrateFilters","effects","sideEffects","lastUsed","migrateRepair","allHidden","hardIgnoreOption","hardIgnore","usersMatchAction","instances","instance","firstRunStorage","versions","localeCompare","numerical","_migrationsToRun","getMigrationsToRun","migrate","currentMigration","lastMigratedVersion","getLastMigratedVersion","RESOptionsVersion","warn"],"mappings":"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","file":"background.entry.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 32);\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","module.exports = __webpack_public_path__ + \"css-off.png\";","module.exports = __webpack_public_path__ + \"css-off-small.png\";","module.exports = __webpack_public_path__ + \"css-on.png\";","module.exports = __webpack_public_path__ + \"css-on-small.png\";","(function() {\n  'use strict';\n  \n  var collator;\n  try {\n    collator = (typeof Intl !== \"undefined\" && typeof Intl.Collator !== \"undefined\") ? Intl.Collator(\"generic\", { sensitivity: \"base\" }) : null;\n  } catch (err){\n    console.log(\"Collator could not be initialized and wouldn't be used\");\n  }\n\n  var levenshtein = require('fastest-levenshtein');\n\n  // arrays to re-use\n  var prevRow = [],\n    str2Char = [];\n  \n  /**\n   * Based on the algorithm at http://en.wikipedia.org/wiki/Levenshtein_distance.\n   */\n  var Levenshtein = {\n    /**\n     * Calculate levenshtein distance of the two strings.\n     *\n     * @param str1 String the first string.\n     * @param str2 String the second string.\n     * @param [options] Additional options.\n     * @param [options.useCollator] Use `Intl.Collator` for locale-sensitive string comparison.\n     * @return Integer the levenshtein distance (0 and above).\n     */\n    get: function(str1, str2, options) {\n      var useCollator = (options && collator && options.useCollator);\n      \n      if (useCollator) {\n        var str1Len = str1.length,\n          str2Len = str2.length;\n        \n        // base cases\n        if (str1Len === 0) return str2Len;\n        if (str2Len === 0) return str1Len;\n\n        // two rows\n        var curCol, nextCol, i, j, tmp;\n\n        // initialise previous row\n        for (i=0; i<str2Len; ++i) {\n          prevRow[i] = i;\n          str2Char[i] = str2.charCodeAt(i);\n        }\n        prevRow[str2Len] = str2Len;\n\n        var strCmp;\n        // calculate current row distance from previous row using collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = 0 === collator.compare(str1.charAt(i), String.fromCharCode(str2Char[j]));\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n        return nextCol;\n      }\n      return levenshtein.distance(str1, str2);\n    }\n\n  };\n\n  // amd\n  if (typeof define !== \"undefined\" && define !== null && define.amd) {\n    define(function() {\n      return Levenshtein;\n    });\n  }\n  // commonjs\n  else if (typeof module !== \"undefined\" && module !== null && typeof exports !== \"undefined\" && module.exports === exports) {\n    module.exports = Levenshtein;\n  }\n  // web worker\n  else if (typeof self !== \"undefined\" && typeof self.postMessage === 'function' && typeof self.importScripts === 'function') {\n    self.Levenshtein = Levenshtein;\n  }\n  // browser main thread\n  else if (typeof window !== \"undefined\" && window !== null) {\n    window.Levenshtein = Levenshtein;\n  }\n}());\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","\"use strict\";\nconst peq = new Uint32Array(0x10000);\nconst myers_32 = (a, b) => {\n  const n = a.length;\n  const m = b.length;\n  const lst = 1 << (n - 1);\n  let pv = -1;\n  let mv = 0;\n  let sc = n;\n  let i = n;\n  while (i--) {\n    peq[a.charCodeAt(i)] |= 1 << i;\n  }\n  for (i = 0; i < m; i++) {\n    let eq = peq[b.charCodeAt(i)];\n    const xv = eq | mv;\n    eq |= ((eq & pv) + pv) ^ pv;\n    mv |= ~(eq | pv);\n    pv &= eq;\n    if (mv & lst) {\n      sc++;\n    }\n    if (pv & lst) {\n      sc--;\n    }\n    mv = (mv << 1) | 1;\n    pv = (pv << 1) | ~(xv | mv);\n    mv &= xv;\n  }\n  i = n;\n  while (i--) {\n    peq[a.charCodeAt(i)] = 0;\n  }\n  return sc;\n};\n\nconst myers_x = (a, b) => {\n  const n = a.length;\n  const m = b.length;\n  const mhc = [];\n  const phc = [];\n  const hsize = Math.ceil(n / 32);\n  const vsize = Math.ceil(m / 32);\n  let score = m;\n  for (let i = 0; i < hsize; i++) {\n    phc[i] = -1;\n    mhc[i] = 0;\n  }\n  let j = 0;\n  for (; j < vsize - 1; j++) {\n    let mv = 0;\n    let pv = -1;\n    const start = j * 32;\n    const end = Math.min(32, m) + start;\n    for (let k = start; k < end; k++) {\n      peq[b.charCodeAt(k)] |= 1 << k;\n    }\n    score = m;\n    for (let i = 0; i < n; i++) {\n      const eq = peq[a.charCodeAt(i)];\n      const pb = (phc[(i / 32) | 0] >>> i) & 1;\n      const mb = (mhc[(i / 32) | 0] >>> i) & 1;\n      const xv = eq | mv;\n      const xh = ((((eq | mb) & pv) + pv) ^ pv) | eq | mb;\n      let ph = mv | ~(xh | pv);\n      let mh = pv & xh;\n      if ((ph >>> 31) ^ pb) {\n        phc[(i / 32) | 0] ^= 1 << i;\n      }\n      if ((mh >>> 31) ^ mb) {\n        mhc[(i / 32) | 0] ^= 1 << i;\n      }\n      ph = (ph << 1) | pb;\n      mh = (mh << 1) | mb;\n      pv = mh | ~(xv | ph);\n      mv = ph & xv;\n    }\n    for (let k = start; k < end; k++) {\n      peq[b.charCodeAt(k)] = 0;\n    }\n  }\n  let mv = 0;\n  let pv = -1;\n  const start = j * 32;\n  const end = Math.min(32, m - start) + start;\n  for (let k = start; k < end; k++) {\n    peq[b.charCodeAt(k)] |= 1 << k;\n  }\n  score = m;\n  for (let i = 0; i < n; i++) {\n    const eq = peq[a.charCodeAt(i)];\n    const pb = (phc[(i / 32) | 0] >>> i) & 1;\n    const mb = (mhc[(i / 32) | 0] >>> i) & 1;\n    const xv = eq | mv;\n    const xh = ((((eq | mb) & pv) + pv) ^ pv) | eq | mb;\n    let ph = mv | ~(xh | pv);\n    let mh = pv & xh;\n    score += (ph >>> (m - 1)) & 1;\n    score -= (mh >>> (m - 1)) & 1;\n    if ((ph >>> 31) ^ pb) {\n      phc[(i / 32) | 0] ^= 1 << i;\n    }\n    if ((mh >>> 31) ^ mb) {\n      mhc[(i / 32) | 0] ^= 1 << i;\n    }\n    ph = (ph << 1) | pb;\n    mh = (mh << 1) | mb;\n    pv = mh | ~(xv | ph);\n    mv = ph & xv;\n  }\n  for (let k = start; k < end; k++) {\n    peq[b.charCodeAt(k)] = 0;\n  }\n  return score;\n};\n\nconst distance = (a, b) => {\n  if (a.length > b.length) {\n    const tmp = b;\n    b = a;\n    a = tmp;\n  }\n  if (a.length === 0) {\n    return b.length;\n  }\n  if (a.length <= 32) {\n    return myers_32(a, b);\n  }\n  return myers_x(a, b);\n};\n\nconst closest = (str, arr) => {\n  let min_distance = Infinity;\n  let min_index = 0;\n  for (let i = 0; i < arr.length; i++) {\n    const dist = distance(str, arr[i]);\n    if (dist < min_distance) {\n      min_distance = dist;\n      min_index = i;\n    }\n  }\n  return arr[min_index];\n};\n\nmodule.exports = {\n  closest, distance\n}\n","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nexport default fromPairs;\n","/* @flow */\n\ntype MessagePayload = {|\n\ttype: string,\n\tdata?: mixed,\n|};\n\ntype ResponsePayload = {|\n\tdata?: mixed,\n\terror?: {| message: string, stack: string |},\n|};\n\ntype InternalMessageSender<MsgCtx> = (msg: MessagePayload, context: MsgCtx) => Promise<ResponsePayload>;\n\ntype InternalMessageHandler<ListenerCtx> = (msg: MessagePayload, sendResponse: (response: ResponsePayload) => void, context: ListenerCtx) => boolean;\n\nexport type MessageSender<MsgCtx> = (type: string, data: mixed, context: MsgCtx) => Promise<any>;\n\nexport type AddListener<Ctx> = (type: string, callback: ListenerCallback<Ctx>) => void;\n\ntype ListenerCallback<Ctx> = (data: any, context: Ctx) => Promise<mixed> | mixed;\n\nclass MessageHandlerError extends Error {\n\tconstructor(message, stack) {\n\t\tsuper();\n\t\tthis.message = message;\n\t\tthis.stack = stack;\n\t}\n}\n\nexport function createMessageHandler<MsgCtx, ListenerCtx>(_sendMessage: InternalMessageSender<MsgCtx>, errorOnUnrecognizedTypes: boolean = false): {|\n\t_handleMessage: InternalMessageHandler<ListenerCtx>,\n\tsendMessage: MessageSender<MsgCtx>,\n\taddListener: AddListener<ListenerCtx>,\n|} {\n\tconst listeners = new Map();\n\n\tfunction addListener(type, callback) {\n\t\tif (listeners.has(type)) {\n\t\t\tthrow new Error(`Listener for \"${type}\" already exists.`);\n\t\t}\n\t\tlisteners.set(type, callback);\n\t}\n\n\tasync function sendMessage(type, data, context) {\n\t\tconst { data: newData, error } = await _sendMessage({ type, data }, context);\n\t\tif (error) {\n\t\t\tthrow new MessageHandlerError(error.message, `${error.stack}\\n    at target's \"${type}\" handler`);\n\t\t} else {\n\t\t\treturn newData;\n\t\t}\n\t}\n\n\tfunction _handleMessage({ type, data }, sendResponse, context) {\n\t\tconst listener = listeners.get(type);\n\t\tif (!listener) {\n\t\t\tif (errorOnUnrecognizedTypes) {\n\t\t\t\tsendResponse({ error: { message: `Unrecognised message type: ${type}`, stack: '' } });\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tlet response;\n\n\t\ttry {\n\t\t\tresponse = listener(data, context);\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (response instanceof Promise) {\n\t\t\tresponse\n\t\t\t\t.then(\n\t\t\t\t\tdata => sendResponse({ data }),\n\t\t\t\t\te => {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t// true = response will be handled asynchronously (needed for Chrome)\n\t\t\treturn true;\n\t\t} else {\n\t\t\tsendResponse({ data: response });\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn {\n\t\t_handleMessage,\n\t\tsendMessage,\n\t\taddListener,\n\t};\n}\n","/* @flow */\n\nexport function apiToPromise(func: (...args: mixed[]) => void): (...args: mixed[]) => Promise<any> {\n\treturn (...args) =>\n\t\tnew Promise((resolve, reject) => {\n\t\t\tfunc(...args, (...results) => {\n\t\t\t\tif (chrome.runtime.lastError) {\n\t\t\t\t\treject(new Error(chrome.runtime.lastError.message));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(results.length > 1 ? results : results[0]);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n}\n","/* @flow */\n\nimport { createMessageHandler } from '../utils/messaging';\nimport { apiToPromise } from '../utils/api';\n\nconst _sendMessage = apiToPromise(chrome.tabs.sendMessage);\n\nconst {\n\t_handleMessage,\n\tsendMessage,\n\taddListener,\n} = createMessageHandler((obj, tabId) => _sendMessage(tabId, obj));\n\nchrome.runtime.onMessage.addListener((obj, sender, sendResponse) => _handleMessage(obj, sendResponse, sender));\n\nexport {\n\tsendMessage,\n\taddListener,\n};\n","/* @flow */\n\nimport { fromPairs } from 'lodash-es';\nimport { addListener } from './messaging';\n\naddListener('ajax', async ({ method, url, headers, data, credentials }) => {\n\tconst rawResponse = await fetch(url, {\n\t\tmethod,\n\t\theaders,\n\t\tcredentials,\n\t\tbody: data,\n\t});\n\n\treturn {\n\t\tok: rawResponse.ok,\n\t\tstatus: rawResponse.status,\n\t\theaders: fromPairs(Array.from(rawResponse.headers.entries())),\n\t\ttext: await rawResponse.text(),\n\t};\n});\n","/* @flow */\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('authFlow', ({ domain, clientId, scope, interactive }) => {\n\tconst redirectUri = process.env.BUILD_TARGET === 'chrome' ? 'https://redditenhancementsuite.com/oauth' : chrome.identity.getRedirectURL();\n\tconst url = new URL(domain);\n\turl.searchParams.set('client_id', clientId);\n\turl.searchParams.set('scope', scope);\n\turl.searchParams.set('response_type', 'token');\n\turl.searchParams.set('redirect_uri', redirectUri);\n\n\tif (process.env.BUILD_TARGET === 'chrome') {\n\t\t// Chrome supports chrome.identity.launchAuthFlow.\n\t\t// However--and quite inexplicably--the auth process is performed in a separate context whose cookies\n\t\t// are cleared whenever the browser is restarted, making noninteractive auth pretty much useless.\n\t\t// Instead, fully emulate the flow in the main context, where users will remain logged in when\n\t\t// they expect to be, i.e., as long as they're logged into the main site.\n\t\t// As a bonus, we can use redditenhancementsuite.com as the redirect instead of chromiumapp.org.\n\t\tif (interactive) {\n\t\t\treturn emulateAuthFlowInNewWindow(url.href, redirectUri);\n\t\t} else {\n\t\t\treturn emulateAuthFlowInBackground(url.href);\n\t\t}\n\t} else if (process.env.BUILD_TARGET === 'firefox') {\n\t\t// Firefox correctly supports chrome.identity.launchAuthFlow.\n\t\treturn apiToPromise(chrome.identity.launchWebAuthFlow)({ url: url.href, interactive });\n\t}\n});\n\nasync function emulateAuthFlowInNewWindow(url: string, redirectUri: string): Promise<string> {\n\t// Emulate interactive auth.\n\t// Open a popup window, then track its progress with chrome.tabs,\n\t// succeeding if it navigates to our redirect URL, and failing if it's\n\t// closed before then.\n\tconst { tabs: [{ id }] } = await apiToPromise(chrome.windows.create)({ url, type: 'popup' });\n\n\treturn new Promise((resolve, reject) => {\n\t\tfunction updateListener(tabId, updates) {\n\t\t\tif (tabId !== id) return;\n\n\t\t\tif (updates.url && updates.url.startsWith(redirectUri)) {\n\t\t\t\tstopListening();\n\t\t\t\tresolve(updates.url);\n\t\t\t\tapiToPromise(chrome.tabs.remove)(id);\n\t\t\t}\n\t\t}\n\n\t\tfunction removeListener(tabId) {\n\t\t\tif (tabId !== id) return;\n\t\t\tstopListening();\n\t\t\treject(new Error('User cancelled or denied access.'));\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.tabs.onUpdated.removeListener(updateListener);\n\t\t\tchrome.tabs.onRemoved.removeListener(removeListener);\n\t\t}\n\n\t\tchrome.tabs.onUpdated.addListener(updateListener);\n\t\tchrome.tabs.onRemoved.addListener(removeListener);\n\t});\n}\n\nfunction emulateAuthFlowInBackground(url: string): Promise<string> {\n\t// Emulate noninteractive auth.\n\t// Fetch the auth page. If the user is preauthorized, we will 302\n\t// to the redirect URL. However, because the token is passed in the hash,\n\t// and fetch/XHR responses don't include the hash, we must use the\n\t// webRequest API to read the redirect URL.\n\treturn new Promise((resolve, reject) => {\n\t\tfunction headersListener({ redirectUrl }) {\n\t\t\tstopListening();\n\t\t\tresolve(redirectUrl);\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.webRequest.onBeforeRedirect.removeListener(headersListener);\n\t\t}\n\n\t\tchrome.webRequest.onBeforeRedirect.addListener(headersListener, { urls: [url] });\n\n\t\tfetch(url, { credentials: 'include' })\n\t\t\t.then(() => {\n\t\t\t\tstopListening();\n\t\t\t\treject(new Error('User interaction is required.'));\n\t\t\t}, e => {\n\t\t\t\tstopListening();\n\t\t\t\treject(new Error(`Authorization page could not be loaded: ${e.message}`));\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\t});\n}\n","/* @flow */\n\nimport { addListener } from './messaging';\n\naddListener('download', ({ url, filename }, { tab: { incognito } }) => {\n\tchrome.downloads.download({ url, filename, ...(process.env.BUILD_TARGET === 'chrome' ? {} : { incognito }) });\n});\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('addURLToHistory', url => {\n\tchrome.history.addUrl({ url });\n});\n\naddListener('isURLVisited', async url => {\n\tconst visits = await apiToPromise(chrome.history.getVisits)({ url });\n\treturn visits.length > 0;\n});\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nexport default baseForOwn;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import Stack from './_Stack.js';\nimport baseIsEqual from './_baseIsEqual.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nexport default baseIsMatch;\n","import isObject from './isObject.js';\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nexport default isStrictComparable;\n","import isStrictComparable from './_isStrictComparable.js';\nimport keys from './keys.js';\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nexport default getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nexport default matchesStrictComparable;\n","import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nexport default baseMatches;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n","import MapCache from './_MapCache.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n","import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n","import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n","import baseIsEqual from './_baseIsEqual.js';\nimport get from './get.js';\nimport hasIn from './hasIn.js';\nimport isKey from './_isKey.js';\nimport isStrictComparable from './_isStrictComparable.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\nimport toKey from './_toKey.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nexport default baseMatchesProperty;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default baseProperty;\n","import baseGet from './_baseGet.js';\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nexport default basePropertyDeep;\n","import baseProperty from './_baseProperty.js';\nimport basePropertyDeep from './_basePropertyDeep.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nexport default property;\n","import baseMatches from './_baseMatches.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport property from './property.js';\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nexport default baseIteratee;\n","import baseAssignValue from './_baseAssignValue.js';\nimport baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nexport default mapValues;\n","/* @flow */\n/* eslint-disable camelcase */\n\nimport de from './de';\nimport el from './el';\nimport en from './en';\nimport en_lolcat from './en@lolcat';\nimport en_pirate from './en@pirate';\nimport en_CA from './en_CA';\nimport en_GB from './en_GB';\nimport es from './es';\nimport es_419 from './es_419';\nimport he from './he';\nimport it from './it';\nimport nl_NL from './nl_NL';\nimport pl from './pl';\nimport pt from './pt';\nimport pt_BR from './pt_BR';\nimport pt_PT from './pt_PT';\n\nexport default {\n\tde,\n\tel,\n\ten,\n\ten_lolcat,\n\ten_pirate,\n\ten_CA,\n\ten_GB,\n\tes,\n\tes_419,\n\the,\n\tit,\n\tnl_NL,\n\tpl,\n\tpt,\n\tpt_BR,\n\tpt_PT,\n};\n","/* @flow */\n\nimport { mapValues } from 'lodash-es';\nimport locales from './locales';\n\n// `en-ca` -> `en_CA`\nfunction redditLocaleToTransifexLocale(redditLocale) {\n\tswitch (redditLocale) {\n\t\tcase 'leet':\n\t\t\treturn 'en'; // doesn't appear to exist\n\t\tcase 'lol':\n\t\t\treturn 'en_lolcat';\n\t\tcase 'pir':\n\t\t\treturn 'en_pirate';\n\t\tcase 'es-ar': // argentina\n\t\tcase 'es-cl': // chile\n\t\t\treturn 'es_419'; // latin america\n\t\tdefault: {\n\t\t\t// `es-ar` -> `es_ar`\n\t\t\tconst normalized = redditLocale.replace('-', '_');\n\t\t\tconst inx = normalized.indexOf('_');\n\t\t\tif (inx === -1) {\n\t\t\t\t// `zh` -> `zh`\n\t\t\t\treturn normalized;\n\t\t\t} else {\n\t\t\t\t// `en_au` -> `en_AU`\n\t\t\t\treturn `${normalized.slice(0, inx)}_${normalized.slice(inx + 1).toUpperCase()}`;\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function getLocaleDictionary(localeName: string): { [string]: string } {\n\tconst transifexLocale = redditLocaleToTransifexLocale(localeName);\n\n\tconst mergedLocales = {\n\t\t// 3. Default (en)\n\t\t...locales.en,\n\t\t// 2. Match without region (en_CA -> en)\n\t\t...locales[transifexLocale.slice(0, transifexLocale.indexOf('_'))],\n\t\t// 1. Exact match (en_CA -> en_CA)\n\t\t...locales[transifexLocale],\n\t};\n\n\treturn mapValues(mergedLocales, x => x.message);\n}\n","/* @flow */\n\nimport { getLocaleDictionary } from '../../../locales';\nimport { addListener } from './messaging';\n\naddListener('i18n', locale => getLocaleDictionary(locale));\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('loadScript', async ({ url }, { tab: { id: tabId }, frameId }) => {\n\tawait apiToPromise(chrome.tabs.executeScript)(tabId, { file: url, frameId, runAt: 'document_start' });\n});\n","/* @flow */\n\nimport { addListener } from './messaging';\n\nlet lastRedditLocale = navigator.language || 'en';\n\naddListener('getLastRedditLocale', () => lastRedditLocale);\naddListener('setLastRedditLocale', v => { lastRedditLocale = v; });\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener, sendMessage } from './messaging';\n\naddListener('multicast', async ({ name, args, crossContext }, sender) => {\n\t// Firefox has more than just (non)incognito, so we must limit to each cookieStoreId.\n\tconst CONTEXT_KEY = process.env.BUILD_TARGET === 'firefox' ? 'cookieStoreId' : 'incognito';\n\n\tconst redditTabs = await apiToPromise(chrome.tabs.query)({ url: 'https://*.reddit.com/*', status: 'complete' });\n\tconst nonSelfTabsInSameContext = redditTabs\n\t\t.filter(tab => (\n\t\t\t(sender.frameId || tab.id !== sender.tab.id) &&\n\t\t\t(crossContext || tab[CONTEXT_KEY] === sender.tab[CONTEXT_KEY])\n\t\t));\n\n\treturn Promise.all(nonSelfTabsInSameContext.map(({ id: tabId }) => sendMessage('multicast', { name, args }, tabId)));\n});\n","/* @flow */\n\nimport cssOff from '../../../images/css-off.png';\nimport cssOffSmall from '../../../images/css-off-small.png';\nimport cssOn from '../../../images/css-on.png';\nimport cssOnSmall from '../../../images/css-on-small.png';\nimport { addListener, sendMessage } from './messaging';\n\nchrome.pageAction.onClicked.addListener(tab => {\n\tsendMessage('pageActionClick', undefined, tab.id);\n});\n\naddListener('pageAction', ({ operation, state }, { tab }) => {\n\tswitch (operation) {\n\t\tcase 'show':\n\t\t\tchrome.pageAction.show(tab.id);\n\t\t\tchrome.pageAction.setIcon({\n\t\t\t\ttabId: tab.id,\n\t\t\t\tpath: { /* eslint-disable quote-props */\n\t\t\t\t\t'19': state ? cssOnSmall : cssOffSmall,\n\t\t\t\t\t'38': state ? cssOn : cssOff,\n\t\t\t\t},\n\t\t\t});\n\t\t\tchrome.pageAction.setTitle({\n\t\t\t\ttabId: tab.id,\n\t\t\t\ttitle: state ? 'Subreddit Style On' : 'Subreddit Style Off',\n\t\t\t});\n\t\t\tbreak;\n\t\tcase 'hide':\n\t\t\tchrome.pageAction.hide(tab.id);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid pageAction operation: ${operation}`);\n\t}\n});\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('permissions', handleMessage);\n\nexport function handleMessage({ operation, permissions, origins }: *) {\n\tswitch (operation) {\n\t\tcase 'contains':\n\t\t\treturn apiToPromise(chrome.permissions.contains)({ permissions, origins });\n\t\tcase 'request':\n\t\t\treturn apiToPromise(chrome.permissions.request)({ permissions, origins })\n\t\t\t\t.catch(() => makePromptWindow({ permissions, origins }));\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid permissions operation: ${operation}`);\n\t}\n}\n\nasync function makePromptWindow({ permissions, origins }) {\n\tconst url = new URL('prompt.html', location.origin);\n\turl.searchParams.set('permissions', JSON.stringify(permissions));\n\turl.searchParams.set('origins', JSON.stringify(origins));\n\n\tconst width = 630;\n\tconst height = 255;\n\t// Display popup on middle of screen\n\tconst left = Math.floor(screen.width / 2 - width / 2);\n\tconst top = Math.floor(screen.height / 2 - height / 2);\n\n\tconst { tabs: [{ id }] } = await apiToPromise(chrome.windows.create)({ url: url.href, type: 'popup', width, height, left, top });\n\n\treturn new Promise(resolve => {\n\t\tfunction updateListener(tabId, updates) {\n\t\t\tif (tabId !== id) return;\n\n\t\t\tconst url = updates.url && new URL(updates.url);\n\t\t\tif (url && url.searchParams.has('result')) {\n\t\t\t\tstopListening();\n\t\t\t\tconst result = url.searchParams.get('result');\n\t\t\t\tif (!result) return;\n\t\t\t\tresolve(JSON.parse(result));\n\t\t\t\tapiToPromise(chrome.tabs.remove)(id);\n\t\t\t}\n\t\t}\n\n\t\tfunction removeListener(tabId) {\n\t\t\tif (tabId !== id) return;\n\t\t\tstopListening();\n\t\t\tresolve(false);\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.tabs.onUpdated.removeListener(updateListener);\n\t\t\tchrome.tabs.onRemoved.removeListener(removeListener);\n\t\t}\n\n\t\tchrome.tabs.onUpdated.addListener(updateListener);\n\t\tchrome.tabs.onRemoved.addListener(removeListener);\n\t});\n}\n","/* @flow */\n\nimport { addListener } from './messaging';\n\nconst session = new Map();\naddListener('session', ([operation, key, value]) => {\n\tswitch (operation) {\n\t\tcase 'get':\n\t\t\treturn session.get(key);\n\t\tcase 'set':\n\t\t\tsession.set(key, value);\n\t\t\tbreak;\n\t\tcase 'delete':\n\t\t\treturn session.delete(key);\n\t\tcase 'has':\n\t\t\treturn session.has(key);\n\t\tcase 'clear':\n\t\t\treturn session.clear();\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid session operation: ${operation}`);\n\t}\n});\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nexport default last;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nexport default baseSlice;\n","import baseGet from './_baseGet.js';\nimport baseSlice from './_baseSlice.js';\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nexport default parent;\n","import castPath from './_castPath.js';\nimport last from './last.js';\nimport parent from './_parent.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nexport default baseUnset;\n","import baseUnset from './_baseUnset.js';\nimport isIndex from './_isIndex.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAt` without support for individual\n * indexes or capturing the removed elements.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {number[]} indexes The indexes of elements to remove.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAt(array, indexes) {\n  var length = array ? indexes.length : 0,\n      lastIndex = length - 1;\n\n  while (length--) {\n    var index = indexes[length];\n    if (length == lastIndex || index !== previous) {\n      var previous = index;\n      if (isIndex(index)) {\n        splice.call(array, index, 1);\n      } else {\n        baseUnset(array, index);\n      }\n    }\n  }\n  return array;\n}\n\nexport default basePullAt;\n","import baseIteratee from './_baseIteratee.js';\nimport basePullAt from './_basePullAt.js';\n\n/**\n * Removes all elements from `array` that `predicate` returns truthy for\n * and returns an array of the removed elements. The predicate is invoked\n * with three arguments: (value, index, array).\n *\n * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n * to pull elements from an array by value.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new array of removed elements.\n * @example\n *\n * var array = [1, 2, 3, 4];\n * var evens = _.remove(array, function(n) {\n *   return n % 2 == 0;\n * });\n *\n * console.log(array);\n * // => [1, 3]\n *\n * console.log(evens);\n * // => [2, 4]\n */\nfunction remove(array, predicate) {\n  var result = [];\n  if (!(array && array.length)) {\n    return result;\n  }\n  var index = -1,\n      indexes = [],\n      length = array.length;\n\n  predicate = baseIteratee(predicate, 3);\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result.push(value);\n      indexes.push(index);\n    }\n  }\n  basePullAt(array, indexes);\n  return result;\n}\n\nexport default remove;\n","import WeakMap from './_WeakMap.js';\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nexport default metaMap;\n","import identity from './identity.js';\nimport metaMap from './_metaMap.js';\n\n/**\n * The base implementation of `setData` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nexport default baseSetData;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","import baseCreate from './_baseCreate.js';\nimport isObject from './isObject.js';\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nexport default createCtor;\n","import createCtor from './_createCtor.js';\nimport root from './_root.js';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nexport default createBind;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nexport default composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nexport default composeArgsRight;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nexport default countHolders;\n","/**\n * The function whose prototype chain sequence wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nexport default baseLodash;\n","import baseCreate from './_baseCreate.js';\nimport baseLodash from './_baseLodash.js';\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\n// Ensure `LazyWrapper` is an instance of `baseLodash`.\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nexport default LazyWrapper;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nexport default noop;\n","import metaMap from './_metaMap.js';\nimport noop from './noop.js';\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nexport default getData;\n","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nexport default realNames;\n","import realNames from './_realNames.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nexport default getFuncName;\n","import baseCreate from './_baseCreate.js';\nimport baseLodash from './_baseLodash.js';\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable explicit method chain sequences.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nexport default LodashWrapper;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","import LazyWrapper from './_LazyWrapper.js';\nimport LodashWrapper from './_LodashWrapper.js';\nimport copyArray from './_copyArray.js';\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nexport default wrapperClone;\n","import LazyWrapper from './_LazyWrapper.js';\nimport LodashWrapper from './_LodashWrapper.js';\nimport baseLodash from './_baseLodash.js';\nimport isArray from './isArray.js';\nimport isObjectLike from './isObjectLike.js';\nimport wrapperClone from './_wrapperClone.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chain sequences. Methods that operate on and return arrays, collections,\n * and functions can be chained together. Methods that retrieve a single value\n * or may return a primitive value will automatically end the chain sequence\n * and return the unwrapped value. Otherwise, the value must be unwrapped\n * with `_#value`.\n *\n * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n * enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion.\n * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n * the creation of intermediate arrays and can greatly reduce the number of\n * iteratee executions. Sections of a chain sequence qualify for shortcut\n * fusion if the section is applied to an array and iteratees accept only\n * one argument. The heuristic for whether a section qualifies for shortcut\n * fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n * `zipObject`, `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n * `upperFirst`, `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nexport default lodash;\n","import LazyWrapper from './_LazyWrapper.js';\nimport getData from './_getData.js';\nimport getFuncName from './_getFuncName.js';\nimport lodash from './wrapperLodash.js';\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n *  else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nexport default isLaziable;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","import baseSetData from './_baseSetData.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets metadata for `func`.\n *\n * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n * period of time, it will trip its breaker and transition to an identity\n * function to avoid garbage collection pauses in V8. See\n * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n * for more details.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar setData = shortOut(baseSetData);\n\nexport default setData;\n","/** Used to match wrap detail comments. */\nvar reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n    reSplitDetails = /,? & /;\n\n/**\n * Extracts wrapper details from the `source` body comment.\n *\n * @private\n * @param {string} source The source to inspect.\n * @returns {Array} Returns the wrapper details.\n */\nfunction getWrapDetails(source) {\n  var match = source.match(reWrapDetails);\n  return match ? match[1].split(reSplitDetails) : [];\n}\n\nexport default getWrapDetails;\n","/** Used to match wrap detail comments. */\nvar reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;\n\n/**\n * Inserts wrapper `details` in a comment at the top of the `source` body.\n *\n * @private\n * @param {string} source The source to modify.\n * @returns {Array} details The details to insert.\n * @returns {string} Returns the modified source.\n */\nfunction insertWrapDetails(source, details) {\n  var length = details.length;\n  if (!length) {\n    return source;\n  }\n  var lastIndex = length - 1;\n  details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n  details = details.join(length > 2 ? ', ' : ' ');\n  return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n}\n\nexport default insertWrapDetails;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nexport default baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default strictIndexOf;\n","import baseFindIndex from './_baseFindIndex.js';\nimport baseIsNaN from './_baseIsNaN.js';\nimport strictIndexOf from './_strictIndexOf.js';\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nexport default baseIndexOf;\n","import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nexport default arrayIncludes;\n","import arrayEach from './_arrayEach.js';\nimport arrayIncludes from './_arrayIncludes.js';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256,\n    WRAP_FLIP_FLAG = 512;\n\n/** Used to associate wrap methods with their bit flags. */\nvar wrapFlags = [\n  ['ary', WRAP_ARY_FLAG],\n  ['bind', WRAP_BIND_FLAG],\n  ['bindKey', WRAP_BIND_KEY_FLAG],\n  ['curry', WRAP_CURRY_FLAG],\n  ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n  ['flip', WRAP_FLIP_FLAG],\n  ['partial', WRAP_PARTIAL_FLAG],\n  ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n  ['rearg', WRAP_REARG_FLAG]\n];\n\n/**\n * Updates wrapper `details` based on `bitmask` flags.\n *\n * @private\n * @returns {Array} details The details to modify.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Array} Returns `details`.\n */\nfunction updateWrapDetails(details, bitmask) {\n  arrayEach(wrapFlags, function(pair) {\n    var value = '_.' + pair[0];\n    if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n      details.push(value);\n    }\n  });\n  return details.sort();\n}\n\nexport default updateWrapDetails;\n","import getWrapDetails from './_getWrapDetails.js';\nimport insertWrapDetails from './_insertWrapDetails.js';\nimport setToString from './_setToString.js';\nimport updateWrapDetails from './_updateWrapDetails.js';\n\n/**\n * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n * with wrapper details in a comment at the top of the source body.\n *\n * @private\n * @param {Function} wrapper The function to modify.\n * @param {Function} reference The reference function.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Function} Returns `wrapper`.\n */\nfunction setWrapToString(wrapper, reference, bitmask) {\n  var source = (reference + '');\n  return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n}\n\nexport default setWrapToString;\n","import isLaziable from './_isLaziable.js';\nimport setData from './_setData.js';\nimport setWrapToString from './_setWrapToString.js';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nexport default createRecurry;\n","/**\n * Gets the argument placeholder value for `func`.\n *\n * @private\n * @param {Function} func The function to inspect.\n * @returns {*} Returns the placeholder value.\n */\nfunction getHolder(func) {\n  var object = func;\n  return object.placeholder;\n}\n\nexport default getHolder;\n","import copyArray from './_copyArray.js';\nimport isIndex from './_isIndex.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nexport default reorder;\n","/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value === placeholder || value === PLACEHOLDER) {\n      array[index] = PLACEHOLDER;\n      result[resIndex++] = index;\n    }\n  }\n  return result;\n}\n\nexport default replaceHolders;\n","import composeArgs from './_composeArgs.js';\nimport composeArgsRight from './_composeArgsRight.js';\nimport countHolders from './_countHolders.js';\nimport createCtor from './_createCtor.js';\nimport createRecurry from './_createRecurry.js';\nimport getHolder from './_getHolder.js';\nimport reorder from './_reorder.js';\nimport replaceHolders from './_replaceHolders.js';\nimport root from './_root.js';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nexport default createHybrid;\n","import apply from './_apply.js';\nimport createCtor from './_createCtor.js';\nimport createHybrid from './_createHybrid.js';\nimport createRecurry from './_createRecurry.js';\nimport getHolder from './_getHolder.js';\nimport replaceHolders from './_replaceHolders.js';\nimport root from './_root.js';\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nexport default createCurry;\n","import apply from './_apply.js';\nimport createCtor from './_createCtor.js';\nimport root from './_root.js';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nexport default createPartial;\n","import composeArgs from './_composeArgs.js';\nimport composeArgsRight from './_composeArgsRight.js';\nimport replaceHolders from './_replaceHolders.js';\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Merges the function metadata of `source` into `data`.\n *\n * Merging metadata reduces the number of wrappers used to invoke a function.\n * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n * may be applied regardless of execution order. Methods like `_.ary` and\n * `_.rearg` modify function arguments, making the order in which they are\n * executed important, preventing the merging of metadata. However, we make\n * an exception for a safe combined case where curried functions have `_.ary`\n * and or `_.rearg` applied.\n *\n * @private\n * @param {Array} data The destination metadata.\n * @param {Array} source The source metadata.\n * @returns {Array} Returns `data`.\n */\nfunction mergeData(data, source) {\n  var bitmask = data[1],\n      srcBitmask = source[1],\n      newBitmask = bitmask | srcBitmask,\n      isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n  var isCombo =\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n    ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n  // Exit early if metadata can't be merged.\n  if (!(isCommon || isCombo)) {\n    return data;\n  }\n  // Use source `thisArg` if available.\n  if (srcBitmask & WRAP_BIND_FLAG) {\n    data[2] = source[2];\n    // Set when currying a bound function.\n    newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n  }\n  // Compose partial arguments.\n  var value = source[3];\n  if (value) {\n    var partials = data[3];\n    data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n    data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n  }\n  // Compose partial right arguments.\n  value = source[5];\n  if (value) {\n    partials = data[5];\n    data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n    data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n  }\n  // Use source `argPos` if available.\n  value = source[7];\n  if (value) {\n    data[7] = value;\n  }\n  // Use source `ary` if it's smaller.\n  if (srcBitmask & WRAP_ARY_FLAG) {\n    data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n  }\n  // Use source `arity` if one is not provided.\n  if (data[9] == null) {\n    data[9] = source[9];\n  }\n  // Use source `func` and merge bitmasks.\n  data[0] = source[0];\n  data[1] = newBitmask;\n\n  return data;\n}\n\nexport default mergeData;\n","import isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import toNumber from './toNumber.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nexport default toFinite;\n","import toFinite from './toFinite.js';\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nexport default toInteger;\n","import baseSetData from './_baseSetData.js';\nimport createBind from './_createBind.js';\nimport createCurry from './_createCurry.js';\nimport createHybrid from './_createHybrid.js';\nimport createPartial from './_createPartial.js';\nimport getData from './_getData.js';\nimport mergeData from './_mergeData.js';\nimport setData from './_setData.js';\nimport setWrapToString from './_setWrapToString.js';\nimport toInteger from './toInteger.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nexport default createWrap;\n","import createWrap from './_createWrap.js';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_RIGHT_FLAG = 16;\n\n/**\n * This method is like `_.curry` except that arguments are applied to `func`\n * in the manner of `_.partialRight` instead of `_.partial`.\n *\n * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n * builds, may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curryRight(abc);\n *\n * curried(3)(2)(1);\n * // => [1, 2, 3]\n *\n * curried(2, 3)(1);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(3)(1, _)(2);\n * // => [1, 2, 3]\n */\nfunction curryRight(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curryRight.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurryRight.placeholder = {};\n\nexport default curryRight;\n","import toInteger from './toInteger.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that invokes `func`, with the `this` binding and arguments\n * of the created function, while it's called less than `n` times. Subsequent\n * calls to the created function return the result of the last `func` invocation.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {number} n The number of calls at which `func` is no longer invoked.\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * jQuery(element).on('click', _.before(5, addContactToList));\n * // => Allows adding up to 4 contacts to the list.\n */\nfunction before(n, func) {\n  var result;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  n = toInteger(n);\n  return function() {\n    if (--n > 0) {\n      result = func.apply(this, arguments);\n    }\n    if (n <= 1) {\n      func = undefined;\n    }\n    return result;\n  };\n}\n\nexport default before;\n","import before from './before.js';\n\n/**\n * Creates a function that is restricted to invoking `func` once. Repeat calls\n * to the function return the value of the first invocation. The `func` is\n * invoked with the `this` binding and arguments of the created function.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * var initialize = _.once(createApplication);\n * initialize();\n * initialize();\n * // => `createApplication` is invoked once\n */\nfunction once(func) {\n  return before(2, func);\n}\n\nexport default once;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/**\n * This function is like `baseIndexOf` except that it accepts a comparator.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOfWith(array, value, fromIndex, comparator) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (comparator(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseIndexOfWith;\n","import arrayMap from './_arrayMap.js';\nimport baseIndexOf from './_baseIndexOf.js';\nimport baseIndexOfWith from './_baseIndexOfWith.js';\nimport baseUnary from './_baseUnary.js';\nimport copyArray from './_copyArray.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAllBy` without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAll(array, values, iteratee, comparator) {\n  var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n      index = -1,\n      length = values.length,\n      seen = array;\n\n  if (array === values) {\n    values = copyArray(values);\n  }\n  if (iteratee) {\n    seen = arrayMap(array, baseUnary(iteratee));\n  }\n  while (++index < length) {\n    var fromIndex = 0,\n        value = values[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n      if (seen !== array) {\n        splice.call(seen, fromIndex, 1);\n      }\n      splice.call(array, fromIndex, 1);\n    }\n  }\n  return array;\n}\n\nexport default basePullAll;\n","import basePullAll from './_basePullAll.js';\n\n/**\n * This method is like `_.pull` except that it accepts an array of values to remove.\n *\n * **Note:** Unlike `_.difference`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pullAll(array, ['a', 'c']);\n * console.log(array);\n * // => ['b', 'b']\n */\nfunction pullAll(array, values) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values)\n    : array;\n}\n\nexport default pullAll;\n","import baseRest from './_baseRest.js';\nimport pullAll from './pullAll.js';\n\n/**\n * Removes all given values from `array` using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n * to remove elements from an array by predicate.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {...*} [values] The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pull(array, 'a', 'c');\n * console.log(array);\n * // => ['b', 'b']\n */\nvar pull = baseRest(pullAll);\n\nexport default pull;\n","/* @flow */\n\nexport function* range(start: number, end: number): Iterable<number> {\n\tfor (let i = start; i < end; ++i) { // eslint-disable-line no-restricted-syntax\n\t\tyield i;\n\t}\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function zip<A>(a: Iterable<A>): Iterable<[A]>;\ndeclare function zip<A, B>(a: Iterable<A>, b: Iterable<B>): Iterable<[A, B]>;\ndeclare function zip<A, B, C>(a: Iterable<A>, b: Iterable<B>, c: Iterable<C>): Iterable<[A, B, C]>;\n/* eslint-enable no-unused-vars */\n\nexport function* zip(...iterables) {\n\tconst generators = iterables.map(it => it[Symbol.iterator]());\n\tlet results;\n\n\twhile ((results = generators.map(gen => gen.next())).some(r => !r.done)) {\n\t\tyield results.map(r => r.value);\n\t}\n}\n/* eslint-enable no-redeclare */\n","/* @flow */\n\nimport { pull, debounce, once, curryRight, remove } from 'lodash-es';\nimport { zip } from './generator';\n\nexport function waitFor<T>(callback: () => ?T, interval?: number = 1): Promise<T> {\n\treturn new Promise(resolve => {\n\t\t(function repeat() {\n\t\t\tconst val = callback();\n\t\t\tif (!val) {\n\t\t\t\tsetTimeout(repeat, interval);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresolve(val);\n\t\t})();\n\t});\n}\n\n/*\n Iterate through an array in chunks, executing a callback on each element.\n Each chunk is handled asynchronously from the others with a delay betwen each batch.\n This will change the timeout dynamically based on current screen performance in an effort\n to work as fast as possibly without blocking the screen.\n */\n\nexport const forEachChunked = (() => {\n\tconst framerate = 30;\n\tconst frameTime = 1000 / framerate;\n\n\tconst queues = [];\n\n\tconst run = frameThrottle(() => {\n\t\tconst start = performance.now();\n\t\tdo {\n\t\t\tremove(queues, ({ generator, callback, resolve, reject }): boolean | void => {\n\t\t\t\tconst { value, done } = generator.next();\n\n\t\t\t\tif (done) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tcallback(value);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (generator.return) generator.return();\n\t\t\t\t\treject(e);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// stop if there are no queues left\n\t\t\tif (!queues.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} while (performance.now() - start < frameTime);\n\t\trun();\n\t});\n\n\treturn curryRight(<T>(collection: Iterable<T>, callback: (x: T) => void) =>\n\t\tnew Promise((resolve, reject) => {\n\t\t\tconst iterable = (Symbol.iterator in collection) ? collection : Array.from(collection); // eslint-disable-line no-restricted-syntax\n\t\t\t// $FlowIssue https://github.com/facebook/flow/issues/1163, https://github.com/facebook/flow/issues/1015\n\t\t\tqueues.push({ generator: iterable[Symbol.iterator](), callback, resolve, reject });\n\t\t\trun();\n\t\t}),\n\t);\n})();\n\n/*\n * Will accumulate values until `size` elements are accumulated or `delay` milliseconds pass.\n * `callback` accepts an array of batched values and should return an array of results **in the same order**.\n * If it throws, all promises will be rejected with the same error.\n * If one of the results is an instance of `Error`, the corresponding promise will be rejected with that error.\n */\nexport function batch<T, V>(callback: (xs: T[]) => Promise<Iterable<Error | Promise<V> | V> | void> | void, { size = 100, delay = 50, flushBeforeUnload = false }: {| size?: number, delay?: number, flushBeforeUnload?: boolean |} = {}): (x: T) => Promise<V> {\n\tlet invoke;\n\n\tfunction* batchAccumulator() {\n\t\tconst entries = [];\n\t\tconst promises = [];\n\n\t\tfunction addPromise(): Promise<V> {\n\t\t\tif (entries.length) {\n\t\t\t\treturn new Promise((resolve, reject) => { promises.push({ resolve, reject }); });\n\t\t\t} else {\n\t\t\t\treturn (undefined: any); // dummy - never observed\n\t\t\t}\n\t\t}\n\n\t\tinvoke = once(async () => {\n\t\t\tstartNewBatch();\n\t\t\tif (!entries.length) return;\n\t\t\ttry {\n\t\t\t\tconst results = await callback(entries) || [];\n\t\t\t\tfor (const [{ resolve, reject }, result] of zip(promises, results)) {\n\t\t\t\t\tif (result instanceof Error) reject(result);\n\t\t\t\t\telse resolve(result);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tfor (const { reject } of promises) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst timeout = delay ? debounce(invoke, delay) : throttle(invoke);\n\n\t\twhile (entries.length < size) {\n\t\t\tconst entry = yield addPromise();\n\t\t\tif (entry === undefined) throw new Error('undefined passed into batch generator');\n\t\t\tentries.push(entry);\n\t\t\ttimeout();\n\t\t}\n\n\t\tconst lastPromise = addPromise();\n\t\tinvoke();\n\t\tyield lastPromise;\n\t}\n\n\tlet currentBatch;\n\n\tfunction startNewBatch() {\n\t\tcurrentBatch = batchAccumulator();\n\t\tcurrentBatch.next(); // prime the generator, so the first `.next(value)` isn't lost\n\t}\n\n\tstartNewBatch();\n\n\tif (flushBeforeUnload) window.addEventListener('beforeunload', () => { invoke(); }, true);\n\n\treturn entry => {\n\t\tconst { value } = currentBatch.next(entry);\n\t\tif (value === undefined) throw new Error('Batch generator was not replaced after completion');\n\t\treturn value;\n\t};\n}\n\nfunction always<T>(promise: Promise<T>, callback: (x: T) => Promise<void> | void): Promise<void> {\n\treturn promise.then(callback, callback);\n}\n\n// Like _asyncToGenerator, but calls back into the generator synchronously if the value is not a promise\n// unless you're certain that you need to avoid asynchronicity at all costs, just use an async function\nexport function fastAsync<A, B, C, D, E, F, G, R>(\n\tcallback: (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => Generator<any, R, any>,\n): (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => R | Promise<R> {\n\treturn function(...args) {\n\t\treturn (function next(generator, arg, throwing) {\n\t\t\tconst { value, done } = !throwing ? generator.next(arg) : generator.throw(arg);\n\n\t\t\tif (done) {\n\t\t\t\treturn value;\n\t\t\t} else if (!(value instanceof Promise)) {\n\t\t\t\treturn next(generator, value, false);\n\t\t\t} else {\n\t\t\t\treturn value.then(\n\t\t\t\t\tval => next(generator, val, false),\n\t\t\t\t\terr => next(generator, err, true),\n\t\t\t\t);\n\t\t\t}\n\t\t})(Reflect.apply(callback, this, args), undefined, false);\n\t};\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function asyncFlow<A1, A2, A3, A4, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | RB>\n\t(f1: F1): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<RA> | RB>\n\t(f1: F1, f2: F2): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, F, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<F> | F, F6: (f: F) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5, f6: F6): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\n\nexport function asyncFlow(firstFn, ...fns) {\n\treturn fastAsync(function*(...args) {\n\t\tlet accum = firstFn(...args);\n\t\tfor (const fn of fns) {\n\t\t\taccum = fn(yield accum);\n\t\t}\n\t\treturn accum;\n\t});\n}\n\n// once the promise has resolved, its value is available synchronously\n// intended for use with fastAsync\nexport function reifyPromise<T>(promise: Promise<T>): { get(): T | Promise<T> } {\n\tlet val = promise;\n\tpromise.then(x => { val = x; });\n\treturn { get: () => val };\n}\n\nexport function keyedMutex<V, T:(...args: any) => Promise<V> | V>(\n\tcallback: T,\n\tkeyResolver?: (...args: any) => mixed = x => x,\n): T {\n\tconst queues = new Map();\n\n\treturn (function(...args) {\n\t\tconst key = keyResolver(...args);\n\n\t\t// https://github.com/facebook/flow/issues/34\n\t\tconst tail = queues.has(key) ?\n\t\t\talways(queues.get(key) /*:: || Promise.resolve() */, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueues.set(key, tail);\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queues.get(key) === tail) queues.delete(key);\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\nexport function mutex<V, T:(...args: any) => Promise<V> | V>(callback: T): T {\n\tlet queue;\n\n\treturn (function(...args) {\n\t\tconst tail = queue ?\n\t\t\talways(queue, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueue = tail;\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queue === tail) queue = undefined;\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\n// `callback` is invoked when the micro task queue is emptied\n// returns a promise that resolves when callback resolves\nexport function throttle(callback: () => void | Promise<void>): () => Promise<void> {\n\tlet promise: ?Promise<*>;\n\n\treturn () => {\n\t\tpromise = promise || Promise.resolve().then(() => {\n\t\t\tpromise = null;\n\t\t\tcallback();\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n// Invokes callback after the returned function has not been invoked for `debounce` number of frames\nexport function frameDebounce(callback: () => any, debounce: number = 1): () => void {\n\tlet remaining: number;\n\n\tconst update = frameThrottle(() => {\n\t\tif (remaining) requestAnimationFrame(() => { update(); });\n\t\telse callback();\n\t\tremaining -= 1;\n\t});\n\n\treturn () => {\n\t\tremaining = debounce;\n\t\trequestAnimationFrame(() => { update(); });\n\t};\n}\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will invoke `callback` at most once per frame.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n */\nexport function frameThrottle<V>(callback: (...args: any) => V): (...args: any) => Promise<V> {\n\tlet args = [];\n\tlet promise;\n\n\treturn (...a) => {\n\t\targs = a;\n\t\tpromise = promise || new Promise((res, rej) => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tpromise = null;\n\t\t\t\ttry {\n\t\t\t\t\tres(callback(...args));\n\t\t\t\t} catch (e) {\n\t\t\t\t\trej(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n/*\n * Similar to throttle, but callbacks are ordered:\n * When the returned wrapper function is invoked, `callback` will be placed last in the execution queue\n */\nexport const throttleQueuePositionReset = (() => {\n\tlet queues = [];\n\n\tconst run = throttle(() => {\n\t\tfor (const fn of queues) {\n\t\t\ttry {\n\t\t\t\tfn();\n\t\t\t} catch (e) { /* empty */ }\n\t\t}\n\t\tqueues = [];\n\t});\n\n\treturn function(callback: () => void) {\n\t\tlet args = [];\n\t\tlet queued = false;\n\n\t\tfunction runCallback() {\n\t\t\tqueued = false;\n\t\t\tcallback();\n\t\t}\n\n\t\treturn (...a: Array<*>) => {\n\t\t\targs = a;\n\n\t\t\tif (queued) {\n\t\t\t\tpull(queues, callback);\n\t\t\t} else {\n\t\t\t\tqueued = true;\n\t\t\t}\n\n\t\t\tqueues.push(callback);\n\t\t\trun();\n\t\t};\n\t};\n})();\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will only invoke the latest `callback` in the next upcoming idle period.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n */\nexport function idleThrottle<V>(callback: (...args: any) => V): (...args: any) => Promise<V> {\n\tlet args = [];\n\tlet promise;\n\n\treturn (...a) => {\n\t\targs = a;\n\t\tpromise = promise || new Promise((res, rej) => {\n\t\t\trequestIdleCallback(() => {\n\t\t\t\tpromise = null;\n\t\t\t\ttry {\n\t\t\t\t\tres(callback(...args));\n\t\t\t\t} catch (e) {\n\t\t\t\t\trej(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t};\n}\n","/* @flow */\n\nimport { keyedMutex } from '../../utils/async';\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\nconst __set = apiToPromise((items, callback) => chrome.storage.local.set(items, callback));\nconst _set = (key, value) => __set({ [key]: value });\nconst __get = apiToPromise((keys, callback) => chrome.storage.local.get(keys, callback));\nconst _get = async (key, defaultValue = null) => (await __get({ [key]: defaultValue }))[key];\n\naddListener('storage-cas', keyedMutex(async ([key, defaultValue, oldValue, newValue]) => {\n\tconst storedValue = await _get(key, defaultValue);\n\tif (storedValue !== oldValue) return false;\n\tawait _set(key, newValue);\n\treturn true;\n}, ([key]) => key));\n","/* @flow */\n\nimport { addListener } from './messaging';\n\naddListener('openNewTabs', ({ urls, focusIndex }, { tab }) => {\n\turls.forEach((url, i) => {\n\t\tchrome.tabs.create({\n\t\t\turl,\n\t\t\tactive: i === focusIndex,\n\t\t\tindex: tab.index + 1 + i,\n\t\t\topenerTabId: tab.id,\n\t\t\t// Firefox needs cookieStoreId to open in correct container\n\t\t\t...(process.env.BUILD_TARGET === 'firefox' ? { cookieStoreId: tab.cookieStoreId } : {}),\n\t\t});\n\t});\n});\n\n","/* @flow */\n\nexport class LRUCache<K, V> {\n\tmap: Map<K, {\n\t\tvalue: V,\n\t\tcreateTime: number,\n\t\thitTime: number,\n\t}>;\n\n\tcapacity: number;\n\n\tconstructor(capacity: number) {\n\t\tthis.map = new Map();\n\t\tthis.capacity = capacity;\n\t}\n\n\tget(key: K, maxAge: number = Infinity): V | void {\n\t\tconst now = Date.now();\n\t\tconst entry = this.map.get(key);\n\t\tif (entry && (now - entry.createTime < maxAge)) {\n\t\t\tentry.hitTime = now;\n\t\t\treturn entry.value;\n\t\t}\n\t}\n\n\tset(key: K, value: V): this {\n\t\tconst now = Date.now();\n\t\tthis.map.set(key, { value, createTime: now, hitTime: now });\n\n\t\tif (this.map.size > this.capacity) {\n\t\t\t// Evict least-recently used (hit)\n\t\t\tArray.from(this.map.entries())\n\t\t\t\t.sort(([, a], [, b]) => b.hitTime - a.hitTime)\n\t\t\t\t.slice((this.capacity / 2) | 0)\n\t\t\t\t.forEach(([key]) => this.map.delete(key));\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tdelete(key: K): boolean {\n\t\treturn this.map.delete(key);\n\t}\n\n\tclear(): void {\n\t\tthis.map.clear();\n\t}\n}\n","/* @flow */\n\nimport { LRUCache } from '../../utils/Cache';\nimport { addListener } from './messaging';\n\nconst cache = new LRUCache(512);\naddListener('XHRCache', ([operation, key, value]) => {\n\tswitch (operation) {\n\t\tcase 'set':\n\t\t\tcache.set(key, value);\n\t\t\tbreak;\n\t\tcase 'check':\n\t\t\treturn cache.get(key, value);\n\t\tcase 'delete':\n\t\t\treturn cache.delete(key);\n\t\tcase 'clear':\n\t\t\treturn cache.clear();\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid XHRCache operation: ${operation}`);\n\t}\n});\n","/* generated by sibling-loader */\nimport * as _0 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/ajax.js\";\nimport * as _1 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/auth.js\";\nimport * as _2 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/download.js\";\nimport * as _3 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/history.js\";\nimport * as _4 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/i18n.js\";\nimport * as _5 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/loadScript.js\";\nimport * as _6 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/localePersistor.js\";\nimport * as _7 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/messaging.js\";\nimport * as _8 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/multicast.js\";\nimport * as _9 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/pageAction.js\";\nimport * as _10 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/permissions.js\";\nimport * as _11 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/session.js\";\nimport * as _12 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/storage.js\";\nimport * as _13 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/tabs.js\";\nimport * as _14 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/xhrCache.js\";\nexport default { \"ajax.js\": _0, \"auth.js\": _1, \"download.js\": _2, \"history.js\": _3, \"i18n.js\": _4, \"loadScript.js\": _5, \"localePersistor.js\": _6, \"messaging.js\": _7, \"multicast.js\": _8, \"pageAction.js\": _9, \"permissions.js\": _10, \"session.js\": _11, \"storage.js\": _12, \"tabs.js\": _13, \"xhrCache.js\": _14 };","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arrayIncludesWith;\n","import Set from './_Set.js';\nimport noop from './noop.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nexport default createSet;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport cacheHas from './_cacheHas.js';\nimport createSet from './_createSet.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseUniq;\n","import baseIteratee from './_baseIteratee.js';\nimport baseUniq from './_baseUniq.js';\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nexport default uniqBy;\n","import baseAssignValue from './_baseAssignValue.js';\nimport baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * The opposite of `_.mapValues`; this method creates an object with the\n * same values as `object` and keys generated by running each own enumerable\n * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n * with three arguments: (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapValues\n * @example\n *\n * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n *   return key + value;\n * });\n * // => { 'a1': 1, 'b2': 2 }\n */\nfunction mapKeys(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, iteratee(value, key, object), value);\n  });\n  return result;\n}\n\nexport default mapKeys;\n","import baseSlice from './_baseSlice.js';\n\n/**\n * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n * without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {Function} predicate The function invoked per iteration.\n * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseWhile(array, predicate, isDrop, fromRight) {\n  var length = array.length,\n      index = fromRight ? length : -1;\n\n  while ((fromRight ? index-- : ++index < length) &&\n    predicate(array[index], index, array)) {}\n\n  return isDrop\n    ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n    : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n}\n\nexport default baseWhile;\n","import baseIteratee from './_baseIteratee.js';\nimport baseWhile from './_baseWhile.js';\n\n/**\n * Creates a slice of `array` with elements taken from the end. Elements are\n * taken until `predicate` returns falsey. The predicate is invoked with\n * three arguments: (value, index, array).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.takeRightWhile(users, function(o) { return !o.active; });\n * // => objects for ['fred', 'pebbles']\n *\n * // The `_.matches` iteratee shorthand.\n * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n * // => objects for ['pebbles']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.takeRightWhile(users, ['active', false]);\n * // => objects for ['fred', 'pebbles']\n *\n * // The `_.property` iteratee shorthand.\n * _.takeRightWhile(users, 'active');\n * // => []\n */\nfunction takeRightWhile(array, predicate) {\n  return (array && array.length)\n    ? baseWhile(array, baseIteratee(predicate, 3), false, true)\n    : [];\n}\n\nexport default takeRightWhile;\n","/* @flow */\n\nexport const MINUTE = 1000 * 60;\nexport const HOUR = 60 * MINUTE;\nexport const DAY = 24 * HOUR;\nexport const WEEK = 7 * DAY;\n\nexport function fromSecondsToTime(timeInSeconds: number) {\n\tconst seconds = timeInSeconds % 60;\n\tconst minutes = Math.floor(timeInSeconds / 60) % 60;\n\tconst hours = Math.floor(timeInSeconds / 3600);\n\n\tconst time = [minutes, seconds];\n\tif (hours > 0) {\n\t\ttime.unshift(hours);\n\t}\n\n\treturn time.map(part => String(part).padStart(2, '0')).join(':');\n}\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nexport default arrayAggregator;\n","import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nexport default createBaseEach;\n","import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nexport default baseEach;\n","import baseEach from './_baseEach.js';\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nexport default baseAggregator;\n","import arrayAggregator from './_arrayAggregator.js';\nimport baseAggregator from './_baseAggregator.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nexport default createAggregator;\n","import createAggregator from './_createAggregator.js';\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nexport default partition;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport castPath from './_castPath.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nexport default baseSet;\n","import baseGet from './_baseGet.js';\nimport baseSet from './_baseSet.js';\nimport castPath from './_castPath.js';\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nexport default basePickBy;\n","import basePickBy from './_basePickBy.js';\nimport hasIn from './hasIn.js';\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nexport default basePick;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import baseFlatten from './_baseFlatten.js';\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nexport default flatten;\n","import flatten from './flatten.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nexport default flatRest;\n","import basePick from './_basePick.js';\nimport flatRest from './_flatRest.js';\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nexport default pick;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import copyObject from './_copyObject.js';\nimport createAssigner from './_createAssigner.js';\nimport keysIn from './keysIn.js';\n\n/**\n * This method is like `_.assign` except that it iterates over own and\n * inherited source properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assign\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n */\nvar assignIn = createAssigner(function(object, source) {\n  copyObject(source, keysIn(source), object);\n});\n\nexport default assignIn;\n","/* @flow */\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function downcast<From, To: From>(val: From, ty: Class<To>): To;\ndeclare function downcast(val: mixed, ty: 'boolean'): boolean;\ndeclare function downcast(val: mixed, ty: 'number'): number;\ndeclare function downcast(val: mixed, ty: 'string'): string;\n/* eslint-enable no-unused-vars */\n\nexport function downcast(val, ty) {\n\tif (\n\t\t// only perform the check in dev mode, but hide this from Flow\n\t\t/*:: ` */ process.env.NODE_ENV !== 'development' || /*:: ` && */\n\t\t(typeof ty === 'string' ? typeof val === ty : val instanceof ty) // eslint-disable-line valid-typeof\n\t) {\n\t\treturn val;\n\t}\n\n\tthrow new TypeError(`Expected ${val} to be instance of ${ty}.`);\n}\n/* eslint-enable no-redeclare */\n","/* @flow */\n\nimport { memoize, assignIn, once, pick } from 'lodash-es';\nimport { downcast } from './flow';\n\nexport function waitForEvent(ele: EventTarget, ...events: string[]): Promise<Event> {\n\treturn Promise.race(events.map(event =>\n\t\tnew Promise(resolve => {\n\t\t\tele.addEventListener(event, function fire(e) {\n\t\t\t\tele.removeEventListener(event, fire);\n\t\t\t\tresolve(e);\n\t\t\t});\n\t\t}),\n\t));\n}\n\nexport function waitForChild(ele: Element, selector: string): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst child = Array.from(ele.children).find(child => child.matches(selector));\n\t\tif (child) {\n\t\t\tresolve(child);\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE && (node: any).matches(selector)) {\n\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\tresolve(downcast(node, HTMLElement));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true });\n\t});\n}\n\nexport function watchForChildren(ele: Element, selector: string, callback: (ele: HTMLElement) => any): void {\n\tfor (const child of Array.from(ele.children).filter(child => child.matches(selector))) {\n\t\tcallback(child);\n\t}\n\n\twatchForFutureChildren(ele, selector, callback);\n}\n\nexport function watchForFutureChildren(ele: Element, selector: string, callback: (ele: HTMLElement) => any): void {\n\tnew MutationObserver(mutations => {\n\t\tfor (const mutation of mutations) {\n\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE && (node: any).matches(selector)) {\n\t\t\t\t\tcallback(downcast(node, HTMLElement));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}).observe(ele, { childList: true });\n}\n\nexport function waitForDescendant(ele: Element, selector: string): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst child = ele.querySelector(selector);\n\t\tif (child) {\n\t\t\tresolve(child);\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\t// the desired node may a descendant of an added node,\n\t\t\t\t\t\t// so scanning through addedNodes is not sufficient\n\t\t\t\t\t\tconst child = ele.querySelector(selector);\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t\tresolve(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// stop iteration now, since we've already run querySelector over all children\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true, subtree: true });\n\t});\n}\n\nexport function waitForFutureDescendant(ele: Element, selector: string, { added = false, removed = false }: {| added?: boolean, removed?: boolean |} = { added: true, removed: false }): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of [...(added ? mutation.addedNodes : []), ...(removed ? mutation.removedNodes : [])]) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\t// the desired node may a descendant of an added node,\n\t\t\t\t\t\t// so scanning through addedNodes is not sufficient\n\t\t\t\t\t\tconst child = ele.querySelector(selector);\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t\tresolve(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// stop iteration now, since we've already run querySelector over all children\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true, subtree: true });\n\t});\n}\n\nexport function waitForAttach(parent: HTMLElement, el: HTMLElement, cancel?: Promise<*>): Promise<void> {\n\tif (parent.contains(el)) return Promise.resolve();\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (parent.contains(el)) resolve();\n\t\t});\n\n\t\tobserver.observe(parent, { subtree: true, childList: true });\n\t\tif (cancel) cancel.then(() => { observer.disconnect(); reject(new Error('Canceled')); });\n\t});\n}\n\nexport function waitForDetach(el: HTMLElement, cancel?: Promise<*>): Promise<void> {\n\t// Use `document.documentElement` as parent since using other closer element may not detect removal\n\tconst parent = document.documentElement;\n\n\tif (!parent.contains(el)) return Promise.resolve();\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (!parent.contains(el)) resolve();\n\t\t});\n\n\t\tobserver.observe(parent, { subtree: true, childList: true });\n\t\tif (cancel) cancel.then(() => { observer.disconnect(); reject(new Error('Canceled')); });\n\t});\n}\n\nexport function watchForDescendants(ele: Element, selector: string, callback: (ele: HTMLElement) => any, ignoreChildrenIfAddedNodeMatches: boolean = false): void {\n\tfor (const child of ele.querySelectorAll(selector)) {\n\t\tcallback(child);\n\t}\n\n\twatchForFutureDescendants(ele, selector, callback, ignoreChildrenIfAddedNodeMatches);\n}\n\nexport function watchForFutureDescendants(ele: Element, selector: string, callback: (ele: HTMLElement) => any, ignoreChildrenIfAddedNodeMatches: boolean = false): void {\n\tnew MutationObserver(mutations => {\n\t\t// avoid calling the callback twice if streamed-in children match the same selectors as their parents\n\t\t// i.e. nested comments that are rendered at pageload\n\t\tconst children = new Set();\n\t\tfor (const mutation of mutations) {\n\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t// the node itself may match...\n\t\t\t\t\tif ((node: any).matches(selector)) {\n\t\t\t\t\t\tchildren.add(node);\n\t\t\t\t\t\tif (ignoreChildrenIfAddedNodeMatches) continue;\n\t\t\t\t\t}\n\t\t\t\t\t// ...or some of its children may match\n\t\t\t\t\tfor (const child of (node: any).querySelectorAll(selector)) {\n\t\t\t\t\t\tchildren.add(child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const child of children) {\n\t\t\tcallback(downcast(child, HTMLElement));\n\t\t}\n\t}).observe(ele, { childList: true, subtree: true });\n}\n\nexport function empty<T: Element>(parent: T): T {\n\twhile (parent.lastChild) parent.removeChild(parent.lastChild);\n\treturn parent;\n}\n\nexport function click(obj: EventTarget, button: number = 0): void {\n\tobj.dispatchEvent(new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tdetail: 0,\n\t\tscreenX: 1,\n\t\tscreenY: 1,\n\t\tclientX: 1,\n\t\tclientY: 1,\n\t\tbutton,\n\t}));\n}\n\nclick.isProgrammaticEvent = (e: MouseEvent): boolean => e.clientX === 1 && e.clientY === 1;\n\nexport const getViewportSize = memoize((): { width: number, height: number } => {\n\twaitForEvent(window, 'resize').then(() => { getViewportSize.cache.clear(); });\n\n\tlet visualViewport;\n\n\tif (window.visualViewport) {\n\t\tvisualViewport = window.visualViewport;\n\t} else {\n\t\tconst viewportSizedElement = document.createElement('div');\n\t\tviewportSizedElement.style.width = viewportSizedElement.style.height = '100%';\n\t\tviewportSizedElement.style.position = 'fixed';\n\t\tdocument.body.appendChild(viewportSizedElement);\n\t\tvisualViewport = viewportSizedElement.getBoundingClientRect();\n\n\t\t// Try less accurate method in case this didn't work (workaround for potensial Firefox issue)\n\t\tif (!visualViewport.height || !visualViewport.width) {\n\t\t\tvisualViewport = document.documentElement.getBoundingClientRect();\n\t\t}\n\n\t\tviewportSizedElement.remove();\n\t}\n\n\treturn pick(visualViewport, ['height', 'width']);\n});\n\nexport function elementInViewport(ele: HTMLElement): boolean {\n\tif (!ele || !ele.offsetParent) return false;\n\n\tconst { top, left, bottom, right } = ele.getBoundingClientRect();\n\n\treturn (\n\t\ttop >= 0 &&\n\t\tleft >= 0 &&\n\t\tbottom <= getViewportSize().height &&\n\t\tright <= getViewportSize().width\n\t);\n}\n\nfunction getViewportDimensions() {\n\tconst headerOffset = getHeaderOffset();\n\tconst left = window.pageXOffset;\n\tconst top = window.pageYOffset + headerOffset;\n\tconst width = getViewportSize().width;\n\tconst height = getViewportSize().height - headerOffset;\n\n\treturn {\n\t\tyOffset: headerOffset,\n\t\tleft,\n\t\ttop,\n\t\tbottom: top + height,\n\t\tright: left + width,\n\t\twidth,\n\t\theight,\n\t};\n}\n\n// Returns percentage of the element that is within the viewport along the y-axis\n// Note that it doesn't matter where the element is on the x-axis, it can be totally invisible to the user\n// and this function might still return 1!\nexport function getPercentageVisibleYAxis(obj: Element): number {\n\tconst rect = obj.getBoundingClientRect();\n\tconst top = Math.max(0, rect.bottom - rect.height);\n\tconst bottom = Math.min(getViewportSize().height, rect.bottom);\n\tif (rect.height === 0) {\n\t\treturn 0;\n\t}\n\treturn Math.max(0, (bottom - top) / rect.height);\n}\n\nconst padBottom = once(() => {\n\tconst element = document.createElement('div');\n\telement.style.clear = 'both';\n\tconst extraPadding = 50; // In case the body's height reduces\n\treturn (scrollTop, viewportHeight) => {\n\t\tconst currentPadding = element.clientHeight;\n\t\tconst paddingRequired = extraPadding +\n\t\t\t-(document.documentElement.scrollHeight - scrollTop - viewportHeight - currentPadding);\n\t\tif (paddingRequired > 0) document.body.append(element);\n\t\telse element.remove();\n\t\telement.style.height = `${paddingRequired}px`;\n\t};\n});\n\nlet recentScroll = false;\nlet scrollInvokationToken;\n\nexport type ScrollStyle = 'none' | 'top' | 'adopt' | 'middle' | 'page' | 'legacy' | 'directional';\ntype Direction = 'up' | 'down';\ntype Anchor = {| to: number, from?: number |};\n\nexport function scrollToElement(to: HTMLElement, from: ?HTMLElement, {\n\tscrollStyle,\n\trestrictDirectionTo,\n\tdirection: selectedDirection,\n\tanchor,\n\twaitTillVisible,\n}: {|\n\tscrollStyle: ScrollStyle,\n\trestrictDirectionTo?: Direction,\n\tdirection?: Direction,\n\tanchor?: Anchor,\n\twaitTillVisible?: boolean,\n|}): void | Promise<void> {\n\tconst _scrollInvokationToken = scrollInvokationToken = {}; // Unique object in order to check whether invokation with `waitTillVisible` has been superseded\n\n\tif (waitTillVisible && !to.offsetParent) {\n\t\t// Try again next frame\n\t\treturn new Promise(res => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tif (scrollInvokationToken !== _scrollInvokationToken) return;\n\t\t\t\t(scrollToElement(...arguments) || Promise.resolve()).then(res); // eslint-disable-line prefer-rest-params\n\t\t\t});\n\t\t});\n\t}\n\n\tif (scrollStyle === 'none' && !anchor) {\n\t\treturn;\n\t}\n\n\tif (!to.offsetParent) {\n\t\tconsole.error('Element is not visible.');\n\t\treturn;\n\t}\n\n\tif (scrollStyle === 'none' && anchor) {\n\t\tconst diff = to.getBoundingClientRect().top - anchor.to;\n\t\tif (diff) window.scrollBy(0, diff);\n\t}\n\n\tconst viewport = getViewportDimensions();\n\n\tconst target = assignIn({}, to.getBoundingClientRect()); // top, right, bottom, left are relative to viewport\n\ttarget.top -= viewport.yOffset;\n\ttarget.bottom -= viewport.yOffset;\n\n\tconst top = viewport.top + target.top - 5; /* offset */\n\n\tif (scrollStyle === 'middle' && target.height >= viewport.height) {\n\t\tscrollStyle = 'top';\n\t}\n\n\tlet compensateHeader = true;\n\tlet scrollY;\n\n\tif (scrollStyle === 'top') {\n\t\t// Always scroll element to top of page; pad bottom if necessary\n\t\tpadBottom()(top, viewport.height);\n\t\tscrollY = top;\n\t} else if (from && scrollStyle === 'adopt') {\n\t\t// Replace the viewport position of `from` with `element`\n\t\tconst fromTop = anchor && typeof anchor.from === 'number' ?\n\t\t\tanchor.from :\n\t\t\tfrom.getBoundingClientRect().top;\n\t\tlet diff = to.getBoundingClientRect().top - fromTop;\n\n\t\tif (fromTop < 0) {\n\t\t\t// Compensate to show top when it is above viewport\n\t\t\tdiff += fromTop;\n\t\t} else if (fromTop > viewport.height - 60) {\n\t\t\t// Always show at minimum the top 60px of the element\n\t\t\tdiff += fromTop - viewport.height + 60;\n\t\t}\n\n\t\tscrollY = window.scrollY + diff;\n\t\tcompensateHeader = false;\n\t} else if (scrollStyle === 'middle') {\n\t\tconst buffer = (viewport.height - target.height) / 2;\n\t\tconst newScrollY = top - buffer;\n\n\t\tif (elementInViewport(to)) {\n\t\t\tconst viewportDirection = newScrollY >= window.scrollY ? 'down' : 'up';\n\t\t\t// Having these go in opposite directions is jarring\n\t\t\tif (viewportDirection !== selectedDirection) return;\n\t\t}\n\n\t\tscrollY = newScrollY;\n\t} else if (target.top >= 0 && target.bottom <= viewport.height) {\n\t\t// Element is already completely inside viewport\n\t\t// (remember, top and bottom are relative to viewport)\n\t\t// do nothing\n\t} else if (scrollStyle === 'legacy') {\n\t\t// Element not completely in viewport, so scroll to top\n\t\tscrollY = top;\n\t} else if (target.top < viewport.yOffset) {\n\t\t// Element starts above viewport\n\t\t// So, align top of element to top of viewport\n\t\tscrollY = top;\n\t} else if (viewport.height < target.bottom &&\n\t\ttarget.height < viewport.height) {\n\t\t// Visible part of element starts or extends below viewport\n\t\tif (scrollStyle === 'page') {\n\t\t\tscrollY = top;\n\t\t} else {\n\t\t\t// So, align bottom of target to bottom of viewport\n\t\t\tscrollY = viewport.top + target.bottom - viewport.height;\n\t\t}\n\t} else {\n\t\t// Visible part of element below the viewport but it'll fill the viewport, or fallback\n\t\t// So, align top of element to top of viewport\n\t\tscrollY = top;\n\t}\n\n\tif (scrollY !== undefined) {\n\t\tif (compensateHeader) scrollY -= getHeaderOffset();\n\t\tconst scollDirection = scrollY > viewport.top ? 'down' : 'up';\n\t\tif (viewport.top === scrollY || (restrictDirectionTo && restrictDirectionTo !== scollDirection)) return;\n\t\twindow.scrollTo(0, scrollY);\n\t\trecentScroll = true;\n\t\twaitForEvent(window, 'scroll').then(() => { recentScroll = false; });\n\t}\n}\n\nscrollToElement.isProgrammaticEvent = (): boolean => recentScroll;\n\nconst headerIds = { fullWidth: [], partialWidth: [] };\n\nexport function _addHeaderId(elementId: string, partialWidth: boolean = false) {\n\theaderIds[partialWidth ? 'partialWidth' : 'fullWidth'].push(elementId);\n}\n\nexport const getHeaderOffset = memoize((includePartialWidthHeaders?: boolean = false): number => {\n\tconst headers = [\n\t\t...headerIds.fullWidth,\n\t\t...(includePartialWidthHeaders ? headerIds.partialWidth : []),\n\t];\n\n\treturn headers\n\t\t.map(id => document.getElementById(id))\n\t\t.reduce((a, b) => a + b.getBoundingClientRect().height, 0);\n});\n\nexport const getD2xBodyOffset = memoize(() => {\n\ttry {\n\t\treturn document.getElementById('2x-container').offsetTop;\n\t} catch (e) {\n\t\treturn 65;\n\t}\n});\n\nexport function addCSS(css: string) {\n\tlet style = addStyle(css);\n\treturn {\n\t\tremove() {\n\t\t\tif (!style) return;\n\t\t\tstyle.remove();\n\t\t\tstyle.textContent = '';\n\t\t\tstyle = undefined;\n\t\t},\n\t};\n}\n\nfunction addStyle(css) {\n\tconst style = document.createElement('style');\n\tstyle.textContent = css;\n\n\t(document.head || document.documentElement).appendChild(style);\n\n\treturn style;\n}\n\n// r2 Reddit clone certain elements, e.g. when replying or editing a post\n// This will remove elements that have a specific attribute, but have not been registered\nexport const preventCloning = (() => {\n\t// Prevent breaking ava test\n\tif (typeof window === 'undefined') return (e: *) => e;\n\n\tconst attribute = `res-prevent-cloning-${Date.now()}`; // Prevent the attribute being used in a selector\n\tconst elements = new WeakSet();\n\n\t// Delay adding the observer a little, to not slow down init\n\twaitForEvent(window, 'DOMContentLoaded', 'load').then(() => {\n\t\twatchForFutureDescendants(document.body, `[${attribute}]`, e => {\n\t\t\tif (!elements.has(e)) e.remove();\n\t\t});\n\t});\n\n\treturn (element: HTMLElement) => {\n\t\telement.setAttribute(attribute, '');\n\t\telements.add(element);\n\t\treturn element;\n\t};\n})();\n","/* @flow */\n\nimport { once, partition, memoize } from 'lodash-es';\nimport { waitForEvent } from './dom';\n\nexport function matchesPageLocation(includes: Array<PageType | AppType | RegExp>, excludes: Array<PageType | AppType | RegExp> = []): boolean {\n\tconst [includeStrings, includeRegExps]: any = partition(includes, (x: string | RegExp): boolean => typeof x === 'string');\n\tconst [excludeStrings, excludeRegExps]: any = partition(excludes, (x: string | RegExp): boolean => typeof x === 'string');\n\n\treturn (\n\t\t!excludes.length ||\n\t\t!(isPageType(...excludeStrings) || isAppType(...excludeStrings) || matchesPageRegex(...excludeRegExps))\n\t) && (\n\t\t!includes.length ||\n\t\t(isPageType(...includeStrings) || isAppType(...includeStrings) || matchesPageRegex(...includeRegExps))\n\t);\n}\n\n/* eslint-disable key-spacing */\nexport const regexes: { [string]: RegExp } = {\n\tfrontpage:        /^\\/(?:hot|new|rising|controversial|top)?(?:\\/|$)/i,\n\tcomments:         /^\\/(?:r\\/([\\w\\.]+)\\/|(u(?:ser)?\\/[\\w-]+)\\/)?comments\\/([a-z0-9]+)(?:\\/|$)/i,\n\tcommentsLinklist: /^\\/(r\\/[\\w\\.\\+]+\\/|u(?:ser)?\\/[\\w-]+\\/)?comments\\/?$/i,\n\tinbox:            /^\\/(?:r\\/([\\w\\.]+)\\/)?message(?:\\/|$)/i,\n\tprofile:          /^\\/user\\/([\\w\\-]+)(?:\\/(?:(?!m\\/)(\\w+)))?\\/?$/i,\n\tprofile2x:        /^\\/user\\/([\\w\\-]+)(?:\\/(?:(?!m\\/)(\\w+)))?\\/?$/i,\n\tprofileCommentsPage: /^\\/user\\/([\\w\\-]+)\\/comments\\/([a-z0-9]+)(?:\\/|$)/i,\n\tsubmit:           /^\\/(?:r\\/([\\w\\.\\+]+)\\/)?submit(?:\\/|$)/i,\n\tprefs:            /^\\/prefs(?:\\/|$)/i,\n\taccount:          /^\\/account-activity(?:\\/|$)/i,\n\twiki:             /^\\/(?:r\\/([\\w\\.]+)\\/)?wiki(?:\\/|$)/i,\n\tstylesheet:       /^\\/(?:r\\/([\\w\\.]+)\\/)about\\/stylesheet(?:\\/|$)/i,\n\tsearch:           /^\\/(?:r\\/[\\w\\.\\+]+\\/|(?:me|user\\/[\\w\\-]+)\\/[mf]\\/[\\w\\.\\+]+\\/|domain\\/[^\\/]+\\/)?search(?:\\/|$)/i,\n\tcommentPermalink: /^\\/(?:r\\/([\\w\\.]+)\\/)?comments\\/([a-z0-9]+)\\/[^\\/]*\\/([a-z0-9]+)(?:\\/|$)/i,\n\tduplicates:       /^\\/r\\/[\\w\\.\\+]+\\/duplicates\\/([a-z0-9]+)/i,\n\tsubreddit:        /^\\/r\\/([\\w\\.\\+]+)(?:\\/|$)/i,\n\tsubredditAbout:   /^\\/r\\/([\\w\\.]+)\\/about(?:\\/(?!modqueue|reports|spam|unmoderated|edited)|$)/i,\n\tmodqueue:         /^\\/(?:r|me\\/f)\\/([\\w\\.\\+]+)\\/about\\/(?:modqueue|reports|spam|unmoderated|edited)(?:\\/|$)/i,\n\tmultireddit:      /^\\/((?:me|user\\/[\\w\\-]+)\\/[mf]\\/[\\w\\.\\+]+)(?:\\/|$)/i,\n\tdomain:           /^\\/domain\\/([\\w\\.]+)(?:\\/|$)/i,\n\tcomposeMessage:   /^\\/(?:r\\/([\\w\\.\\+]+)\\/)?message\\/compose(?:\\/|$)/i,\n\tliveThread:       /^\\/live\\/(?!create(?:\\/|$))([a-z0-9]+)(?:\\/|$)/i,\n};\n/* eslint-enable key-spacing */\n\nexport const execRegexes: { [string]: (path: string) => ?string[] } = {\n\tcomments: path => {\n\t\tconst match = regexes.comments.exec(path);\n\t\tif (!match) return match;\n\t\tmatch.splice(1, 2, match[1] || match[2] && match[2].replace(/^u.*\\//, 'u_'));\n\t\treturn match;\n\t},\n};\n\nexport type PageType = 'wiki' | 'search' | 'profile' | 'profile2x' | 'profileCommentsPage' | 'stylesheet' | 'modqueue' | 'subredditAbout' | 'comments' | 'commentsLinklist' | 'liveThread' | 'inbox' | 'submit' | 'account' | 'prefs' | 'linklist';\nexport type AppType = 'r2' | 'd2x' | 'options';\n\nexport const appType = once((): AppType => {\n\tif (document.documentElement.hasAttribute('res-options')) {\n\t\treturn 'options';\n\t}\n\tif (document.documentElement.getAttribute('xmlns')) {\n\t\treturn 'r2';\n\t}\n\treturn 'd2x';\n});\n\nexport function isAppType(...types: AppType[]): boolean {\n\tconst thisApp = appType();\n\treturn types.some(type => type === thisApp);\n}\n\nconst appPageTypes: { [AppType]: {| default?: PageType, pageTypes: PageType[] |} } = {\n\tr2: {\n\t\tdefault: 'linklist',\n\t\tpageTypes: ['wiki', 'search', 'stylesheet', 'modqueue', 'subredditAbout', 'comments', 'commentsLinklist', 'profile', 'liveThread', 'inbox', 'submit', 'account', 'prefs'],\n\t},\n\td2x: {\n\t\tpageTypes: ['profile2x', 'profileCommentsPage', 'submit'],\n\t},\n\toptions: {\n\t\tpageTypes: [],\n\t},\n};\n\nexport const pageType = memoize((): ?PageType => {\n\twaitForEvent(document, 'reddit.urlChanged').then(() => {\n\t\tpageType.cache.clear();\n\t});\n\tconst spec = appPageTypes[appType()];\n\treturn spec.pageTypes.find(pageType => regexes[pageType].test(location.pathname)) || spec.default;\n});\n\nexport function isPageType(...types: PageType[]): boolean {\n\tconst thisPage = pageType();\n\treturn types.some(type => type === thisPage);\n}\n\nexport function matchesPageRegex(...regexps: RegExp[]): boolean {\n\treturn regexps.some(regex => regex.test(location.pathname));\n}\n\nexport const currentSubreddit = once((): string | void => {\n\tconst match = location.pathname.match(regexes.subreddit);\n\tif (match) return match[1];\n});\n\nexport function isCurrentSubreddit(...subreddits: string[]): boolean {\n\tconst sub = (currentSubreddit() || '').toLowerCase();\n\tif (!sub) return false;\n\treturn subreddits.some(v => v.toLowerCase() === sub);\n}\n\nexport const currentMultireddit = once((): string | void => {\n\tconst match = location.pathname.match(regexes.multireddit);\n\tif (match) return match[1];\n});\n\nexport function isCurrentMultireddit(...multireddits: string[]): boolean {\n\tconst multi = (currentMultireddit() || '').toLowerCase();\n\tif (!multi) return false;\n\treturn multireddits.some(v => v.toLowerCase() === multi);\n}\n\nexport const currentDomain = once((): string | void => {\n\tconst match = location.pathname.match(regexes.domain);\n\tif (match) return match[1];\n});\n\nexport const currentUserProfile = once((): string | void => {\n\tconst match = location.pathname.match(regexes.profile);\n\tif (match) return match[1];\n});\n\nexport const fullLocation = (pathname: string = location.pathname) => {\n\tconst regex = Object.keys(regexes).find(key => pathname.match(regexes[key]));\n\tif (!regex) return pathname.toLowerCase();\n\n\t// examples: domain-youtube.com, user-gueor, subreddit-enhancement+resissues\n\treturn [\n\t\tregex,\n\t\t...(pathname.match(regexes[regex]) || []).slice(1), // ignore matched string\n\t]\n\t\t.filter(v => v)\n\t\t.join('-')\n\t\t.toLowerCase();\n};\n\n// A link is a comment code if all these conditions are true:\n// * It has no content (i.e. content.length === 0)\n// * Its href is of the form \"/code\" or \"#code\"\n//\n// In case it's not clear, here is a list of some common comment\n// codes on a specific subreddit:\n// https://www.reddit.com/r/metarage/comments/p3eqe/full_updated_list_of_comment_faces_wcodes/\n// also for CSS hacks to do special formatting, like /r/CSSlibrary\n\nconst COMMENT_CODE_REGEX = /^[\\/#].+$/;\n\nexport function isCommentCode(link: HTMLAnchorElement): boolean {\n\t// don't add annotations for hidden links - these are used as CSS\n\t// hacks on subreddits to do special formatting, etc.\n\n\t// Note that link.href will return the full href (which includes the\n\t// reddit.com domain). We don't want that.\n\tconst href = link.getAttribute('href');\n\n\tconst emptyText = link.textContent.length === 0;\n\tconst isCommentCode = COMMENT_CODE_REGEX.test(href);\n\n\treturn emptyText && isCommentCode;\n}\n\nexport function isEmptyLink(link: HTMLAnchorElement): boolean {\n\t// Note that link.href will return the full href (which includes the\n\t// reddit.com domain). We don't want that.\n\tconst href = link.getAttribute('href');\n\treturn typeof href !== 'string' || href.startsWith('javascript:') || href === '#'; // eslint-disable-line no-script-url\n}\n\nexport const inQuarantinedSubreddit = once(() => document.body.classList.contains('quarantine'));\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","import arrayFilter from './_arrayFilter.js';\nimport arrayMap from './_arrayMap.js';\nimport baseProperty from './_baseProperty.js';\nimport baseTimes from './_baseTimes.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.zip` except that it accepts an array of grouped\n * elements and creates an array regrouping the elements to their pre-zip\n * configuration.\n *\n * @static\n * @memberOf _\n * @since 1.2.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n *\n * _.unzip(zipped);\n * // => [['a', 'b'], [1, 2], [true, false]]\n */\nfunction unzip(array) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var length = 0;\n  array = arrayFilter(array, function(group) {\n    if (isArrayLikeObject(group)) {\n      length = nativeMax(group.length, length);\n      return true;\n    }\n  });\n  return baseTimes(length, function(index) {\n    return arrayMap(array, baseProperty(index));\n  });\n}\n\nexport default unzip;\n","import apply from './_apply.js';\nimport arrayMap from './_arrayMap.js';\nimport unzip from './unzip.js';\n\n/**\n * This method is like `_.unzip` except that it accepts `iteratee` to specify\n * how regrouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  regrouped values.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n * // => [[1, 10, 100], [2, 20, 200]]\n *\n * _.unzipWith(zipped, _.add);\n * // => [3, 30, 300]\n */\nfunction unzipWith(array, iteratee) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var result = unzip(array);\n  if (iteratee == null) {\n    return result;\n  }\n  return arrayMap(result, function(group) {\n    return apply(iteratee, undefined, group);\n  });\n}\n\nexport default unzipWith;\n","import baseRest from './_baseRest.js';\nimport unzipWith from './unzipWith.js';\n\n/**\n * This method is like `_.zip` except that it accepts `iteratee` to specify\n * how grouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  grouped values.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n *   return a + b + c;\n * });\n * // => [111, 222]\n */\nvar zipWith = baseRest(function(arrays) {\n  var length = arrays.length,\n      iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n  iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n  return unzipWith(arrays, iteratee);\n});\n\nexport default zipWith;\n","/* @flow */\n\nconst escapeLookups = {\n\t'&': '&amp;',\n\t'\"': '&quot;',\n\t\"'\": '&apos;', // eslint-disable-line quotes\n\t'<': '&lt;',\n\t'>': '&gt;',\n\t'/': '&#47;',\n};\n\nexport function escapeHTML(str: ?string): string {\n\treturn str ?\n\t\tstr.toString().replace(/[&\"'<>\\/]/g, m => escapeLookups[m]) :\n\t\t'';\n}\n","/* @flow */\n\nimport { zipWith } from 'lodash-es';\nimport levenshtein from 'fast-levenshtein';\nimport { downcast } from './flow';\nimport { escapeHTML } from './html';\nimport type { Iteratee } from './array';\n\ntype StringTagFunction<V> = (s: string[], ...values: V[]) => string;\ntype HtmlTagValues = ?false | string | number | OpaqueSafeString | OpaqueSafeString[];\n\nfunction stringTagFunction<T>(valueTransform: Iteratee<T, string | void>): StringTagFunction<T> {\n\treturn (strings, ...values) =>\n\t\tzipWith(\n\t\t\tstrings,\n\t\t\tvalues.map(valueTransform),\n\t\t\t(s, v) => `${s}${v === undefined ? '' : v}`,\n\t\t).join('');\n}\n\nexport const encode: StringTagFunction<string> = stringTagFunction(encodeURIComponent);\n\nexport const escape: StringTagFunction<string> = stringTagFunction(escapeHTML);\n\ntype OpaqueSafeString = {| __safe__: string |};\n\nexport function safe(str: string): OpaqueSafeString {\n\treturn { __safe__: str };\n}\n\nconst MAX_DISTANCE_RATIO = 0.05;\n\nexport function areSimilar(a: string, b: string): boolean {\n\treturn levenshtein.get(a, b) <= MAX_DISTANCE_RATIO * Math.max(a.length, b.length);\n}\n\nexport const regexRegex = /^\\/(.*)\\/([sgimu]+)?$/;\n\nconst htmlTagFunction = stringTagFunction(x => {\n\t// avoid treating 0 as falsy and rendering nothing\n\tif (typeof x === 'number') return String(x);\n\t// falsy values not rendered\n\tif (!x) return '';\n\t// bare strings/numbers are escaped\n\tif (typeof x === 'string') return escapeHTML(x);\n\t// arrays of safe strings\n\tif (Array.isArray(x)) return x.filter(s => s && typeof s.__safe__ === 'string').map(s => s.__safe__).join('');\n\t// safe strings\n\tif (x.hasOwnProperty('__safe__')) return x.__safe__;\n\tthrow new TypeError(`Invalid html template interpolation: ${String(x)}`);\n});\n\n/**\n * Intended for mustache-like HTML templates:\n * - falsy values are not rendered\n * - arrays are joined with the empty string\n * - strings are html-escaped, single element string tuples are not\n */\nexport const html = (s: string[], ...values: HtmlTagValues[]) => {\n\tconst markup = htmlTagFunction(s, ...values);\n\n\t// <template> elements allow out-of-place elements e.g. <tr> without a <table>\n\t// but they cause weird issues in Firefox (#4222), and it's unlikely that you'll need\n\t// to use <tr>, except embedded in another template with string._html`<tr>...</tr>`,\n\t// which doesn't have this limitation.\n\tconst template = document.createElement('div');\n\ttemplate.innerHTML = markup;\n\tif (template.childElementCount !== 1) {\n\t\tthrow new Error(`Html template should have exactly one root node, but had ${template.childElementCount}`);\n\t}\n\tconst child = downcast(template.firstElementChild, HTMLElement);\n\tchild.remove();\n\treturn child;\n};\n\n/**\n * Intended for nested arrays or optional values in HTML templates.\n */\nexport const _html = (s: string[], ...values: HtmlTagValues[]) => safe(htmlTagFunction(s, ...values));\n","/* @flow */\n\nimport { once } from 'lodash-es';\nimport { ajax } from '../environment';\nimport type { CurrentRedditUser, RedditAccount } from '../types/reddit';\nimport { MINUTE } from './time';\nimport { isAppType, regexes } from './location';\nimport * as string from './string';\n\nexport const isLoggedIn = once(() => {\n\tif (loggedInUser()) {\n\t\treturn true;\n\t} else if (document.querySelector('header a[href^=\"/message/inbox\"]')) {\n\t\treturn true;\n\t}\n});\n\nexport const loggedInUser = once((): string | void => documentLoggedInUser(document));\n\nexport const documentLoggedInUser = (document: Document | Element): string | void => {\n\tif (isAppType('d2x')) {\n\t\t// The first text node in the user button contains the username\n\t\tconst findFirstTextNode = e => [...e.childNodes].filter(v => v.nodeType === 3).concat(...[...e.children].map(findFirstTextNode));\n\t\tconst button = document.querySelector('#USER_DROPDOWN_ID > *');\n\t\tconst username = button && findFirstTextNode(button)[0];\n\t\treturn username && username.textContent;\n\t}\n\n\tconst link: ?HTMLAnchorElement = (document.querySelector('#header-bottom-right > span.user > a'): any);\n\tif (!link || link.classList.contains('login-required')) return;\n\tconst profile = regexes.profile.exec(link.pathname);\n\tif (profile) {\n\t\treturn profile[1];\n\t}\n};\n\nexport const isModeratorAnywhere = once((): boolean => !!(document.getElementById('modmail') || document.querySelector('[href=\"/r/mod/\"]')));\n\nexport const loggedInUserHash = once(async (): Promise<?string> => {\n\tconst hashEle = document.querySelector('[name=uh]');\n\tif (hashEle instanceof HTMLInputElement) {\n\t\treturn hashEle.value;\n\t}\n\n\tconst userInfo = await loggedInUserInfo();\n\treturn userInfo && userInfo.data && userInfo.data.modhash;\n});\n\nexport const loggedInUserInfo = once((): Promise<CurrentRedditUser | void> =>\n\t!isLoggedIn() ? Promise.resolve() : ajax({ url: '/api/me.json', type: 'json' })\n\t\t.then(data => data.data && data.data.modhash ? data : undefined));\n\nconst usernameRE = /(?:u|user)\\/([\\w\\-]{3,20}(?![\\w\\-]))/;\n\nexport const usernameSelector = [\n\t'.contents .author',\n\t'p.tagline a.author',\n\t'#friend-table span.user a',\n\t'.sidecontentbox .author',\n\t'div.md a[href^=\"/u/\"]:not([href*=\"/m/\"])',\n\t'div.md a[href*=\"reddit.com/u/\"]:not([href*=\"/m/\"])',\n\t'.usertable a.author',\n\t'.parent > a.author',\n\t'.usertable span.user a',\n\t'div.wiki-page-content .author',\n\t'.Post__authorLink', // Newish profile page\n].join(', ');\n\nexport function getUsernameFromLink(element: HTMLElement): ?string {\n\tif (!(element instanceof HTMLAnchorElement)) return;\n\n\tconst { href, origin } = element;\n\n\t// The link should refer to this site\n\tif (!location.origin.endsWith(origin.split('.').slice(-2).join('.'))) return;\n\n\tconst [, username] = href.match(usernameRE) || [];\n\tif (username) return username;\n}\n\nexport function getUserInfo(username: ?string = loggedInUser()): Promise<RedditAccount> {\n\tif (!username) {\n\t\treturn Promise.reject(new Error('getUserInfo: null/undefined username'));\n\t}\n\n\treturn ajax({\n\t\turl: string.encode`/user/${username}/about.json`,\n\t\ttype: 'json',\n\t\tcacheFor: 10 * MINUTE,\n\t});\n}\n","/* @flow */\n\nimport {\n\tloggedInUser,\n\tloggedInUserHash,\n} from '../../utils/user';\nimport { waitForEvent } from '../../utils/dom';\n\nexport const data: {|\n\tuserHash: ?string,\n\tusername: ?string,\n\torigin: string,\n\tpathname: string,\n|} = {\n\tuserHash: null,\n\tusername: null,\n\torigin: 'https://www.reddit.com',\n\tpathname: location.pathname,\n};\n\nexport function establish(contentStart: *) {\n\tif (!location.protocol.startsWith('http')) return;\n\n\tdata.origin = location.origin;\n\n\tcontentStart.then(() => {\n\t\tdata.username = loggedInUser();\n\t\tloggedInUserHash().then(hash => { data.userHash = hash; });\n\t});\n}\n\nexport function retrieveFromParent() {\n\tif (window === window.parent) return Promise.resolve();\n\n\treturn waitForEvent(window, 'message').then(({ data: { context } }: any) => {\n\t\tObject.assign(data, context);\n\t});\n}\n","/* @flow */\n\nimport { createMessageHandler } from '../utils/messaging';\nimport { apiToPromise } from '../utils/api';\n\nconst _sendMessage = apiToPromise(chrome.runtime.sendMessage);\n\nconst {\n\t_handleMessage,\n\tsendMessage,\n\taddListener,\n} = createMessageHandler(obj => _sendMessage(obj));\n\nchrome.runtime.onMessage.addListener((obj, sender, sendResponse) => _handleMessage(obj, sendResponse));\n\nexport {\n\tsendMessage,\n\taddListener,\n};\n","/* @flow */\n\nexport function isPrivateBrowsing(): boolean {\n\treturn chrome.extension.inIncognitoContext;\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\nimport { isPrivateBrowsing } from './privateBrowsing';\n\nexport async function addURLToHistory(url: string): Promise<void> {\n\tif (isPrivateBrowsing()) return;\n\n\tawait sendMessage('addURLToHistory', url);\n}\n\nexport function isURLVisited(url: string): Promise<boolean> {\n\treturn sendMessage('isURLVisited', url);\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function set(key: string, value: mixed) {\n\treturn sendMessage('XHRCache', ['set', key, value]);\n}\n\nexport function check(key: string, maxAge?: number /* milliseconds */): Promise<any | void> {\n\treturn sendMessage('XHRCache', ['check', key, maxAge]);\n}\n\nfunction delete_(key: string) {\n\treturn sendMessage('XHRCache', ['delete', key]);\n}\nexport { delete_ as delete };\n\nexport function clear() {\n\treturn sendMessage('XHRCache', ['clear']);\n}\n","/* @flow */\n\nimport { fromPairs } from 'lodash-es';\nimport { context } from '../../environment';\nimport { sendMessage } from './messaging';\nimport * as XhrCache from './xhrCache';\n\ntype ResponseType = 'text' | 'json' | 'raw';\ntype MethodType = 'GET' | 'HEAD' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\ntype AjaxOptions<Ty: ResponseType | void> = {|\n\tmethod?: MethodType,\n\turl: string,\n\tquery?: { [string]: string | number | boolean },\n\theaders?: { [string]: string },\n\tdata?: string | { [string]: string },\n\ttype?: Ty,\n\tcacheFor?: number,\n\tcredentials?: 'include' | 'omit',\n|};\n\nclass FetchError extends Error {\n\tstatus: number;\n\n\tconstructor(url, status) {\n\t\tsuper(`${url} failed with status ${status}`);\n\t\tthis.status = status;\n\t}\n}\n\n/* eslint-disable no-redeclare */\ndeclare function ajax(opt: AjaxOptions<void>): Promise<string>;\ndeclare function ajax(opt: AjaxOptions<'text'>): Promise<string>;\ndeclare function ajax(opt: AjaxOptions<'json'>): Promise<{ [string | number]: any }>;\ndeclare function ajax(opt: AjaxOptions<'raw'>): Promise<{\n\tok: boolean,\n\tstatus: number,\n\theaders: { [string]: string },\n\ttext: string,\n}>;\n\n/**\n * Send a fetch request.\n *\n * `method`, `url`, and `headers` behave in the obvious way.\n * `query` adds query params to `url`.\n * `data` objects will be sent as application/x-www-form-urlencoded.\n * `data` strings will be sent as-is.\n * `type` affects the return type, either 'text' or 'json'.\n * `cacheFor` is a TTL, in milliseconds.\n */\nexport async function ajax(options: AjaxOptions<*>) {\n\tconst { method, url, headers, data, type, cacheFor, sameOrigin, credentials } = buildRequestParams(options);\n\n\tif (cacheFor) {\n\t\tconst cached = await XhrCache.check(url, cacheFor);\n\t\tif (cached) {\n\t\t\treturn processResponse(cached, type);\n\t\t}\n\t}\n\n\tconst response = await (sameOrigin ?\n\t\tfetch(url, {\n\t\t\tmethod,\n\t\t\theaders,\n\t\t\tcredentials,\n\t\t\tbody: data,\n\t\t}).then(async r => ({\n\t\t\tok: r.ok,\n\t\t\tstatus: r.status,\n\t\t\theaders: fromPairs(Array.from(r.headers.entries())),\n\t\t\ttext: await r.text(),\n\t\t})) :\n\t\tsendMessage('ajax', { method, url, headers, data, credentials })\n\t);\n\n\tif (!response.ok) {\n\t\tthrow new FetchError(url, response.status);\n\t}\n\n\tif (cacheFor) {\n\t\tXhrCache.set(url, response);\n\t}\n\n\treturn processResponse(response, type);\n}\n/* eslint-enable no-redeclare */\n\najax.invalidate = (options: AjaxOptions<*>) =>\n\tXhrCache.delete(buildRequestParams(options).url);\n\nfunction buildRequestParams({ method = 'GET', url, query = {}, headers = {}, data, type = 'text', credentials, cacheFor = 0 }): {|\n\tmethod: MethodType,\n\turl: string,\n\theaders: { [string]: string },\n\tdata: string | void,\n\ttype: ResponseType,\n\tcacheFor: number,\n\tsameOrigin: boolean,\n\tcredentials: 'omit' | 'include',\n|} {\n\tconst siteOrigin = new URL(context.origin);\n\n\t// Expand relative URLs\n\tconst requestURL = new URL(url, siteOrigin);\n\n\t// Append query string to URL\n\tfor (const [key, val] of Object.entries(query)) {\n\t\trequestURL.searchParams.set(key, String(val));\n\t}\n\n\tconst sameSite = requestURL.hostname.split('.').slice(-2).join('.') === siteOrigin.hostname.split('.').slice(-2).join('.');\n\tif (sameSite) {\n\t\t// Add `app=res` to same-origin request URLs\n\t\trequestURL.searchParams.set('app', 'res');\n\n\t\t// include cookies for same-origin requests (to load correct posts, etc.)\n\t\tif (!credentials) credentials = 'include';\n\n\t\tif (method !== 'GET' && method !== 'HEAD') {\n\t\t\t// Send modhash for same-origin non-GET requests\n\t\t\tif (context.userHash) headers['X-Modhash'] = context.userHash;\n\t\t}\n\n\t\t// new.reddit.com specifically selects the reddit desktop web frontend service.\n\t\t// AJAX requests should be sent to www.reddit.com, which will select the correct\n\t\t// service based on the path.\n\t\trequestURL.hostname = requestURL.hostname.replace(/new\\./, 'www.');\n\t}\n\n\tconst sameOrigin = siteOrigin.origin === requestURL.origin;\n\n\t// Convert plain data objects to application/x-www-form-urlencoded\n\tif (typeof data === 'object') {\n\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t// this needs to be a string because Edge doesn't support sending URlSearchParams\n\t\t// (the fetch polyfill passes it through to XHR, which is correct behaviour)\n\t\tdata = new URLSearchParams(data).toString();\n\t}\n\n\treturn {\n\t\tmethod,\n\t\turl: requestURL.href,\n\t\theaders,\n\t\tdata,\n\t\ttype,\n\t\tcacheFor,\n\t\tcredentials: credentials || 'omit',\n\t\tsameOrigin,\n\t};\n}\n\nfunction processResponse(response, type: ResponseType) {\n\tswitch (type) {\n\t\tcase 'text':\n\t\t\treturn response.text;\n\t\tcase 'json':\n\t\t\treturn JSON.parse(response.text);\n\t\tcase 'raw':\n\t\t\treturn response;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid type: ${type}`);\n\t}\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function download(url: string, filename?: string) {\n\t// Firefox and Chrome <a download> is same-origin only\n\tsendMessage('download', {\n\t\t// resolve relative URLs\n\t\turl: new URL(url, location.href).href,\n\t\tfilename,\n\t});\n}\n","/* @flow */\n\nexport function getExtensionId(): string {\n\treturn chrome.runtime.id;\n}\n\nexport const getURL = chrome.runtime.getURL;\n\nexport const getOptionsURL = (hash: string = '') => new URL(hash, getURL('options.html'));\nexport const isOptionsPage = () => location.origin === getOptionsURL().origin;\n","/* @flow */\n\nexport const CACHED_LANG_KEY = 'RES.i18nCachedLang';\nexport const CACHED_MESSAGES_KEY = 'RES.i18nCachedMessages';\nexport const CACHED_MESSAGES_TOKEN_KEY = 'RES.i18nCachedMessagesToken';\n","export default \"5.20.9\";","/* @flow */\n\nimport { CACHED_LANG_KEY, CACHED_MESSAGES_KEY, CACHED_MESSAGES_TOKEN_KEY } from '../../constants/localStorage';\nimport { sendMessage } from './messaging';\nimport buildToken from 'exec-loader!../../../build/buildToken'; // eslint-disable-line import/no-extraneous-dependencies\n\nconst REDDIT_LANGUAGES = new Set(['en', 'af', 'ar', 'be', 'bg', 'bn-IN', 'bn-bd', 'bs', 'ca', 'cs', 'cy', 'da', 'de', 'el', 'en-au', 'en-ca', 'en-gb', 'en-us', 'eo', 'es', 'es-ar', 'es-mx', 'et', 'eu', 'fa', 'fi', 'fil', 'fr', 'fr-ca', 'fy-NL', 'ga-ie', 'gd', 'gl', 'he', 'hi', 'hr', 'hu', 'hy', 'id', 'is', 'it', 'ja', 'kn_IN', 'ko', 'la', 'leet', 'lol', 'lt', 'lv', 'ms', 'mt-MT', 'nl', 'nn', 'no', 'pir', 'pl', 'pt', 'pt-pt', 'pt_BR', 'ro', 'ru', 'sk', 'sl', 'sr', 'sr-la', 'sv', 'ta', 'th', 'tr', 'uk', 'vi', 'zh', 'zh-cn']);\n// reddit languages which are not valid browser languages\nconst SPECIAL_LANGUAGES = new Set(['leet', 'lol', 'pir']);\n\nexport let locale = navigator.language || 'en'; // May be changed depending on Reddit language\n\nfunction isValidLocale(localeString) {\n\t// there doesn't appear to be a proper way to check if a language tag is valid, so we have to do this\n\ttry {\n\t\treturn typeof (0).toLocaleString(localeString) === 'string';\n\t} catch (e) {\n\t\treturn false;\n\t}\n}\n\nfunction getRedditLocale() {\n\tconst redditLocale = typeof document !== 'undefined' && document.documentElement.getAttribute('lang');\n\tif (redditLocale && (REDDIT_LANGUAGES.has(redditLocale))) {\n\t\t// `pt_BR` -> `pt-br`\n\t\tconst locale = redditLocale.toLowerCase().replace('_', '-');\n\t\tif (isValidLocale(locale)) {\n\t\t\trequestIdleCallback(() => { sendMessage('setLastRedditLocale', locale); });\n\t\t\treturn locale;\n\t\t}\n\t}\n\n\treturn sendMessage('getLastRedditLocale');\n}\n\nlet messages;\n\nexport async function _loadI18n(): Promise<void> {\n\tconst redditLocale = await getRedditLocale();\n\tif (redditLocale && !SPECIAL_LANGUAGES.has(redditLocale)) locale = redditLocale;\n\n\t// fast path: i18n dictionary is cached\n\t// should be hit almost every time\n\tif (\n\t\tlocalStorage.getItem(CACHED_LANG_KEY) === redditLocale &&\n\t\tlocalStorage.getItem(CACHED_MESSAGES_TOKEN_KEY) === buildToken\n\t) {\n\t\ttry {\n\t\t\t// eslint-disable-next-line require-atomic-updates\n\t\t\tmessages = JSON.parse(localStorage.getItem(CACHED_MESSAGES_KEY) || '');\n\t\t\treturn;\n\t\t} catch (e) {\n\t\t\tconsole.error('Failed to parse cached i18n', e);\n\t\t}\n\t}\n\n\t// slow path: wait for background page to send new locales\n\t// will be hit the first (ever) pageload on a new domain\n\t// or after clearing localStorage\n\tmessages = await sendMessage('i18n', redditLocale);\n\n\ttry { // Fails if remaining localStorage space is insufficient\n\t\tlocalStorage.setItem(CACHED_MESSAGES_KEY, JSON.stringify(messages));\n\t\tlocalStorage.setItem(CACHED_LANG_KEY, redditLocale);\n\t\tlocalStorage.setItem(CACHED_MESSAGES_TOKEN_KEY, buildToken);\n\t} catch (e) {\n\t\tconsole.error('Could not cache i18n - RES will load VERY slowly', e);\n\t\t// XXX: reddit has a habit of filling up these localstorage keys, so speculatively delete them\n\t\tlocalStorage.removeItem('ads.adserverDownvotePixel');\n\t\tlocalStorage.removeItem('ads.adserverUpvotePixel');\n\t}\n}\n\n// Behaves like https://developer.chrome.com/extensions/i18n#method-getMessage\nexport function i18n(messageName: string, ...substitutions: Array<string | number>): string {\n\tif (!messageName) return '';\n\n\tif (!messages) {\n\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\tthrow new Error(`i18n called too early! key: ${messageName}`);\n\t\t} else {\n\t\t\tconsole.error('i18n called too early! key:', messageName);\n\t\t\treturn messageName;\n\t\t}\n\t}\n\n\tconst message = messages[messageName];\n\n\tif (!message) return messageName;\n\n\t// Fast path: avoid running regex when there are no substitutions\n\tif (substitutions.length === 0) return message;\n\n\t// Replace direct references to substitutions, e.g. `First substitution: $1`\n\t// Maximum of 9 substitutions allowed, i.e. only one number after the `$`\n\treturn message.replace(/\\$(\\d)\\b(?!\\$)/g, (match, number) => substitutions[number - 1]);\n\n\t// Chrome also supports named placeholders, e.g. `Error: $error_message$`\n\t// but Transifex does not create the `placeholders` field in exported JSON\n\t// https://developer.chrome.com/extensions/i18n#examples-getMessage\n}\n","/* @flow */\n\nimport { memoize } from 'lodash-es';\nimport { sendMessage } from './messaging';\n\nexport const loadScript = memoize((url: string) => sendMessage('loadScript', { url }));\n","/* @flow */\n\nimport { memoize } from 'lodash-es';\nimport { mutex } from '../../utils/async';\nimport { sendMessage } from './messaging';\n\ntype Perms = Array<string>;\n\nfunction filterPerms(perms) {\n\tconst permissions = perms.filter(p => !p.includes('://') && p !== '<all_urls>');\n\tconst origins = perms.filter(p => p.includes('://') || p === '<all_urls>');\n\treturn { permissions, origins };\n}\n\n/**\n * @param {Array<string>} perms Permissions to check if granted\n * @returns {Promise<boolean>}\n */\nexport const has = memoize(\n\t(perms: Perms) => sendMessage('permissions', { operation: 'contains', ...filterPerms(perms) }),\n\tperms => perms.join(','),\n);\n\n/**\n * @param {Array<string>} perms Optional Chrome permissions to request.\n * @param {string} perms Name of site to request permission for\n * @returns {Promise<void, *>} Resolves if the permissions are granted, rejects otherwise.\n */\nexport const request = mutex(async (perms: Perms) => {\n\tif (await has(perms)) return;\n\n\tconst { permissions, origins } = filterPerms(perms);\n\n\tconst granted = await sendMessage('permissions', { operation: 'request', permissions, origins });\n\tif (granted) {\n\t\thas.cache.set(perms.join(','), true);\n\t} else {\n\t\tthrow new Error(`Permission not granted for: ${perms.join(', ')}`);\n\t}\n});\n","/* @flow */\n\nimport { sendMessage } from './messaging';\nimport * as Permissions from './permissions';\n\nexport async function launchAuthFlow({\n\tdomain,\n\tclientId,\n\tscope = '',\n\tpermissions,\n}: {|\n\tdomain: string,\n\tclientId: string,\n\tscope?: string,\n\tpermissions: Array<string>,\n|}, warnUserInteraction: (message: string) => Promise<void>): Promise<string> {\n\tif (permissions.length && !await Permissions.has(permissions)) {\n\t\tconst resAuth = 'https://redditenhancementsuite.com/oauth';\n\t\t// Firefox can use `launchWebAuthFlow` and doesn't need to redirect to our domain\n\t\tif (process.env.BUILD_TARGET !== 'firefox' && !await Permissions.has([resAuth])) {\n\t\t\tpermissions.push(resAuth);\n\t\t}\n\n\t\tawait warnUserInteraction(permissions.includes(resAuth) ? 'You may be redirected to redditenhancementsuite.com to complete the login process.' : '');\n\n\t\tawait Permissions.request(permissions);\n\t}\n\n\tlet responseUrl;\n\ttry {\n\t\tresponseUrl = await sendMessage('authFlow', { domain, clientId, scope, interactive: false });\n\t} catch (e) {\n\t\tconsole.error('Noninteractive auth failed:', e);\n\n\t\tresponseUrl = await sendMessage('authFlow', { domain, clientId, scope, interactive: true });\n\t}\n\n\tconst hash = new URL(responseUrl).hash.slice(1);\n\tconst token = new URLSearchParams(hash).get('access_token');\n\n\tif (!token) throw new Error('No token found in response.');\n\n\treturn token;\n}\n","/* @flow */\n\nimport { addListener, sendMessage } from './messaging';\n\nconst callbacks = new Map();\n\naddListener('multicast', ({ name, args }) => {\n\tconst callback = callbacks.get(name);\n\t// Not every foreground pages subscribes to every multicast\n\tif (callback) return callback(...args);\n});\n\n/*\n * Creates a wrapper function that will invoke `callback` in all other tabs.\n */\nexport function multicast<T:(...args: any) => any>(callback: T, { name, local = true, crossContext = true }: {| name: string, local?: boolean, crossContext?: boolean |}): T {\n\tif (callbacks.has(name)) {\n\t\tthrow new Error(`Multicast handler with name \"${name}\" exists.`);\n\t}\n\n\tcallbacks.set(name, callback);\n\n\tfunction localOnly(...args) {\n\t\tcallback(...args);\n\t}\n\n\tconst invoke: any = (...args) => {\n\t\tsendMessage('multicast', { name, args, crossContext });\n\n\t\tif (local) {\n\t\t\tlocalOnly(...args);\n\t\t}\n\t};\n\n\tinvoke.local = localOnly;\n\n\treturn invoke;\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function openNewTab(url: string, focus?: boolean = true) {\n\treturn openNewTabs(focus, url);\n}\n\ntype Focus = 'first' | 'last' | 'none' | boolean;\n\nexport function openNewTabs(focus: Focus, ...urls: string[]) {\n\tlet focusIndex;\n\n\tif (typeof focus !== 'string') focus = !!focus;\n\n\tswitch (focus) {\n\t\tcase 'first':\n\t\t\tfocusIndex = 0;\n\t\t\tbreak;\n\t\tcase true:\n\t\tcase 'last':\n\t\t\tfocusIndex = urls.length - 1;\n\t\t\tbreak;\n\t\tcase false:\n\t\tcase 'none':\n\t\t\tfocusIndex = -1;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid focus specified: ${focus}`);\n\t}\n\n\t// Expand relative URLs\n\turls = urls.map(url => new URL(url, location.href).href);\n\n\treturn sendMessage('openNewTabs', { urls, focusIndex });\n}\n","/* @flow */\n\nimport { frameThrottle } from '../../utils/async';\nimport { addListener, sendMessage } from './messaging';\n\nconst clickListeners = [];\n\nexport function onClick(callback: () => void) {\n\tclickListeners.push(callback);\n}\n\naddListener('pageActionClick', () => { for (const fn of clickListeners) fn(); });\n\n// Don't update before page is visible, as Firefox (buggily?) ignores pageAction updates to hidden pages\nconst update = frameThrottle(value => sendMessage('pageAction', value));\n\nexport function show(state?: boolean = false) {\n\treturn update({ operation: 'show', state });\n}\n\nexport function hide() {\n\treturn update({ operation: 'hide' });\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function get(key: string): Promise<any | void> {\n\treturn sendMessage('session', ['get', key]);\n}\n\nexport function set(key: string, value: mixed) {\n\treturn sendMessage('session', ['set', key, value]);\n}\n\nexport function delete_(key: string) {\n\treturn sendMessage('session', ['delete', key]);\n}\nexport { delete_ as delete };\n\nexport function has(key: string): Promise<boolean> {\n\treturn sendMessage('session', ['has', key]);\n}\n\nexport function clear() {\n\treturn sendMessage('session', ['clear']);\n}\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import arrayEach from './_arrayEach.js';\nimport baseCreate from './_baseCreate.js';\nimport baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\nimport getPrototype from './_getPrototype.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isTypedArray from './isTypedArray.js';\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nexport default transform;\n","/* @flow */\n\n/*\n * Roughly equivalent to `$.extend(true, target, source)`\n * Unfortunately lodash does not seem to offer any function that does this:\n * _.assign/_.extend/Object.assign are not recursive\n * _.merge and _.defaultsDeep ignore undefined values\n */\nexport function extendDeep(target: { [string]: mixed }, source: { [string]: mixed }): { [string]: mixed } {\n\tfor (const key of Object.keys(source)) {\n\t\tif (\n\t\t\ttarget[key] && source[key] &&\n\t\t\ttypeof target[key] === 'object' && typeof source[key] === 'object' &&\n\t\t\t!Array.isArray(source[key]) && !Array.isArray(target[key])\n\t\t) {\n\t\t\textendDeep(target[key], source[key]);\n\t\t} else {\n\t\t\ttarget[key] = source[key];\n\t\t}\n\t}\n\treturn target;\n}\n","/* @flow */\n\nimport { transform, once } from 'lodash-es';\nimport { extendDeep } from '../../utils/object';\nimport { batch, keyedMutex } from '../../utils/async';\nimport { apiToPromise } from '../utils/api';\nimport { sendMessage } from './messaging';\n\nconst __set = apiToPromise((items, callback) => chrome.storage.local.set(items, callback));\nconst _set = (key, value) => __set({ [key]: value });\nconst __get = apiToPromise((keys, callback) => chrome.storage.local.get(keys, callback));\nconst _get = async (key, defaultValue = null) => (await __get({ [key]: defaultValue }))[key];\nconst _delete = apiToPromise((keys, callback) => chrome.storage.local.remove(keys, callback));\nconst _clear = apiToPromise(callback => chrome.storage.local.clear(callback));\n\nconst withLockOn = keyedMutex(<T>(key: string, fn: () => T): T => fn());\n\nexport function get(key: string): Promise<any | null> {\n\treturn withLockOn(key, () => _get(key, null));\n}\n\nexport function getAll(): Promise<{ [string]: mixed }> {\n\treturn __get(null);\n}\n\nexport function getMultiple<T: string>(keys: T[]): Promise<{ [T]: any | null }> {\n\tconst defaults = {};\n\tfor (const k of keys) {\n\t\tdefaults[k] = null;\n\t}\n\treturn __get(defaults);\n}\n\nexport function set(key: string, value: mixed): Promise<void> {\n\treturn withLockOn(key, () => _set(key, value));\n}\n\nexport function setMultiple(valueMap: { +[string]: mixed }): Promise<void> {\n\treturn __set(valueMap);\n}\n\nfunction compareAndSet(key: string, defaultValue: mixed, oldValue: mixed, newValue: mixed): Promise<boolean> {\n\t// Redirect to the background instance as it allows for a common mutex,\n\t// preventing race conditions when several tabs invokes this function around the same time\n\treturn sendMessage('storage-cas', [key, defaultValue, oldValue, newValue]);\n}\n\n/*\n * Deeply patches an object in storage, like extendDeep().\n */\nfunction patch(key: string, value: { [string]: mixed }): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst extended = extendDeep(await _get(key) || {}, value);\n\t\treturn _set(key, extended);\n\t});\n}\n\n/*\n * Shallowly patches an object in storage, like Object.assign().\n */\nfunction patchShallow(key: string, value: { [string]: mixed }): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst extended = Object.assign(await _get(key) || {}, value);\n\t\treturn _set(key, extended);\n\t});\n}\n\n/*\n * Deletes a property on a value in storage.\n * i.e. `deletePath('userTaggerStorageKey', 'username', 'tag')`\n * will `delete userTaggerStoredValue.username.tag`\n */\nfunction deletePaths(key: string, paths: string[][]): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst stored = await _get(key);\n\t\tif (!stored) return;\n\t\tfor (const path of paths) {\n\t\t\tpath.reduce((obj, key, i, { length }) => {\n\t\t\t\tif (!obj) return;\n\t\t\t\tif (i < length - 1) return obj[key];\n\t\t\t\tdelete obj[key];\n\t\t\t}, stored);\n\t\t}\n\t\treturn _set(key, stored);\n\t});\n}\n\nfunction delete_(key: string): Promise<void> {\n\treturn withLockOn(key, () => _delete(key));\n}\nexport { delete_ as delete };\n\nexport function deleteMultiple(keys: string[]): Promise<void> {\n\treturn _delete(keys);\n}\n\nexport function has(key: string): Promise<boolean> {\n\treturn withLockOn(key, async () => {\n\t\tconst sentinel = Math.random();\n\t\treturn (await _get(key, sentinel)) !== sentinel;\n\t});\n}\n\nexport async function keys(): Promise<string[]> {\n\treturn Object.keys(await __get(null));\n}\n\nexport function clear(): Promise<void> {\n\treturn _clear();\n}\n\nclass Wrapper<T> {\n\t_key: () => string;\n\t_default: T;\n\n\tconstructor(key: $PropertyType<this, '_key'>, def: T) {\n\t\tthis._key = key;\n\t\tthis._default = def;\n\t}\n\n\tget(): Promise<T> {\n\t\treturn get(this._key()).then(val => (val === null ? this._default : val));\n\t}\n\n\tset(value: T): Promise<void> {\n\t\treturn set(this._key(), value);\n\t}\n\n\tpatch(value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._key(), (value: any));\n\t}\n\n\tcompareAndSet(oldValue: T, newValue: T): Promise<boolean> {\n\t\treturn compareAndSet(this._key(), this._default, oldValue, newValue);\n\t}\n\n\tdeletePath(...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._key(), [path]);\n\t}\n\n\tdelete(): Promise<void> {\n\t\treturn delete_(this._key());\n\t}\n\n\thas(): Promise<boolean> {\n\t\treturn has(this._key());\n\t}\n}\n\nexport function wrap<T>(key: string | () => string /* pure */, defaultValue: T): Wrapper<T> {\n\tconst keyGenerator = typeof key === 'string' ? () => key : once(key);\n\t// $FlowIssue\n\treturn new Wrapper(keyGenerator, defaultValue);\n}\n\nclass PrefixWrapper<T> {\n\t_prefix: string;\n\t_keyMapper: (key: string) => string;\n\t_default: () => T;\n\t_get: *;\n\n\tconstructor(prefix: string, def: () => T, keyMapper: (key: string) => string, batching: boolean) {\n\t\tthis._prefix = prefix;\n\t\tthis._default = def;\n\t\tthis._keyMapper = keyMapper;\n\n\t\tif (batching) {\n\t\t\tthis._get = batch(async keys => {\n\t\t\t\tconst v = await this.getMultipleNullable(keys);\n\t\t\t\treturn keys.map(key => v[this._keyMapper(key)]);\n\t\t\t}, { size: Infinity, delay: 0 });\n\t\t} else {\n\t\t\tthis._get = key => get(this._keyGen(key));\n\t\t}\n\t}\n\n\t_keyGen(key: string): string {\n\t\treturn this._prefix + this._keyMapper(key);\n\t}\n\n\tget(key: string): Promise<T> {\n\t\treturn this._get(key).then(val => (val === null ? this._default() : val));\n\t}\n\n\tgetNullable(key: string): Promise<T | null> {\n\t\treturn this._get(key);\n\t}\n\n\tasync getAll(): Promise<{ [string]: T }> {\n\t\tconst everything = await getAll();\n\t\treturn transform(everything, (acc, v, k) => {\n\t\t\tif (k.startsWith(this._prefix)) {\n\t\t\t\tacc[k.slice(this._prefix.length)] = v;\n\t\t\t}\n\t\t}, {});\n\t}\n\n\tasync getMultiple(keys: string[]): Promise<{ [string]: T }> {\n\t\tconst rawValues = await getMultiple(keys.map(k => this._keyGen(k)));\n\t\treturn transform(rawValues, (acc, v, k) => {\n\t\t\tacc[k.slice(this._prefix.length)] = (v === null ? this._default() : v);\n\t\t}, {});\n\t}\n\n\tasync getMultipleNullable(keys: string[]): Promise<{ [string]: T | null }> {\n\t\tconst rawValues = await getMultiple(keys.map(k => this._keyGen(k)));\n\t\treturn transform(rawValues, (acc, v, k) => {\n\t\t\tacc[k.slice(this._prefix.length)] = v;\n\t\t}, {});\n\t}\n\n\tset(key: string, value: T): Promise<void> {\n\t\treturn set(this._keyGen(key), value);\n\t}\n\n\tpatch(key: string, value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._keyGen(key), (value: any));\n\t}\n\n\tdeletePath(key: string, ...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._keyGen(key), [path]);\n\t}\n\n\tdelete(key: string): Promise<void> {\n\t\treturn delete_(this._keyGen(key));\n\t}\n\n\tdeleteMultiple(keys: string[]): Promise<void> {\n\t\treturn deleteMultiple(keys.map(k => this._keyGen(k)));\n\t}\n\n\thas(key: string): Promise<boolean> {\n\t\treturn has(this._keyGen(key));\n\t}\n}\n\nexport function wrapPrefix<T>(prefix: string, defaultValue: () => T, destructiveKeyMapper: (key: string) => string = x => x, batching: boolean = false): PrefixWrapper<T> {\n\treturn new PrefixWrapper(prefix, defaultValue, destructiveKeyMapper, batching);\n}\n\nclass BlobWrapper<T> {\n\t_rootKey: string;\n\t_default: () => T;\n\n\tconstructor(rootKey: string, def: () => T) {\n\t\tthis._rootKey = rootKey;\n\t\tthis._default = def;\n\t}\n\n\tget(key: string): Promise<T> {\n\t\treturn get(this._rootKey).then(val => (\n\t\t\t(val === null || val[key] === undefined) ? this._default() : val[key]\n\t\t));\n\t}\n\n\tgetNullable(key: string): Promise<T | null> {\n\t\treturn get(this._rootKey).then(val => (\n\t\t\t(val === null || val[key] === undefined) ? null : val[key]\n\t\t));\n\t}\n\n\tgetAll(): Promise<{ [string]: T }> {\n\t\treturn get(this._rootKey).then(val => (val === null ? {} : val));\n\t}\n\n\tasync getMultiple(keys: string[]): Promise<{ [string]: T }> {\n\t\tconst rawValues = (await get(this._rootKey)) || {};\n\t\treturn transform(keys, (acc, key) => {\n\t\t\tacc[key] = rawValues[key] === undefined ? this._default() : rawValues[key];\n\t\t}, {});\n\t}\n\n\tasync getMultipleNullable(keys: string[]): Promise<{ [string]: T | null }> {\n\t\tconst rawValues = (await get(this._rootKey)) || {};\n\t\treturn transform(keys, (acc, key) => {\n\t\t\tacc[key] = rawValues[key] === undefined ? null : rawValues[key];\n\t\t}, {});\n\t}\n\n\tset(key: string, value: T): Promise<void> {\n\t\treturn patchShallow(this._rootKey, { [key]: value });\n\t}\n\n\tpatch(key: string, value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._rootKey, { [key]: value });\n\t}\n\n\tdeletePath(key: string, ...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._rootKey, [[key, ...path]]);\n\t}\n\n\tdelete(key: string): Promise<void> {\n\t\treturn deletePaths(this._rootKey, [[key]]);\n\t}\n\n\tdeleteMultiple(keys: string[]): Promise<void> {\n\t\treturn deletePaths(this._rootKey, keys.map(k => [k]));\n\t}\n\n\thas(key: string): Promise<boolean> {\n\t\treturn get(this._rootKey).then(val => (val !== null && val[key] !== undefined));\n\t}\n\n\tclear(): Promise<void> {\n\t\treturn delete_(this._rootKey);\n\t}\n}\n\nexport function wrapBlob<T>(rootKey: string, defaultValue: () => T): BlobWrapper<T> {\n\treturn new BlobWrapper(rootKey, defaultValue);\n}\n","/* @flow */\n\nexport { data as context } from './foreground/context';\nexport { addURLToHistory, isURLVisited } from './foreground/history';\nexport { ajax } from './foreground/ajax';\nexport { download } from './foreground/download';\nexport { getExtensionId, getURL, isOptionsPage, getOptionsURL } from './foreground/id';\nexport { locale, i18n, _loadI18n } from './foreground/i18n';\nexport { loadScript } from './foreground/loadScript';\nexport { isPrivateBrowsing } from './foreground/privateBrowsing';\nexport { launchAuthFlow } from './foreground/auth';\nexport { multicast } from './foreground/multicast';\nexport { openNewTab, openNewTabs } from './foreground/tabs';\nexport * as PageAction from './foreground/pageAction';\nexport * as Permissions from './foreground/permissions';\nexport * as Session from './foreground/session';\nexport * as Storage from './foreground/storage';\nexport * as XhrCache from './foreground/xhrCache';\n","/* @flow */\nimport { curryRight } from 'lodash-es';\nimport { fastAsync } from './async';\n\nexport type Iteratee<T, R> = (e: T, i: number, a: T[]) => R;\n\n/*\n * If `callback` returns a promise, waits for the promise to resolve before advancing to the next item.\n */\nexport async function forEachSeq<T>(iterable: Iterable<T>, callback: (x: T) => ?Promise<void>): Promise<void> {\n\tfor (const val of iterable) {\n\t\tawait callback(val); // eslint-disable-line no-await-in-loop\n\t}\n}\n\nexport async function asyncFilter<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<T[]> {\n\tconst shouldKeep = await Promise.all(array.map(predicate));\n\treturn array.filter((e, i) => shouldKeep[i]);\n}\n\nexport async function asyncReduce<T, V>(iterable: Iterable<T>, callback: (acc: V, e: T) => Promise<V>, initialValue: V): Promise<V> {\n\tlet accumulator = initialValue;\n\n\tfor (const val of iterable) {\n\t\taccumulator = await callback(accumulator, val); // eslint-disable-line no-await-in-loop\n\t}\n\n\treturn accumulator;\n}\n\nexport const asyncFind = fastAsync(function* asyncFind<T>(iterable: Iterable<T>, predicate: (x: T) => Promise<mixed> | mixed) {\n\tfor (const val of iterable) {\n\t\tif (yield predicate(val)) return val;\n\t}\n});\n\n/**\n * @template T, V\n * @param {Promise<T>[]} array\n * @param {function(V, T): V} reduce\n * @param {V} initialValue\n * @param {V} baseCase\n * @returns {Promise<T>}\n */\nfunction concurrentFold<T, V>(array: Promise<T>[], reduce: (a: V, b: T) => V, initialValue: V, baseCase: V): Promise<V> {\n\tif (!array.length) return Promise.resolve(initialValue);\n\n\treturn new Promise((resolve, reject) => {\n\t\tlet remaining = array.length;\n\t\tlet accum = initialValue;\n\n\t\tfunction onResolve(x) {\n\t\t\tif (remaining === 0) return;\n\n\t\t\taccum = reduce(accum, x);\n\n\t\t\tif (accum === baseCase || --remaining === 0) {\n\t\t\t\tremaining = 0;\n\t\t\t\tresolve(accum);\n\t\t\t}\n\t\t}\n\n\t\tfunction onReject(err) {\n\t\t\tif (remaining === 0) return;\n\n\t\t\tremaining = 0;\n\t\t\treject(err);\n\t\t}\n\n\t\tarray.forEach(promise => promise.then(onResolve, onReject));\n\t});\n}\n\n/*\n * Guaranteed to execute concurrently, unlike `Array.prototype.some`.\n * Rejects on a best-effort basis if any of the promises reject.\n * May resolve to `true` even if some of the promises reject.\n */\nexport function asyncSome<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<boolean> {\n\treturn concurrentFold(array.map(predicate), (a, b) => a || !!b, false, true);\n}\n\n/*\n * Guaranteed to execute concurrently, unlike `Array.prototype.every`.\n * Rejects on a best-effort basis if any of the promises reject.\n * May resolve to `false` even if some of the promises reject.\n */\nexport function asyncEvery<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<boolean> {\n\treturn concurrentFold(array.map(predicate), (a, b) => a && !!b, true, false);\n}\n\n// Flow doesn't understand `Array.prototype.filter` refining types (yet https://github.com/facebook/flow/issues/34)\n// so this is necessary if you want to do `arr.filter(...).map(...)`\nexport const filterMap = curryRight(<T, V>(iterable: Iterable<T>, callback: (x: T) => ?[V]): V[] => {\n\tconst mapped = [];\n\tfor (const x of iterable) {\n\t\tconst result = callback(x);\n\t\tif (result) mapped.push(result[0]);\n\t}\n\treturn mapped;\n});\n","/* @flow */\n\nimport { Storage } from '../../environment';\n\nexport const storage = Storage.wrapBlob('RES.modulePrefs',\n\t(): boolean => { throw new Error('Default module enabled state should never be accessed'); });\n\nexport function setEnabled(moduleId: string, enable: boolean) {\n\treturn storage.set(moduleId, enable);\n}\n","/* @flow */\n\nimport type { PageType, AppType } from '../utils/location';\nimport type { KeyArray } from '../utils/keycode';\n\n// separate because indexer syntax is not supported in normal (no `declare`) classes\ndeclare class Indexable { // eslint-disable-line no-unused-vars\n\t[Symbol | $Keys<this>]: any;\n}\n\nexport class Module<RawOpt: { [string]: any }, Opt: { [string]: ModuleOption<RawOpt> } = RawOpt> /*:: extends Indexable */ {\n\tmoduleID: string;\n\n\tmoduleName: string;\n\tcategory: string = '';\n\tdescription: string = '';\n\tdescriptionRaw: boolean = false; // Whether the message is HTML and should not be run through i18n / markdown\n\tkeywords: Array<string> = [];\n\tbodyClass: boolean = false;\n\toptions: Opt = ({}: any);\n\tinclude: Array<PageType | AppType | RegExp> = [];\n\texclude: Array<PageType | AppType | RegExp> = [];\n\tshouldRun: () => boolean = () => true;\n\tonToggle: (enabling: boolean) => void = () => {};\n\tonSaveSettings: (changedSettings: any) => void = () => {};\n\n\thidden: boolean = false;\n\tdisabledByDefault: boolean = false;\n\talwaysEnabled: boolean = false;\n\tsort: number = 0;\n\n\t// no default value for cleaner profiling (modules without a stage defined won't be timed)\n\tonInit: (() => Promise<void> | void) | void = undefined;\n\tbeforeLoad: (() => Promise<void> | void) | void = undefined;\n\tcontentStart: (() => Promise<void> | void) | void = undefined;\n\tgo: (() => Promise<void> | void) | void = undefined;\n\tafterLoad: (() => Promise<void> | void) | void = undefined;\n\talways: (() => Promise<void> | void) | void = undefined;\n\n\tpermissions: {|\n\t\trequiredPermissions: Array<string>,\n\t\tmessage?: string,\n\t|} = {\n\t\trequiredPermissions: [],\n\t};\n\n\tconstructor(moduleID: string) {\n\t\t/*:: super(); */\n\t\tthis.moduleID = moduleID;\n\t\tthis.moduleName = moduleID;\n\t}\n}\n\nexport type OpaqueModuleId = string | { moduleID: string, module?: void } | { module: { moduleID: string } };\n\nexport function getModuleId(opaqueId: OpaqueModuleId): string {\n\tif (!opaqueId) {\n\t\tthrow new TypeError(`Expected module, moduleID, or namespace; found: ${opaqueId}`);\n\t}\n\n\tif (typeof opaqueId === 'string') {\n\t\t// raw moduleID\n\t\treturn opaqueId;\n\t} else if (opaqueId.module) {\n\t\t// namespace\n\t\treturn opaqueId.module.moduleID;\n\t} else {\n\t\t// assume module-like object\n\t\treturn opaqueId.moduleID;\n\t}\n}\n\nexport type ModuleOption<Ctx> =\n\t| BooleanOption<Ctx>\n\t| TextOption<Ctx>\n\t| EnumOption<Ctx>\n\t| KeycodeOption<Ctx>\n\t| ListOption<Ctx>\n\t| SelectOption<Ctx>\n\t| TableOption<Ctx, any>\n\t| ButtonOption<Ctx>\n\t| ColorOption<Ctx>\n\t| BuilderOption<Ctx>;\n\ntype CommonOptionProps<Ctx> = {|\n\ttitle: string,\n\tdescription: string,\n\tkeywords?: Array<string>,\n\tdependsOn?: (opt: Ctx) => boolean,\n\tadvanced?: boolean,\n\tnoconfig?: boolean,\n\t// Intentionally do not pass in the new value\n\t// so that it must be read out of `module.options[key].value`\n\t// for easier grepping (and to enforce stricter types where possible).\n\tonChange?: () => void,\n|};\n\nexport type BooleanOption<Ctx> = {|\n\ttype: 'boolean',\n\tvalue: boolean,\n\tbodyClass?: boolean | string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type TextOption<Ctx> = {|\n\ttype: 'text',\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type EnumOption<Ctx> = {|\n\ttype: 'enum',\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t}>,\n\tbodyClass?: boolean | string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type KeycodeOption<Ctx> = {|\n\ttype: 'keycode',\n\tvalue: KeyArray,\n\t// special for keyboardNav\n\tgoMode?: boolean,\n\tcallback?: () => void,\n\tinclude?: Array<PageType | AppType | RegExp>,\n\trequiresModules?: Array<OpaqueModuleId>,\n\tmustBeLoggedIn?: boolean,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type ListOption<Ctx> = {|\n\ttype: 'list',\n\tlistType: ListType,\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\ntype ListType = 'subreddits';\n\nexport type SelectOption<Ctx> = {|\n\ttype: 'select',\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t\tstyle: string,\n\t}>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type TableOption<Ctx, V: $ReadOnlyArray<any>> = {|\n\ttype: 'table',\n\taddRowText?: string,\n\tfields: TableField[],\n\tvalue: V[],\n\tsort?: (a: V, b: V) => number,\n\t...CommonOptionProps<Ctx>,\n|};\n\ntype TableField = HiddenField | TextField | BooleanField | ListField | PasswordField | KeycodeField | TextareaField | EnumField | ColorField | SelectField;\n\ntype HiddenField = {|\n\ttype: 'hidden',\n\tkey: string,\n\tname: string,\n\tvalue?: string,\n|};\n\ntype TextField = {|\n\ttype: 'text',\n\tkey: string,\n\tname: string,\n\tvalue?: string,\n|};\n\ntype BooleanField = {|\n\ttype: 'boolean',\n\tkey: string,\n\tname: string,\n\tvalue: boolean,\n|};\n\ntype ListField = {|\n\ttype: 'list',\n\tkey: string,\n\tname: string,\n\tlistType: ListType,\n|};\n\ntype PasswordField = {|\n\ttype: 'password',\n\tkey: string,\n\tname: string,\n|};\n\ntype KeycodeField = {|\n\ttype: 'keycode',\n\tkey: string,\n\tname: string,\n|};\n\ntype TextareaField = {|\n\ttype: 'textarea',\n\tkey: string,\n\tname: string,\n|};\n\ntype EnumField = {|\n\ttype: 'enum',\n\tkey: string,\n\tname: string,\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t}>,\n|};\n\ntype ColorField = {|\n\ttype: 'color',\n\tkey: string,\n\tname: string,\n|};\n\ntype SelectField = {|\n\ttype: 'select',\n\tkey: string,\n\tname: string,\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t\tstyle?: string,\n\t}>,\n|};\n\nexport type ButtonOption<Ctx> = {|\n\ttype: 'button',\n\ttext?: string | HTMLElement,\n\tcallback?: (() => Promise<void> | void) | string | { moduleID: string },\n\tvalues?: Array<{ text: $PropertyType<ButtonOption<Ctx>, 'text'>, callback: $PropertyType<ButtonOption<Ctx>, 'callback'> }>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type ColorOption<Ctx> = {|\n\ttype: 'color',\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type BuilderOption<Ctx> = {|\n\ttype: 'builder',\n\taddItemText: string,\n\tdefaultTemplate: () => BuilderRootValue,\n\tcases: { [string]: BuilderCase<*> },\n\tvalue: BuilderRootValue[],\n\tcustomOptionsFields: Array<Array<BuilderField | string>>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type BuilderRootValue = {|\n\tnote: string,\n\tver: number,\n\tid: string,\n\tbody: BuilderValue,\n\topts?: {\n\t\t[string]: mixed,\n\t\t// Some typed (reserved) values in order to simplify type checking\n\t\tname?: string,\n\t},\n|};\n\nexport type BuilderValue = {\n\ttype: string,\n\t[string]: any,\n};\n\ntype BuilderCase = {\n\ttext: string,\n\tfields: Array<BuilderField | string>,\n};\n\ntype BuilderField = BuilderSelectField | BuilderMultiField | BuilderDurationField | BuilderChecksetField | BuilderNumberField | BuilderCheckboxField | BuilderGenericInputField;\n\ntype PredefinedSelectChoice = 'COMPARISON';\n\ntype BuilderSelectField = {|\n\ttype: 'select',\n\toptions: Array<string | [string, string]> | PredefinedSelectChoice,\n\tid: string,\n|};\n\ntype BuilderMultiField = {|\n\ttype: 'multi',\n\tinclude: 'all',\n\tid: string,\n|};\n\ntype BuilderDurationField = {|\n\ttype: 'duration',\n\tid: string,\n|};\n\ntype BuilderChecksetField = {|\n\ttype: 'checkset',\n\titems: string[],\n\tid: string,\n|};\n\ntype BuilderNumberField = {|\n\ttype: 'number',\n\tid: string,\n|};\n\ntype BuilderCheckboxField = {|\n\ttype: 'check',\n\tid: string,\n\tlabel: string,\n|};\n\ntype BuilderGenericInputField = {|\n\ttype: string,\n\tid: string,\n|};\n","/* @flow */\n\nimport { Storage } from '../../environment';\nimport { getModuleId } from '../module';\nimport type { OpaqueModuleId } from '../module';\n\n// Don't batch in Firefox, as that may make the storage very slow on init\nexport const storage = Storage.wrapPrefix('RESoptions.', (): { [string]: any } => ({}), undefined, process.env.BUILD_TARGET !== 'firefox');\n\nexport const loadRaw = (moduleId: string) => storage.get(moduleId);\n\nexport async function get(opaqueId: OpaqueModuleId, optionKey: string) {\n\tconst options = await storage.get(getModuleId(opaqueId));\n\treturn options && options[optionKey];\n}\n\nexport async function getValue(opaqueId: OpaqueModuleId, optionKey: string) {\n\tconst option = await get(getModuleId(opaqueId), optionKey);\n\treturn option && option.value;\n}\n\nexport function set(opaqueId: OpaqueModuleId, optionKey: string, value: mixed) {\n\tif ((/_[\\d]+$/).test(optionKey)) {\n\t\toptionKey = optionKey.replace(/_[\\d]+$/, '');\n\t}\n\n\treturn storage.patch(getModuleId(opaqueId), { [optionKey]: { value } });\n}\n","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n","/* @flow */\n\nimport { isEqual } from 'lodash-es';\nimport { Storage } from '../../environment';\nimport * as Options from '../options/storage';\n\nexport async function updateOption(moduleID: string, optionName: string, formerDefaultValue: mixed, valueOrFunction: mixed) {\n\ttry {\n\t\tconst option = await Options.get(moduleID, optionName);\n\t\t// If no value for this option is stored, it will always use the current default value\n\t\t// and so it doesn't need to be updated.\n\t\tif (!option) return;\n\n\t\t// Only update this option to the new default value if its current value\n\t\t// hasn't been changed from the former default value.\n\t\tif (!optionMatchesFormerDefaultValue(option, formerDefaultValue)) return;\n\n\t\tconst newValue = updateValue(option.value, valueOrFunction);\n\n\t\tif (typeof newValue !== 'undefined') {\n\t\t\tawait Options.set(moduleID, optionName, newValue);\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(`Couldn't migrate ${moduleID}::${optionName} from`, formerDefaultValue, 'to/via', valueOrFunction, e);\n\t}\n}\n\nexport async function forceUpdateOption(moduleID: string, optionName: string, valueOrFunction: mixed) {\n\t//     DANGER, WILL ROBINSON, DANGER   \n\t// Make sure valueOrFunction doesn't destroy user settings!\n\ttry {\n\t\tconst option = await Options.get(moduleID, optionName);\n\t\t// If no value for this option is stored, it will always use the current default value\n\t\t// and so it doesn't need to be updated.\n\t\tif (!option) return;\n\n\t\tconst newValue = updateValue(option.value, valueOrFunction);\n\n\t\tif (typeof newValue !== 'undefined') {\n\t\t\tawait Options.set(moduleID, optionName, newValue);\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(`Couldn't migrate ${moduleID}::${optionName} to`, valueOrFunction, e);\n\t}\n}\n\nexport async function moveOption(oldModuleID: string, oldOptionName: string, newModuleID: string, newOptionName: string, valueOrFunction?: mixed) {\n\ttry {\n\t\tconst option = await Options.get(oldModuleID, oldOptionName);\n\t\t// If no value for this option is stored, it had been using the old default value\n\t\t// and so we do not need to change the new option, since it will also be using the default value.\n\t\tif (!option) return;\n\n\t\tconst newValue = updateValue(option.value, valueOrFunction);\n\n\t\tif (typeof newValue !== 'undefined') {\n\t\t\tawait Options.set(newModuleID, newOptionName, newValue);\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(`Couldn't migrate ${oldModuleID}::${oldOptionName} to ${newModuleID}::${newOptionName} via`, valueOrFunction, e);\n\t}\n}\n\nexport async function moveStorageToOption(oldKey: string, newModuleID: string, newOptionName: string, valueOrFunction?: mixed) {\n\tconst oldValue = await Storage.get(oldKey);\n\n\tif (oldValue === null) {\n\t\treturn;\n\t}\n\n\tconst newValue = updateValue(oldValue, valueOrFunction);\n\n\ttry {\n\t\tif (typeof newValue !== 'undefined') {\n\t\t\tawait Options.set(newModuleID, newOptionName, newValue);\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(`Couldn't migrate storage ${oldKey} to ${newModuleID}::${newOptionName} via`, valueOrFunction, e);\n\t}\n}\n\n// This function compares a given option value to its \"former default\" -- the default\n// before an attempted migration. Options aren't always a string, so equivalency won't\n// work. Note that \"option\" needs to be the actual option object, NOT option.value.\nfunction optionMatchesFormerDefaultValue(option, formerDefaultValue) {\n\tif (!option) {\n\t\toption = {\n\t\t\ttype: 'legacy',\n\t\t\tvalue: undefined,\n\t\t};\n\t}\n\tconst oldValue = option.value;\n\n\t// keyCodes once customized also save metaKey in a 5th index, but we used\n\t// to not store the metakey, so they have a length of 4 by default. In order\n\t// to do a proper array comparison, we need the lengths to match, so if a\n\t// 5th element is not present, push false into the array.\n\tif (oldValue && (option.type === 'keycode') && (option.value.length === 4)) {\n\t\toldValue.push(false);\n\t}\n\n\t// Check if the oldValue differs from the former default value. If it doesn't,\n\t// then the user set something custom and we should honor that.\n\treturn isEqual(formerDefaultValue, oldValue);\n}\n\nfunction updateValue(oldValue, valueOrFunction) {\n\tif (typeof valueOrFunction === 'function') {\n\t\treturn valueOrFunction(oldValue);\n\t} else if (typeof valueOrFunction !== 'undefined') {\n\t\treturn valueOrFunction;\n\t} else {\n\t\treturn oldValue;\n\t}\n}\n","/* @flow */\n\nimport { takeRightWhile, isObject, mapKeys, uniqBy } from 'lodash-es';\nimport { Storage } from '../../environment';\nimport { forEachSeq } from '../../utils/array';\nimport { execRegexes } from '../../utils/location';\nimport * as Modules from '../modules/storage';\nimport * as Options from '../options/storage';\nimport * as Migrators from './migrators';\n\nconst migrations = [\n\t{\n\t\tversionNumber: 'legacyMigrators',\n\t\tasync go() {\n\t\t\t// userbarHider.beforeLoad()\n\t\t\tawait Migrators.moveStorageToOption('RESmodules.styleTweaks.userbarState', 'userbarHider', 'userbarState');\n\n\t\t\t// commentTools.migrateData()\n\t\t\tconst macroVersion = await Storage.get('RESmodules.commentTools.macroDataVersion');\n\t\t\tif (macroVersion === null || macroVersion === 0) {\n\t\t\t\t// In this case it is unmigrated or uncreated\n\t\t\t\tconst previewOptions = await Storage.get('RESoptions.commentPreview');\n\t\t\t\tif (previewOptions !== null) {\n\t\t\t\t\tif (typeof previewOptions.commentingAs !== 'undefined') {\n\t\t\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'commentingAs', previewOptions.commentingAs.value);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof previewOptions.keyboardShortcuts !== 'undefined') {\n\t\t\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'keyboardShortcuts', previewOptions.keyboardShortcuts.value);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof previewOptions.subredditAutocomplete !== 'undefined') {\n\t\t\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'subredditAutocomplete', previewOptions.subredditAutocomplete.value);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof previewOptions.macros !== 'undefined') {\n\t\t\t\t\t\tpreviewOptions.macros.value.forEach(macro => {\n\t\t\t\t\t\t\twhile (macro.length < 4) {\n\t\t\t\t\t\t\t\tmacro.push('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'macros', previewOptions.macros.value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (macroVersion === 1) {\n\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'macros', macros =>\n\t\t\t\t\t(macros || []).map(macro => {\n\t\t\t\t\t\twhile (macro.length < 4) {\n\t\t\t\t\t\t\tmacro.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn macro;\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// saveComments.loadSavedComments()\n\t\t\tconst storedComments = await Storage.get('RESmodules.saveComments.savedComments');\n\t\t\tif (Array.isArray(storedComments)) {\n\t\t\t\tconst newFormat = {};\n\t\t\t\tfor (const storedComment of storedComments) {\n\t\t\t\t\tconst urlSplit = storedComment.href.split('/');\n\t\t\t\t\tconst thisID = urlSplit[urlSplit.length - 1];\n\t\t\t\t\tnewFormat[thisID] = storedComment;\n\t\t\t\t}\n\t\t\t\tStorage.set('RESmodules.saveComments.savedComments', newFormat);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.0.0',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('betteReddit', 'searchSubredditByDefault', 'searchHelper', 'searchSubredditByDefault');\n\n\t\t\tawait Migrators.moveOption('styleTweaks', 'lightSwitch', 'nightMode', 'nightSwitch');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'lightOrDark', 'nightMode', 'nightModeOn', value => (value === 'dark'));\n\t\t\tawait Migrators.moveOption('styleTweaks', 'useSubredditStyleInDarkMode', 'nightMode', 'useSubredditStyles');\n\n\t\t\tawait Migrators.moveStorageToOption('RESmodules.styleTweaks.nightModeWhitelist', 'nightMode', 'subredditStylesWhitelist', value => {\n\t\t\t\ttry {\n\t\t\t\t\treturn JSON.parse(value || '').join(',');\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tconst userTags = await Storage.get('RESmodules.userTagger.tags') || {};\n\t\t\t\tupdateTagStorageCaseInsensitive(userTags);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Could not migrate user tags, please post this error to /r/RESissues', e);\n\t\t\t}\n\n\t\t\t// check for /r/ hack from when reddit changed its format and broke RES filters\n\t\t\tawait Migrators.forceUpdateOption('filteReddit', 'subreddits', subreddits =>\n\t\t\t\t(subreddits || []).map(subreddit => {\n\t\t\t\t\tconst check = subreddit[0];\n\t\t\t\t\tif (check.startsWith('/r/')) {\n\t\t\t\t\t\tsubreddit[0] = check.substr(3);\n\t\t\t\t\t}\n\t\t\t\t\treturn subreddit;\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tfunction updateTagStorageCaseInsensitive(tags) {\n\t\t\t\tconst usernames = Object.keys(tags);\n\n\t\t\t\tfor (const username of usernames) {\n\t\t\t\t\tconst lower = username.toLowerCase();\n\t\t\t\t\tif (lower === username) continue;\n\n\t\t\t\t\tconst destination = tags[lower] = tags[lower] || {};\n\t\t\t\t\tconst source = tags[username];\n\n\t\t\t\t\tif (source.votes) {\n\t\t\t\t\t\tdestination.votes = (parseInt(destination.votes, 10) || 0) + (parseInt(source.votes, 10) || 0);\n\t\t\t\t\t}\n\t\t\t\t\tif (source.color && (!destination.color || destination.color === 'none')) {\n\t\t\t\t\t\tdestination.color = source.color;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (source.tag) {\n\t\t\t\t\t\tdestination.tag = destination.tag ? `${destination.tag} | ` : '';\n\t\t\t\t\t\tdestination.tag += source.tag;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (source.ignore) {\n\t\t\t\t\t\tdestination.ignore = source.ignore;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (source.link) {\n\t\t\t\t\t\tif (destination.link) {\n\t\t\t\t\t\t\tdestination.tag = destination.tag ? `${destination.tag} | ` : '';\n\t\t\t\t\t\t\tdestination.tag += source.link;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdestination.link = source.link;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete tags[username]; // safe because of \"lower === username.toLowerCase\" guard above\n\t\t\t\t}\n\n\t\t\t\tStorage.set('RESmodules.userTagger.tags', tags);\n\t\t\t\tStorage.set('RESmodules.userTagger.casefix', true);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.0.2',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('keyboardNav', 'imageMoveUp', [38, false, false, true, false], [38, false, true, false, false]);\n\t\t\tawait Migrators.updateOption('keyboardNav', 'imageMoveDown', [40, false, false, true, false], [40, false, true, false, false]);\n\t\t\tawait Migrators.updateOption('keyboardNav', 'imageMoveLeft', [37, false, false, true, false], [37, false, true, false, false]);\n\t\t\tawait Migrators.updateOption('keyboardNav', 'imageMoveRight', [39, false, false, true, false], [39, false, true, false, false]);\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.0.3',\n\t\tgo() {\n\t\t\t// Token migration for the benefit of developers or people running bleeding-edge\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.1',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('voteEnhancements', 'colorCommentScore', value => {\n\t\t\t\t// v4.5.0.2 (fresh installs) onwards have the correct default value\n\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\t// 4.5.0.1 migration\n\t\t\t\treturn value ? 'automatic' : 'none';\n\t\t\t});\n\n\t\t\tconst notificationsOptions = await Options.loadRaw('notifications');\n\t\t\tconst sticky = notificationsOptions && notificationsOptions.sticky.value;\n\t\t\tconst keyNavOptions = await Options.loadRaw('keyboardNav');\n\t\t\tconst fg = keyNavOptions && keyNavOptions.focusFGColorNight.value;\n\t\t\tconst bg = keyNavOptions && keyNavOptions.focusBGColorNight.value;\n\t\t\tconst test = document.createElement('div');\n\n\t\t\t// perNotification may have only been present in dev releases, but check for it and update as it's\n\t\t\t// no longer a valid option.\n\t\t\tif (sticky === 'perNotification') {\n\t\t\t\tawait Migrators.forceUpdateOption('notifications', 'sticky', 'notificationType');\n\t\t\t}\n\n\t\t\t// If night mode focus foreground color === night mode focus background color,\n\t\t\t// force them back to new defaults.\n\t\t\t//\n\t\t\t// Since it may be rgba or hex and we're not sure, let's do something clever to\n\t\t\t// make sure we can compare the colors.\n\t\t\ttest.style.color = fg || '';\n\t\t\ttest.style.backgroundColor = bg || '';\n\t\t\tconst fgCalculated = test.style.color;\n\t\t\tconst bgCalculated = test.style.backgroundColor;\n\t\t\tif ((fg === bg) || (fgCalculated === bgCalculated)) {\n\t\t\t\tawait Migrators.forceUpdateOption('keyboardNav', 'focusBGColorNight', '#373737');\n\t\t\t\tawait Migrators.forceUpdateOption('keyboardNav', 'focusFGColorNight', '#DDDDDD');\n\t\t\t}\n\n\t\t\t// Show all options for all users\n\t\t\tawait Migrators.moveOption('settingsNavigation', 'showAdvancedOptions', 'settingsNavigation', 'showAllOptions', true);\n\t\t\tawait Migrators.moveOption('settingsNavigation', 'showAdvancedOptionsAlert', 'settingsNavigation', 'showAllOptionsAlert');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.3',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('searchHelper', 'addSubmitButton', true, false);\n\t\t\tawait Migrators.moveOption('keyboardNav', 'save', 'keyboardNav', 'savePost');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'save', 'keyboardNav', 'saveRES');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.4',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('filteReddit', 'keywords', values => {\n\t\t\t\tfor (const value of values || []) {\n\t\t\t\t\tif (value && value[3] === 'undefined') {\n\t\t\t\t\t\tvalue[3] = '';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t});\n\t\t\tawait Migrators.updateOption('quickMessage', 'quickModeratorMessage', false, true);\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.5',\n\t\tasync go() {\n\t\t\tconst keyNavOptions = await Options.loadRaw('keyboardNav');\n\t\t\tif (keyNavOptions && keyNavOptions.scrollTop && keyNavOptions.scrollTop.value) {\n\t\t\t\tawait Migrators.updateOption('keyboardNav', 'scrollStyle', 'directional', 'top');\n\t\t\t}\n\t\t\tawait Migrators.moveOption('betteReddit', 'uncheckSendRepliesToInbox', 'submitHelper', 'uncheckSendRepliesToInbox');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'openBigEditor', 'commentPreview', 'openBigEditor');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'autoSelectOnScroll', 'selectedEntry', 'autoSelectOnScroll');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'clickFocus', 'selectedEntry', 'selectOnClick');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'addFocusBGColor', 'selectedEntry', 'addFocusBGColor');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusBGColor', 'selectedEntry', 'focusBGColor');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusBGColorNight', 'selectedEntry', 'focusBGColorNight');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusFGColorNight', 'selectedEntry', 'focusFGColorNight');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'addFocusBorder', 'selectedEntry', 'addFocusBorder');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusBorder', 'selectedEntry', 'focusBorder');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusBorderNight', 'selectedEntry', 'focusBorderNight');\n\n\t\t\tfunction updateFadeSpeed(value) {\n\t\t\t\tif (value === undefined || value === null || isNaN(value) || value < 0 || value > 1) {\n\t\t\t\t\treturn '0.7';\n\t\t\t\t} else {\n\t\t\t\t\treturn (1 - value).toFixed(2);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait Migrators.forceUpdateOption('hover', 'fadeSpeed', updateFadeSpeed);\n\t\t\tawait Migrators.forceUpdateOption('showParent', 'fadeSpeed', updateFadeSpeed);\n\t\t\tawait Migrators.forceUpdateOption('subredditInfo', 'fadeSpeed', updateFadeSpeed);\n\t\t\tawait Migrators.forceUpdateOption('userTagger', 'fadeSpeed', updateFadeSpeed);\n\n\t\t\tawait Migrators.forceUpdateOption('commentTools', 'macros', value =>\n\t\t\t\t[\n\t\t\t\t\t['reddiquette', '[reddiquette](/wiki/reddiquette) '],\n\t\t\t\t\t['Promote RES', '[Reddit Enhancement Suite](https://redditenhancementsuite.com \"also /r/Enhancement\") '],\n\t\t\t\t\t['Current timestamp', '{{now}} '],\n\t\t\t\t\t...(value || []),\n\t\t\t\t],\n\t\t\t);\n\n\t\t\tawait Migrators.moveOption('betteReddit', 'showUnreadCount', 'orangered', 'showUnreadCount');\n\t\t\tawait Migrators.moveOption('betteReddit', 'retroUnreadCount', 'orangered', 'retroUnreadCount');\n\t\t\tawait Migrators.moveOption('betteReddit', 'showUnreadCountInFavicon', 'orangered', 'showUnreadCountInFavicon');\n\t\t\tawait Migrators.moveOption('betteReddit', 'unreadLinksToInbox', 'orangered', 'unreadLinksToInbox');\n\t\t\tawait Migrators.moveOption('betteReddit', 'hideModMail', 'orangered', 'hideModMail');\n\n\t\t\tawait Migrators.moveOption('quickMessage', 'quickModeratorMessage', 'quickMessage', 'handleSideLinks');\n\n\t\t\tawait Migrators.updateOption('showKarma', 'useCommas', false, true);\n\n\t\t\tawait Migrators.moveOption('keyboardNav', 'moveDown', 'keyboardNav', 'moveDownComment');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'moveUp', 'keyboardNav', 'moveUpComment');\n\n\t\t\tawait Migrators.moveOption('userTagger', 'hoverInfo', 'userInfo', 'hoverInfo');\n\t\t\tawait Migrators.moveOption('userTagger', 'useQuickMessage', 'userInfo', 'useQuickMessage');\n\t\t\tawait Migrators.moveOption('userTagger', 'hoverDelay', 'userInfo', 'hoverDelay');\n\t\t\tawait Migrators.moveOption('userTagger', 'fadeDelay', 'userInfo', 'fadeDelay');\n\t\t\tawait Migrators.moveOption('userTagger', 'fadeSpeed', 'userInfo', 'fadeSpeed');\n\t\t\tawait Migrators.moveOption('userTagger', 'gildComments', 'userInfo', 'gildComments');\n\t\t\tawait Migrators.moveOption('userTagger', 'highlightButton', 'userInfo', 'highlightButton');\n\t\t\tawait Migrators.moveOption('userTagger', 'highlightColor', 'userInfo', 'highlightColor');\n\t\t\tawait Migrators.moveOption('userTagger', 'highlightColorHover', 'userInfo', 'highlightColorHover');\n\t\t\tawait Migrators.moveOption('userTagger', 'USDateFormat', 'userInfo', 'USDateFormat');\n\n\t\t\tawait Migrators.forceUpdateOption('notifications', 'notificationTypes', rows =>\n\t\t\t\tuniqBy(rows, ([modId, notificationId]) => `${modId}###${notificationId}`),\n\t\t\t);\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-scrubCaches',\n\t\tasync go() {\n\t\t\t// Trailing '.' on some keys is important\n\t\t\tconst cacheKeyParts = [\n\t\t\t\t'RESmodules.neverEndingReddit.lastPage',\n\t\t\t\t'RESmodules.neverEndingReddit.lastVisibleIndex',\n\t\t\t\t'RESUtils.cache',\n\t\t\t\t'RESUtils.moderatedSubCache',\n\t\t\t\t'RESUtils.sendFromCache',\n\t\t\t\t'RESUtils.userInfoCache',\n\t\t\t\t'RESmodules.keyboardNavLastIndex',\n\t\t\t\t'RESmodules.selectedThing.lastSelectedCache',\n\t\t\t\t'TBCache.', // may have been copied from foreground\n\t\t\t\t'Toolbox.',\n\t\t\t\t'RESmodules.betteReddit.msgCount.lastCheck',\n\t\t\t\t'RESmodules.subredditManager.subreddits.',\n\t\t\t\t'RESmodules.subredditManager.mySubredditList',\n\t\t\t];\n\n\t\t\tawait (await Storage.keys())\n\t\t\t\t.filter(key => cacheKeyParts.some(part => key.includes(part)))\n\t\t\t\t.map(key => Storage.delete(key));\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-voteWeight',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('userTagger', 'colorUser', 'userTagger', 'trackVoteWeight');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-commentStyle',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('styleTweaks', 'commentBoxes', 'commentStyle', 'commentBoxes');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'commentRounded', 'commentStyle', 'commentRounded');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'commentHoverBorder', 'commentStyle', 'commentHoverBorder');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'commentIndent', 'commentStyle', 'commentIndent');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'continuity', 'commentStyle', 'continuity');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-keyboardNav-scrollStyle-better-name',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('keyboardNav', 'scrollStyle', 'keyboardNav', 'linearScrollStyle');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-hideLEC',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('singleClick', 'hideLEC', false, true);\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-showImages-siteModuleIDs',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('showImages', 'display uploadly', 'showImages', 'display_uploadly');\n\t\t\tawait Migrators.moveOption('showImages', 'display eroshare', 'showImages', 'display_eroshare');\n\t\t\tawait Migrators.moveOption('showImages', 'display iLoopit - gif maker', 'showImages', 'display_iloopit');\n\t\t\tawait Migrators.moveOption('showImages', 'display Coub', 'showImages', 'display_coub');\n\t\t\tawait Migrators.moveOption('showImages', 'display LiveCap', 'showImages', 'display_livecap');\n\t\t\tawait Migrators.moveOption('showImages', 'display twitter', 'showImages', 'display_twitter');\n\t\t\tawait Migrators.moveOption('showImages', 'display futurism', 'showImages', 'display_futurism');\n\t\t\tawait Migrators.moveOption('showImages', 'display gfycat', 'showImages', 'display_gfycat');\n\t\t\tawait Migrators.moveOption('showImages', 'display gifyoutube', 'showImages', 'display_gifs');\n\t\t\tawait Migrators.moveOption('showImages', 'display vidble', 'showImages', 'display_vidble');\n\t\t\tawait Migrators.moveOption('showImages', 'display fitbamob', 'showImages', 'display_fitbamob');\n\t\t\tawait Migrators.moveOption('showImages', 'display giflike', 'showImages', 'display_giflike');\n\t\t\tawait Migrators.moveOption('showImages', 'display CtrlV.in', 'showImages', 'display_ctrlv');\n\t\t\tawait Migrators.moveOption('showImages', 'display snag.gy', 'showImages', 'display_snag');\n\t\t\tawait Migrators.moveOption('showImages', 'display picshd', 'showImages', 'display_picshd');\n\t\t\tawait Migrators.moveOption('showImages', 'display min.us', 'showImages', 'display_minus');\n\t\t\tawait Migrators.moveOption('showImages', 'display fiveHundredPx', 'showImages', 'display_fiveHundredPx');\n\t\t\tawait Migrators.moveOption('showImages', 'display flickr', 'showImages', 'display_flickr');\n\t\t\tawait Migrators.moveOption('showImages', 'display steam', 'showImages', 'display_steam');\n\t\t\tawait Migrators.moveOption('showImages', 'display deviantART', 'showImages', 'display_deviantart');\n\t\t\tawait Migrators.moveOption('showImages', 'display tumblr', 'showImages', 'display_tumblr');\n\t\t\tawait Migrators.moveOption('showImages', 'display memecrunch', 'showImages', 'display_memecrunch');\n\t\t\tawait Migrators.moveOption('showImages', 'display imgflip', 'showImages', 'display_imgflip');\n\t\t\tawait Migrators.moveOption('showImages', 'display livememe', 'showImages', 'display_livememe');\n\t\t\tawait Migrators.moveOption('showImages', 'display makeameme', 'showImages', 'display_makeameme');\n\t\t\tawait Migrators.moveOption('showImages', 'display memegen', 'showImages', 'display_memegen');\n\t\t\tawait Migrators.moveOption('showImages', 'display redditbooru', 'showImages', 'display_redditbooru');\n\t\t\tawait Migrators.moveOption('showImages', 'display youtube', 'showImages', 'display_youtube');\n\t\t\tawait Migrators.moveOption('showImages', 'display vimeo', 'showImages', 'display_vimeo');\n\t\t\tawait Migrators.moveOption('showImages', 'display soundcloud', 'showImages', 'display_soundcloud');\n\t\t\tawait Migrators.moveOption('showImages', 'display clyp', 'showImages', 'display_clyp');\n\t\t\tawait Migrators.moveOption('showImages', 'display memedad', 'showImages', 'display_memedad');\n\t\t\tawait Migrators.moveOption('showImages', 'display ridewithgps', 'showImages', 'display_ridewithgps');\n\t\t\tawait Migrators.moveOption('showImages', 'display photobucket', 'showImages', 'display_photobucket');\n\t\t\tawait Migrators.moveOption('showImages', 'display giphy', 'showImages', 'display_giphy');\n\t\t\tawait Migrators.moveOption('showImages', 'display streamable', 'showImages', 'display_streamable');\n\t\t\tawait Migrators.moveOption('showImages', 'display qwipit', 'showImages', 'display_qwipit');\n\t\t\tawait Migrators.moveOption('showImages', 'display radd.it', 'showImages', 'display_raddit');\n\t\t\tawait Migrators.moveOption('showImages', 'display pastebin', 'showImages', 'display_pastebin');\n\t\t\tawait Migrators.moveOption('showImages', 'display github gists', 'showImages', 'display_github');\n\t\t\tawait Migrators.moveOption('showImages', 'display Microsoft OneDrive', 'showImages', 'display_onedrive');\n\t\t\tawait Migrators.moveOption('showImages', 'display Oddshot', 'showImages', 'display_oddshot');\n\t\t\tawait Migrators.moveOption('showImages', 'display Miiverse', 'showImages', 'display_miiverse');\n\t\t\tawait Migrators.moveOption('showImages', 'display swirl', 'showImages', 'display_swirl');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.1-changeDefaultImageMaxSizeRetry',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('showImages', 'maxWidth', 640, '100%');\n\t\t\tawait Migrators.updateOption('showImages', 'maxHeight', 480, '80%');\n\t\t\tawait Migrators.updateOption('showImages', 'maxWidth', '640', '100%');\n\t\t\tawait Migrators.updateOption('showImages', 'maxHeight', '480', '80%');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.4-galleryFilmstripGranularity',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('showImages', 'dontLoadAlbumsBiggerThan', 'showImages', 'filmstripLoadIncrement');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.8-ner-hide-dupes',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('neverEndingReddit', 'hideDupes', 'fade', 'hide');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.0.1-disable-redditmedia-lookup',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'expandoCommentRedirects', 'nothing');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.0.2-reenable-redditmedia-expando',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('showImages', 'expandoCommentRedirects', 'nothing', 'expando');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.1.1-remove-multiredditnavbar-sectionlinks-workaround',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('multiredditNavbar', 'sectionLinks', sectionLinks => {\n\t\t\t\tif (!sectionLinks) return;\n\t\t\t\tfor (const row of sectionLinks) {\n\t\t\t\t\trow[1] = row[1].replace(/^\\.\\.\\//, './');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t}, {\n\t\tversionNumber: '5.3.1-enable-hardIgnore',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('userTagger', 'hardIgnore', true);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.3.5-remove-updates-css',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('stylesheet', 'loadStylesheets', rows =>\n\t\t\t\trows && rows.filter(row => row[0] !== 'https://cdn.redditenhancementsuite.com/updates.css'),\n\t\t\t);\n\n\t\t\tconst hideFloatingPauseButton = 'res-neverEndingReddit-hideFloatingPauseButton';\n\t\t\tawait Migrators.moveOption('stylesheet', 'bodyClasses', 'neverEndingReddit', 'showPauseButton', rows =>\n\t\t\t\t!!rows && rows.every(row => row[0] !== hideFloatingPauseButton),\n\t\t\t);\n\t\t\tawait Migrators.forceUpdateOption('stylesheet', 'bodyClasses', rows =>\n\t\t\t\trows && rows.filter(row => row[0] !== hideFloatingPauseButton),\n\t\t\t);\n\n\t\t\tlet shouldHideTagline = false;\n\t\t\tawait Migrators.forceUpdateOption('stylesheet', 'bodyClasses', rows => {\n\t\t\t\tif (!rows) return [];\n\t\t\t\tconst filteredRows = rows.filter(row => row[0] !== 'res-hide-tagline-frontpage');\n\t\t\t\tshouldHideTagline = filteredRows.length < rows.length;\n\t\t\t\treturn filteredRows;\n\t\t\t});\n\t\t\tif (shouldHideTagline) {\n\t\t\t\tMigrators.forceUpdateOption('stylesheet', 'snippets', rows => [\n\t\t\t\t\t...(rows || []),\n\t\t\t\t\t[\n\t\t\t\t\t\t'/* migrated from res-hide-tagline-frontpage */ .front-page .tagline { display: none; }',\n\t\t\t\t\t\t'everywhere',\n\t\t\t\t\t],\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.3.6-enable-hideUnvotable',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('styleTweaks', 'hideUnvotable', true);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.3.7-automaticNightMode-to-enum',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('nightMode', 'automaticNightMode', value => (value === true) ? 'user' : 'none');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.5.0-commentLinks-rename',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('keyboardNav', 'commentsLinkNumbers', 'keyboardNav', 'linkNumbers');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'commentsLinkNumberPosition', 'keyboardNav', 'linkNumberPosition');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'commentsLinkToggleExpando', 'keyboardNav', 'linkToggleExpando');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'commentsLinkNewTab', 'keyboardNav', 'linkNewTab');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.5.1-maxSize-to-string',\n\t\tasync go() {\n\t\t\tconst toString = x => (x ? String(x) : '');\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'maxWidth', toString);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'maxHeight', toString);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.5.3-disable-userbarHider',\n\t\tasync go() {\n\t\t\tconst notificationsOptions = await Options.loadRaw('notifications');\n\t\t\tif (!notificationsOptions ||\n\t\t\t\t!notificationsOptions.notificationTypes ||\n\t\t\t\t!notificationsOptions.notificationTypes.value ||\n\t\t\t\t!notificationsOptions.notificationTypes.value.some(([modId, notificationId]) => modId === 'userbarHider' && notificationId === 'userbarState')) {\n\t\t\t\t// user has never toggled userbarHider, disable it\n\t\t\t\tModules.setEnabled('userbarHider', false);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.5.11-update-notifications',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('onboarding', 'updateNotification', 'releaseNotes', 'notification');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.6.1-shard-tags',\n\t\tasync go() {\n\t\t\tconst tags = await Storage.get('RESmodules.userTagger.tags') || {};\n\t\t\tconst remappedTags = mapKeys(tags, (v, k) => `tag.${k.toLowerCase()}`);\n\t\t\tawait Storage.setMultiple(remappedTags);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.6.2-remove-old-tags',\n\t\tasync go() {\n\t\t\tawait Storage.delete('RESmodules.userTagger.tags');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.7.0-keyboardNav-showImages-decoupling',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('keyboardNav', 'mediaBrowseMode', 'showImages', 'mediaBrowse');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.7.1-shard-newCommentCount',\n\t\tasync go() {\n\t\t\tconst entries = await Storage.get('RESmodules.newCommentCount.counts') || {};\n\t\t\tconst remappedEntries = mapKeys(entries, (v, k) => `newCommentCount.${k}`);\n\t\t\tawait Storage.setMultiple(remappedEntries);\n\t\t\tawait Storage.delete('RESmodules.newCommentCount.counts');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.7.3-commandLine-menu-opening',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('commandLine', 'launchFromMenuButton', 'RESMenu', 'gearIconClickAction', launchFromMenu =>\n\t\t\t\tlaunchFromMenu ? 'openCommandLine' : 'toggleMenuNoHover',\n\t\t\t);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.7.4-shard-commentHidePersistor',\n\t\tasync go() {\n\t\t\tconst { hiddenThings } = await Storage.get('RESmodules.commentHidePersistor.hidePersistor') || {};\n\t\t\tif (!hiddenThings) return;\n\t\t\tconst remappedEntries = Object.entries(hiddenThings).reduce((acc, [k, v]) => {\n\t\t\t\tconst page = (execRegexes.comments(k) || [])[2];\n\t\t\t\tconst collapsedThings = v.reduce((acc, k) => (acc[k] = true) && acc, {});\n\t\t\t\tif (page && v.length) acc[`commentHidePersistor.${page}`] = { updateTime: Date.now(), collapsedThings };\n\t\t\t\treturn acc;\n\t\t\t}, {});\n\t\t\tawait Storage.setMultiple(remappedEntries);\n\t\t\tawait Storage.delete('RESmodules.commentHidePersistor.hidePersistor');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.8.2-unshard-newCommentCount-subscriptions',\n\t\tasync go() {\n\t\t\tconst subscriptions = {};\n\t\t\tfor (const [key, val] of Object.entries(await Storage.getAll())) {\n\t\t\t\tif (!key.startsWith('newCommentCount.')) continue;\n\t\t\t\tif ((val: any).subscriptionDate) subscriptions[key] = val;\n\t\t\t\t// don't bother deleting it; it's still valid for comment count storage\n\t\t\t\t// and it'll eventually be pruned as with any count\n\t\t\t}\n\t\t\tStorage.set('RESmodules.newCommentCount.subscriptions', subscriptions);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9.1-userTagger-refresh',\n\t\tasync go() {\n\t\t\tlet tags = await Storage.wrapPrefix('tag.', (): any => ({})).getAll();\n\t\t\tfor (const tag of Object.values(tags)) {\n\t\t\t\tif (tag.votes > 0) tag.votesUp = tag.votes;\n\t\t\t\tif (tag.votes < 0) tag.votesDown = -tag.votes;\n\t\t\t\tReflect.deleteProperty(tag, 'votes');\n\t\t\t\tif (tag.tag) tag.text = tag.tag;\n\t\t\t\tReflect.deleteProperty(tag, 'tag');\n\t\t\t\tif (tag.ignore) tag.ignored = tag.ignore;\n\t\t\t\tReflect.deleteProperty(tag, 'ignore');\n\t\t\t}\n\t\t\ttags = mapKeys(tags, (v, k) => `tag.${k}`); // Restore prefix\n\t\t\tawait Storage.setMultiple(tags);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9.1-selectedEntry',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('selectedEntry', 'addFocusBGColor', 'selectedEntry', 'setColors');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusBGColor', 'selectedEntry', 'backgroundColor');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusBGColorNight', 'selectedEntry', 'backgroundColorNight');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusFGColorNight', 'selectedEntry', 'textColorNight');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'addFocusBorder', 'selectedEntry', 'addOutline');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusBorder', 'selectedEntry', 'outlineStyle');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusBorderNight', 'selectedEntry', 'outlineStyleNight');\n\n\t\t\tif ((await Storage.get('RES.modulePrefs') || { selectedEntry: true }).selectedEntry === false) {\n\t\t\t\tawait Options.set('selectedEntry', 'setColors', false);\n\t\t\t\tawait Options.set('selectedEntry', 'addLine', true);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9-no-option-spaces',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('showImages', 'prefer RES albums', 'showImages', 'preferResAlbums');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9.2-numbers-to-strings',\n\t\tasync go() {\n\t\t\tfunction stringify(x) {\n\t\t\t\tif (typeof x === 'number') return x.toString();\n\t\t\t\treturn x;\n\t\t\t}\n\n\t\t\tawait Migrators.forceUpdateOption('betteReddit', 'hideLinkFadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('commentDepth', 'defaultCommentDepth', stringify);\n\t\t\tawait Migrators.forceUpdateOption('commentDepth', 'defaultMinimumComments', stringify);\n\t\t\tawait Migrators.forceUpdateOption('commentStyle', 'commentIndent', stringify);\n\t\t\tawait Migrators.forceUpdateOption('context', 'defaultContext', stringify);\n\t\t\tawait Migrators.forceUpdateOption('dashboard', 'defaultPosts', stringify);\n\t\t\tawait Migrators.forceUpdateOption('dashboard', 'tagsPerPage', stringify);\n\t\t\tawait Migrators.forceUpdateOption('hover', 'openDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('hover', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('hover', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('hover', 'width', stringify);\n\t\t\tawait Migrators.forceUpdateOption('messageMenu', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('messageMenu', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('messageMenu', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('multiredditNavbar', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('multiredditNavbar', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('multiredditNavbar', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('neverEndingReddit', 'pauseAfterEvery', stringify);\n\t\t\tawait Migrators.forceUpdateOption('newCommentCount', 'cleanComments', stringify);\n\t\t\tawait Migrators.forceUpdateOption('newCommentCount', 'subscriptionLength', stringify);\n\t\t\tawait Migrators.forceUpdateOption('nightMode', 'nightModeOverrideHours', stringify);\n\t\t\tawait Migrators.forceUpdateOption('notifications', 'closeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('notifications', 'fadeOutLength', stringify);\n\t\t\tawait Migrators.forceUpdateOption('profileNavigator', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('profileNavigator', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('profileNavigator', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'browsePreloadCount', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'galleryPreloadCount', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'bufferScreens', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'selfTextMaxHeight', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'commentMaxHeight', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'filmstripLoadIncrement', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'useSlideshowWhenLargerThan', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'maxSimultaneousPlaying', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showParent', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showParent', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showParent', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('styleTweaks', 'highlightTopLevelSize', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditInfo', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditInfo', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditInfo', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditManager', 'shortcutDropdownDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditManager', 'shortcutEditDropdownDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('userInfo', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('userInfo', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('userInfo', 'fadeSpeed', stringify);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9-filteReddit-customFilter',\n\t\tasync go() {\n\t\t\tfunction convertPatt(type, patt, key) {\n\t\t\t\tif (typeof patt !== 'string' || !patt.length || (/^\\/(.*)\\/([gim]+)?$/).test(patt)) return;\n\t\t\t\tif (type === 'postTitle') {\n\t\t\t\t\treturn { [key]: `/${patt}/i` };\n\t\t\t\t} else if (['subreddit', 'domain', 'userFlair', 'linkFlair', 'username'].includes(type)) {\n\t\t\t\t\treturn { [key]: `/^(${patt})\\$/i` };\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst entries = {};\n\t\t\tconst f = await Storage.wrapPrefix('RESmodules.filteReddit.', (): any => ({})).getAll();\n\t\t\tfor (const [k, v] of Object.entries(f)) {\n\t\t\t\tif (typeof v === 'boolean') continue; // `filterlineVisibility` entries\n\t\t\t\tconst visible = f[`filterlineVisibility.${k}`] || false;\n\t\t\t\tconst entry = entries[`filterline.${k}`] = { filters: {}, visible };\n\t\t\t\tfor (const [id, { criterion, state, key }] of Object.entries(v.filters || {})) {\n\t\t\t\t\tconst type = key;\n\t\t\t\t\tentry.filters[id] = { type, state, criterion, ...convertPatt(type, criterion, 'criterion') };\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait Storage.setMultiple(entries);\n\n\t\t\tconst { customFilters } = await Options.loadRaw('filteReddit') || {};\n\t\t\tif (customFilters) {\n\t\t\t\tfor (const { body } of (customFilters.value || [])) {\n\t\t\t\t\tbody.of.forEach(function traverseAndUpdate(v) {\n\t\t\t\t\t\tif (v.type === 'group') v.of.forEach(traverseAndUpdate);\n\t\t\t\t\t\telse Object.assign(v, convertPatt(v.type, v.patt, 'patt'));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tawait Options.set('filteReddit', 'customFiltersP', customFilters.value);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.11.1-settingsConsole-builder-tweak',\n\t\tasync go() {\n\t\t\tconst { customFiltersP, customFiltersC } = await Options.loadRaw('filteReddit') || {};\n\t\t\tlet i = Date.now();\n\t\t\tfor (const v of [...((customFiltersP && customFiltersP.value) || []), ...((customFiltersC && customFiltersC.value) || [])]) {\n\t\t\t\tconst { body: { name }, ondemand } = v;\n\t\t\t\tv.opts = { ondemand, name };\n\t\t\t\tv.id = `customFilter-${String(i++)}`;\n\t\t\t\t// The trash values will be ignored by the builder, so no need to remove them\n\t\t\t}\n\t\t\tif (customFiltersP)\tawait Options.set('filteReddit', 'customFiltersP', customFiltersP.value);\n\t\t\tif (customFiltersC)\tawait Options.set('filteReddit', 'customFiltersC', customFiltersC.value);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.13.3-userTagger-ignored-to-filteReddit',\n\t\tasync go() {\n\t\t\tconst ignoredUsers = Object.entries(await Storage.wrapPrefix('tag.', (): any => ({})).getAll())\n\t\t\t\t.filter(([, { ignored }]) => ignored)\n\t\t\t\t.map(([username]) => [username]);\n\t\t\tawait Options.set('filteReddit', 'users', ignoredUsers);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.13.3-filterline-effects-and-clean',\n\t\tasync go() {\n\t\t\tfunction migrateFilters(filters = {}) {\n\t\t\t\tfor (const [id, filter] of Object.entries(filters)) {\n\t\t\t\t\tif (!isObject(filter)) {\n\t\t\t\t\t\tdelete filters[id];\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tfilter.effects = { hide: filter.state !== null, ...filter.sideEffects };\n\t\t\t\t\tif (filter.state === null) filter.state = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet f = Storage.wrapPrefix('RESmodules.filteReddit.', (): any => ({}));\n\t\t\tfor (const [k, v] of Object.entries(await f.getAll())) {\n\t\t\t\tif (k.startsWith('commentDefault') || k.startsWith('postDefault')) {\n\t\t\t\t\tmigrateFilters(v);\n\t\t\t\t\tawait f.set(k, v); // eslint-disable-line no-await-in-loop\n\t\t\t\t} else {\n\t\t\t\t\tawait f.delete(k); // eslint-disable-line no-await-in-loop\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tf = Storage.wrapPrefix('filterline.', (): any => ({}));\n\t\t\tfor (const [k, v] of Object.entries(await f.getAll())) {\n\t\t\t\tif (v) {\n\t\t\t\t\t// This migration may already have been invoked for this filterline in a previous (failed) migration\n\t\t\t\t\tif (v.effects) continue;\n\t\t\t\t\tmigrateFilters(v.filters);\n\t\t\t\t\tv.lastUsed = Date.now();\n\t\t\t\t\tawait f.set(k, v); // eslint-disable-line no-await-in-loop\n\t\t\t\t} else {\n\t\t\t\t\tawait f.delete(k); // eslint-disable-line no-await-in-loop\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.14.1-filteReddit-user-hardIgnore',\n\t\tasync go() { /* Moved to next migration since option was deleted */ },\n\t}, {\n\t\tversionNumber: '5.14.2-filteReddit-user-hide-soft',\n\t\tasync go() { /* Moved to later migration since option was heavily adjust */ },\n\t}, {\n\t\tversionNumber: '5.14.2-filteReddit-migration-repair',\n\t\tasync go() {\n\t\t\t// Due to uncareful (and slow) migration in 5.14.0, filterlines migrated may have been\n\t\t\t// started over multiple times, resulting in filters erronously activating.\n\t\t\t// This tries to undo that by detecting whether all filters have been enabled,\n\t\t\t// and setting `hide` back to false if that's the case\n\t\t\tfunction migrateRepair(filters): ?true {\n\t\t\t\tconst allHidden = filters.every(([, filter]) => filter.effects && Object.keys(filter.effects).length === 1 && filter.effects.hide);\n\t\t\t\tif (allHidden) {\n\t\t\t\t\tfor (const [id, filter] of filters) {\n\t\t\t\t\t\tif (['users', 'subreddits', 'keywords', 'domains', 'flair'].includes(id)) continue;\n\t\t\t\t\t\tfilter.effects = { hide: false };\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet f = Storage.wrapPrefix('RESmodules.filteReddit.', (): any => ({}));\n\t\t\tfor (const [k, v] of Object.entries(await f.getAll())) {\n\t\t\t\tif (migrateRepair(Object.entries(v))) await f.set(k, v); // eslint-disable-line no-await-in-loop\n\t\t\t}\n\n\t\t\tf = Storage.wrapPrefix('filterline.', (): any => ({}));\n\t\t\tfor (const [k, v] of Object.entries(await f.getAll())) {\n\t\t\t\tconst filters = v && v.filters && Object.entries(v.filters);\n\t\t\t\tif (filters && filters.length) {\n\t\t\t\t\tif (migrateRepair(filters)) await f.set(k, v); // eslint-disable-line no-await-in-loop\n\t\t\t\t} else {\n\t\t\t\t\tawait f.delete(k); // eslint-disable-line no-await-in-loop\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.14.3-filteReddit-user-action-collapse',\n\t\tasync go() {\n\t\t\tconst hardIgnoreOption = await Options.get('userTagger', 'hardIgnore') ||\n\t\t\t\tawait Options.get('filteReddit', 'hardIgnoreUsers');\n\n\t\t\tlet hardIgnore = hardIgnoreOption ? hardIgnoreOption.value : true;\n\n\t\t\t// The usersMatchAction option may have been manually set to placeholder after 5.14\n\t\t\tconst usersMatchAction = await Options.get('filteReddit', 'usersMatchAction');\n\t\t\tif (usersMatchAction && usersMatchAction.value === 'placeholder') hardIgnore = false;\n\n\t\t\tawait Options.set('filteReddit', 'usersMatchAction', hardIgnore ? 'hide' : 'placeholder');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.14.4-new-module-subredditStyleToggle',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('styleTweaks', 'subredditStyleBrowserToolbarButton', 'subredditStyleToggle', 'browserToolbarButton');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'subredditStyleCheckbox', 'subredditStyleToggle', 'checkbox');\n\t\t\tconst ignored = await Storage.get('RESmodules.styleTweaks.ignoredSubredditStyles');\n\t\t\tif (ignored) {\n\t\t\t\tawait Storage.set('RESmodules.subredditStyleToggle.ignored', ignored);\n\t\t\t\tawait Storage.delete('RESmodules.styleTweaks.ignoredSubredditStyles');\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.14.4-prune-interface',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('newCommentCount', 'cleanComments', '7', '30');\n\t\t\tawait Storage.delete('RESmodules.readComments.lastClean');\n\t\t\tawait Storage.delete('RESmodules.newCommentCount.lastClean');\n\t\t\tawait Storage.delete('RESmodules.commentHidePersistor.lastClean');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.17.0-hover-instances-id',\n\t\tasync go() {\n\t\t\tconst instances = {};\n\t\t\tfor (const instance of await Options.getValue('hover', 'instances') || []) {\n\t\t\t\tconst id = instance[0] = instance[0].replace(/(dropdownList|infocard)\\./, '');\n\t\t\t\tif (!id || instances[id]) continue;\n\t\t\t\tinstances[id] = instance;\n\t\t\t}\n\n\t\t\tawait Options.set('hover', 'instances', Object.values(instances));\n\t\t},\n\t}, {\n\t\tversionNumber: '5.17.0-notifications',\n\t\tasync go() {\n\t\t\tStorage.delete('RESmodules.notifications.recent');\n\n\t\t\tconst instances = {};\n\t\t\tfor (const instance of await Options.getValue('notifications', 'notificationTypes') || []) {\n\t\t\t\tconst id = `${instance[0]}-${instance[1]}`;\n\t\t\t\tif (!id || instances[id]) continue;\n\t\t\t\tinstances[id] = [id, instance[2], instance[3]];\n\t\t\t}\n\n\t\t\tawait Options.set('notifications', 'notificationTypes', Object.values(instances));\n\t\t},\n\t}, {\n\t\tversionNumber: '5.17.0-firstRun-to-last',\n\t\tasync go() {\n\t\t\tconst firstRunStorage = Storage.wrapPrefix('RES.firstRun.', () => (null: null | boolean));\n\t\t\tconst versions = Object.keys(await firstRunStorage.getAll());\n\t\t\tversions.sort((a, b) => a.localeCompare(b, undefined, { numerical: true }));\n\t\t\tawait Storage.set('highestVersion', versions.slice(-1)[0] || null); await firstRunStorage.deleteMultiple(versions);\n\t\t},\n\t},\n\n]; // ^^ Add new migrations ^^\n\nconst _migrationsToRun = getMigrationsToRun();\n\nexport async function migrate() {\n\tconst migrations = await _migrationsToRun;\n\tif (!migrations.length) return;\n\n\tawait forEachSeq(migrations, async currentMigration => {\n\t\tconsole.log('Migratating', currentMigration.versionNumber);\n\t\tawait currentMigration.go();\n\t\t// Checkpoint, in case the next migration crashes\n\t\tStorage.set('RESOptionsVersion', currentMigration.versionNumber);\n\t});\n\n\tconsole.log('All remaining migrations completed.');\n}\n\nasync function getMigrationsToRun() {\n\tconst lastMigratedVersion = await getLastMigratedVersion();\n\n\t// false specifically; we want to run all migrations on `null`\n\tif (lastMigratedVersion === false) {\n\t\t// Set the migrated version to the current latest migration,\n\t\t// in case the above loop didn't run (i.e. on first install)\n\t\tStorage.set('RESOptionsVersion', migrations.slice(-1)[0].versionNumber);\n\t\treturn [];\n\t}\n\n\treturn takeRightWhile(migrations, ({ versionNumber }) => versionNumber !== lastMigratedVersion);\n}\n\n// Returns a string like \"4.5.0.1\" (the last migration run),\n// null (run all migrations), or false (do not run migrations)\nasync function getLastMigratedVersion(): Promise<string | null | false> {\n\tconst RESOptionsVersion = await Storage.get('RESOptionsVersion');\n\n\tif (typeof RESOptionsVersion === 'undefined') {\n\t\t// Error occured sometime in the past, abort\n\t\tconsole.warn('RESOptionsVersion was undefined');\n\t\treturn false;\n\t} else if (RESOptionsVersion !== null) {\n\t\t// Migration has run before; verify/sanitize the version number\n\t\tif ((/^\\d$/).test(RESOptionsVersion)) {\n\t\t\t// Legacy format: integer number\n\t\t\tconst legacyOptionVersionMapping = ['4.5.0.0', '4.5.0.1'];\n\t\t\treturn legacyOptionVersionMapping[RESOptionsVersion - 1];\n\t\t} else if (!migrations.map(m => m.versionNumber).includes(RESOptionsVersion)) {\n\t\t\t// Abort, abort! Probably downgraded\n\t\t\tconsole.warn(`Couldn't find a migration matching RESOptionsVersion = ${RESOptionsVersion}`);\n\t\t\treturn false;\n\t\t} else {\n\t\t\t// RESOptionsVersion is a valid migration version number\n\t\t\treturn RESOptionsVersion;\n\t\t}\n\t} else if (await Storage.has('RES.firstRun.4.5.0.2')) {\n\t\t// 4.5.0.2 bug: RESOptionsVersion was not set on fresh installs.\n\t\treturn '4.5.0.2';\n\t} else if (\n\t\tawait Storage.has('RES.firstRun.4.3.2.1') ||\n\t\tawait Storage.has('RES.firstRun.4.3.1.2') ||\n\t\tawait Storage.has('RES.firstRun.4.3.0.3') ||\n\t\tawait Storage.has('RES.firstRun.4.2.0.2') ||\n\t\tawait Storage.has('RES.firstRun.4.1.5')\n\t) {\n\t\t// Upgraded from old version to a version which supports migrations; run all migrations\n\t\treturn null;\n\t} else {\n\t\t// New install, no migrations necessary\n\t\treturn false;\n\t}\n}\n","/* @flow */\n\n// load environment listeners\nimport 'sibling-loader!./environment/background/ajax';\n\nimport { migrate } from './core/migrate';\n\nimport { addListener } from './environment/background/messaging';\n\nmigrate();\n\n// Restoring a backup may require migrations to be run\naddListener('runMigrations', migrate);\n"],"sourceRoot":""}